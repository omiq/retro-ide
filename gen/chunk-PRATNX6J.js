import{a as ya,b as Fi,c as ml}from"./chunk-T4FRG4BA.js";import{a as ba,b as wa,c as gl}from"./chunk-VBHZXTE2.js";import{t as ga,u as va}from"./chunk-LJINFNAP.js";import{$ as ma,B as Kt,C as fo,D as Ii,E as yi,F as Yi,H as po,R as ho,b as Cn,d as Rt,e as co,f as ut,g as wr,k as pa,m as Pn,n as kn,o as qi,p as gi,q as ha,v as Vi,w as Dt,x as vi}from"./chunk-KXQZZRQB.js";import{a as so,b as da,c as zi,d as lo,e as uo}from"./chunk-WAARL7ET.js";var go=lo((_a,mo)=>{(function(s){if(typeof _a=="object"&&typeof mo!="undefined")mo.exports=s();else if(typeof define=="function"&&define.amd)define([],s);else{var t;typeof window!="undefined"?t=window:typeof global!="undefined"?t=global:typeof self!="undefined"?t=self:t=this,t.localforage=s()}})(function(){var s,t,i;return function l(f,g,y){function _(ie,xe){if(!g[ie]){if(!f[ie]){var B=typeof zi=="function"&&zi;if(!xe&&B)return B(ie,!0);if(C)return C(ie,!0);var z=new Error("Cannot find module '"+ie+"'");throw z.code="MODULE_NOT_FOUND",z}var Z=g[ie]={exports:{}};f[ie][0].call(Z.exports,function(Te){var V=f[ie][1][Te];return _(V||Te)},Z,Z.exports,l,f,g,y)}return g[ie].exports}for(var C=typeof zi=="function"&&zi,O=0;O<y.length;O++)_(y[O]);return _}({1:[function(l,f,g){(function(y){"use strict";var _=y.MutationObserver||y.WebKitMutationObserver,C;if(_){var O=0,ie=new _(Te),xe=y.document.createTextNode("");ie.observe(xe,{characterData:!0}),C=function(){xe.data=O=++O%2}}else if(!y.setImmediate&&typeof y.MessageChannel!="undefined"){var B=new y.MessageChannel;B.port1.onmessage=Te,C=function(){B.port2.postMessage(0)}}else"document"in y&&"onreadystatechange"in y.document.createElement("script")?C=function(){var M=y.document.createElement("script");M.onreadystatechange=function(){Te(),M.onreadystatechange=null,M.parentNode.removeChild(M),M=null},y.document.documentElement.appendChild(M)}:C=function(){setTimeout(Te,0)};var z,Z=[];function Te(){z=!0;for(var M,H,F=Z.length;F;){for(H=Z,Z=[],M=-1;++M<F;)H[M]();F=Z.length}z=!1}f.exports=V;function V(M){Z.push(M)===1&&!z&&C()}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(l,f,g){"use strict";var y=l(1);function _(){}var C={},O=["REJECTED"],ie=["FULFILLED"],xe=["PENDING"];f.exports=B;function B(o){if(typeof o!="function")throw new TypeError("resolver must be a function");this.state=xe,this.queue=[],this.outcome=void 0,o!==_&&V(this,o)}B.prototype.catch=function(o){return this.then(null,o)},B.prototype.then=function(o,Ee){if(typeof o!="function"&&this.state===ie||typeof Ee!="function"&&this.state===O)return this;var le=new this.constructor(_);if(this.state!==xe){var Oe=this.state===ie?o:Ee;Z(le,Oe,this.outcome)}else this.queue.push(new z(le,o,Ee));return le};function z(o,Ee,le){this.promise=o,typeof Ee=="function"&&(this.onFulfilled=Ee,this.callFulfilled=this.otherCallFulfilled),typeof le=="function"&&(this.onRejected=le,this.callRejected=this.otherCallRejected)}z.prototype.callFulfilled=function(o){C.resolve(this.promise,o)},z.prototype.otherCallFulfilled=function(o){Z(this.promise,this.onFulfilled,o)},z.prototype.callRejected=function(o){C.reject(this.promise,o)},z.prototype.otherCallRejected=function(o){Z(this.promise,this.onRejected,o)};function Z(o,Ee,le){y(function(){var Oe;try{Oe=Ee(le)}catch(it){return C.reject(o,it)}Oe===o?C.reject(o,new TypeError("Cannot resolve promise with itself")):C.resolve(o,Oe)})}C.resolve=function(o,Ee){var le=M(Te,Ee);if(le.status==="error")return C.reject(o,le.value);var Oe=le.value;if(Oe)V(o,Oe);else{o.state=ie,o.outcome=Ee;for(var it=-1,Me=o.queue.length;++it<Me;)o.queue[it].callFulfilled(Ee)}return o},C.reject=function(o,Ee){o.state=O,o.outcome=Ee;for(var le=-1,Oe=o.queue.length;++le<Oe;)o.queue[le].callRejected(Ee);return o};function Te(o){var Ee=o&&o.then;if(o&&(typeof o=="object"||typeof o=="function")&&typeof Ee=="function")return function(){Ee.apply(o,arguments)}}function V(o,Ee){var le=!1;function Oe(Ze){le||(le=!0,C.reject(o,Ze))}function it(Ze){le||(le=!0,C.resolve(o,Ze))}function Me(){Ee(it,Oe)}var be=M(Me);be.status==="error"&&Oe(be.value)}function M(o,Ee){var le={};try{le.value=o(Ee),le.status="success"}catch(Oe){le.status="error",le.value=Oe}return le}B.resolve=H;function H(o){return o instanceof this?o:C.resolve(new this(_),o)}B.reject=F;function F(o){var Ee=new this(_);return C.reject(Ee,o)}B.all=N;function N(o){var Ee=this;if(Object.prototype.toString.call(o)!=="[object Array]")return this.reject(new TypeError("must be an array"));var le=o.length,Oe=!1;if(!le)return this.resolve([]);for(var it=new Array(le),Me=0,be=-1,Ze=new this(_);++be<le;)Ct(o[be],be);return Ze;function Ct(Tr,vt){Ee.resolve(Tr).then(Ar,function(yt){Oe||(Oe=!0,C.reject(Ze,yt))});function Ar(yt){it[vt]=yt,++Me===le&&!Oe&&(Oe=!0,C.resolve(Ze,it))}}}B.race=G;function G(o){var Ee=this;if(Object.prototype.toString.call(o)!=="[object Array]")return this.reject(new TypeError("must be an array"));var le=o.length,Oe=!1;if(!le)return this.resolve([]);for(var it=-1,Me=new this(_);++it<le;)be(o[it]);return Me;function be(Ze){Ee.resolve(Ze).then(function(Ct){Oe||(Oe=!0,C.resolve(Me,Ct))},function(Ct){Oe||(Oe=!0,C.reject(Me,Ct))})}}},{"1":1}],3:[function(l,f,g){(function(y){"use strict";typeof y.Promise!="function"&&(y.Promise=l(2))}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(l,f,g){"use strict";var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p};function _(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}function C(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch(p){return}}var O=C();function ie(){try{if(!O||!O.open)return!1;var p=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),w=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!p||w)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch(h){return!1}}function xe(p,w){p=p||[],w=w||{};try{return new Blob(p,w)}catch(T){if(T.name!=="TypeError")throw T;for(var h=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,A=new h,P=0;P<p.length;P+=1)A.append(p[P]);return A.getBlob(w.type)}}typeof Promise=="undefined"&&l(3);var B=Promise;function z(p,w){w&&p.then(function(h){w(null,h)},function(h){w(h)})}function Z(p,w,h){typeof w=="function"&&p.then(w),typeof h=="function"&&p.catch(h)}function Te(p){return typeof p!="string"&&(console.warn(p+" used as a key, but it is not a string."),p=String(p)),p}function V(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var M="local-forage-detect-blob-support",H=void 0,F={},N=Object.prototype.toString,G="readonly",o="readwrite";function Ee(p){for(var w=p.length,h=new ArrayBuffer(w),A=new Uint8Array(h),P=0;P<w;P++)A[P]=p.charCodeAt(P);return h}function le(p){return new B(function(w){var h=p.transaction(M,o),A=xe([""]);h.objectStore(M).put(A,"key"),h.onabort=function(P){P.preventDefault(),P.stopPropagation(),w(!1)},h.oncomplete=function(){var P=navigator.userAgent.match(/Chrome\/(\d+)/),T=navigator.userAgent.match(/Edge\//);w(T||!P||parseInt(P[1],10)>=43)}}).catch(function(){return!1})}function Oe(p){return typeof H=="boolean"?B.resolve(H):le(p).then(function(w){return H=w,H})}function it(p){var w=F[p.name],h={};h.promise=new B(function(A,P){h.resolve=A,h.reject=P}),w.deferredOperations.push(h),w.dbReady?w.dbReady=w.dbReady.then(function(){return h.promise}):w.dbReady=h.promise}function Me(p){var w=F[p.name],h=w.deferredOperations.pop();if(h)return h.resolve(),h.promise}function be(p,w){var h=F[p.name],A=h.deferredOperations.pop();if(A)return A.reject(w),A.promise}function Ze(p,w){return new B(function(h,A){if(F[p.name]=F[p.name]||Xe(),p.db)if(w)it(p),p.db.close();else return h(p.db);var P=[p.name];w&&P.push(p.version);var T=O.open.apply(O,P);w&&(T.onupgradeneeded=function(j){var q=T.result;try{q.createObjectStore(p.storeName),j.oldVersion<=1&&q.createObjectStore(M)}catch(J){if(J.name==="ConstraintError")console.warn('The database "'+p.name+'" has been upgraded from version '+j.oldVersion+" to version "+j.newVersion+', but the storage "'+p.storeName+'" already exists.');else throw J}}),T.onerror=function(j){j.preventDefault(),A(T.error)},T.onsuccess=function(){var j=T.result;j.onversionchange=function(q){q.target.close()},h(j),Me(p)}})}function Ct(p){return Ze(p,!1)}function Tr(p){return Ze(p,!0)}function vt(p,w){if(!p.db)return!0;var h=!p.db.objectStoreNames.contains(p.storeName),A=p.version<p.db.version,P=p.version>p.db.version;if(A&&(p.version!==w&&console.warn('The database "'+p.name+`" can't be downgraded from version `+p.db.version+" to version "+p.version+"."),p.version=p.db.version),P||h){if(h){var T=p.db.version+1;T>p.version&&(p.version=T)}return!0}return!1}function Ar(p){return new B(function(w,h){var A=new FileReader;A.onerror=h,A.onloadend=function(P){var T=btoa(P.target.result||"");w({__local_forage_encoded_blob:!0,data:T,type:p.type})},A.readAsBinaryString(p)})}function yt(p){var w=Ee(atob(p.data));return xe([w],{type:p.type})}function Zr(p){return p&&p.__local_forage_encoded_blob}function ei(p){var w=this,h=w._initReady().then(function(){var A=F[w._dbInfo.name];if(A&&A.dbReady)return A.dbReady});return Z(h,p,p),h}function Ye(p){it(p);for(var w=F[p.name],h=w.forages,A=0;A<h.length;A++){var P=h[A];P._dbInfo.db&&(P._dbInfo.db.close(),P._dbInfo.db=null)}return p.db=null,Ct(p).then(function(T){return p.db=T,vt(p)?Tr(p):T}).then(function(T){p.db=w.db=T;for(var j=0;j<h.length;j++)h[j]._dbInfo.db=T}).catch(function(T){throw be(p,T),T})}function bt(p,w,h,A){A===void 0&&(A=1);try{var P=p.db.transaction(p.storeName,w);h(null,P)}catch(T){if(A>0&&(!p.db||T.name==="InvalidStateError"||T.name==="NotFoundError"))return B.resolve().then(function(){if(!p.db||T.name==="NotFoundError"&&!p.db.objectStoreNames.contains(p.storeName)&&p.version<=p.db.version)return p.db&&(p.version=p.db.version+1),Tr(p)}).then(function(){return Ye(p).then(function(){bt(p,w,h,A-1)})}).catch(h);h(T)}}function Xe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ai(p){var w=this,h={db:null};if(p)for(var A in p)h[A]=p[A];var P=F[h.name];P||(P=Xe(),F[h.name]=P),P.forages.push(w),w._initReady||(w._initReady=w.ready,w.ready=ei);var T=[];function j(){return B.resolve()}for(var q=0;q<P.forages.length;q++){var J=P.forages[q];J!==w&&T.push(J._initReady().catch(j))}var Q=P.forages.slice(0);return B.all(T).then(function(){return h.db=P.db,Ct(h)}).then(function(Y){return h.db=Y,vt(h,w._defaultConfig.version)?Tr(h):Y}).then(function(Y){h.db=P.db=Y,w._dbInfo=h;for(var ce=0;ce<Q.length;ce++){var _e=Q[ce];_e!==w&&(_e._dbInfo.db=h.db,_e._dbInfo.version=h.version)}})}function Be(p,w){var h=this;p=Te(p);var A=new B(function(P,T){h.ready().then(function(){bt(h._dbInfo,G,function(j,q){if(j)return T(j);try{var J=q.objectStore(h._dbInfo.storeName),Q=J.get(p);Q.onsuccess=function(){var Y=Q.result;Y===void 0&&(Y=null),Zr(Y)&&(Y=yt(Y)),P(Y)},Q.onerror=function(){T(Q.error)}}catch(Y){T(Y)}})}).catch(T)});return z(A,w),A}function Sr(p,w){var h=this,A=new B(function(P,T){h.ready().then(function(){bt(h._dbInfo,G,function(j,q){if(j)return T(j);try{var J=q.objectStore(h._dbInfo.storeName),Q=J.openCursor(),Y=1;Q.onsuccess=function(){var ce=Q.result;if(ce){var _e=ce.value;Zr(_e)&&(_e=yt(_e));var Fe=p(_e,ce.key,Y++);Fe!==void 0?P(Fe):ce.continue()}else P()},Q.onerror=function(){T(Q.error)}}catch(ce){T(ce)}})}).catch(T)});return z(A,w),A}function ti(p,w,h){var A=this;p=Te(p);var P=new B(function(T,j){var q;A.ready().then(function(){return q=A._dbInfo,N.call(w)==="[object Blob]"?Oe(q.db).then(function(J){return J?w:Ar(w)}):w}).then(function(J){bt(A._dbInfo,o,function(Q,Y){if(Q)return j(Q);try{var ce=Y.objectStore(A._dbInfo.storeName);J===null&&(J=void 0);var _e=ce.put(J,p);Y.oncomplete=function(){J===void 0&&(J=null),T(J)},Y.onabort=Y.onerror=function(){var Fe=_e.error?_e.error:_e.transaction.error;j(Fe)}}catch(Fe){j(Fe)}})}).catch(j)});return z(P,h),P}function ri(p,w){var h=this;p=Te(p);var A=new B(function(P,T){h.ready().then(function(){bt(h._dbInfo,o,function(j,q){if(j)return T(j);try{var J=q.objectStore(h._dbInfo.storeName),Q=J.delete(p);q.oncomplete=function(){P()},q.onerror=function(){T(Q.error)},q.onabort=function(){var Y=Q.error?Q.error:Q.transaction.error;T(Y)}}catch(Y){T(Y)}})}).catch(T)});return z(A,w),A}function wt(p){var w=this,h=new B(function(A,P){w.ready().then(function(){bt(w._dbInfo,o,function(T,j){if(T)return P(T);try{var q=j.objectStore(w._dbInfo.storeName),J=q.clear();j.oncomplete=function(){A()},j.onabort=j.onerror=function(){var Q=J.error?J.error:J.transaction.error;P(Q)}}catch(Q){P(Q)}})}).catch(P)});return z(h,p),h}function Si(p){var w=this,h=new B(function(A,P){w.ready().then(function(){bt(w._dbInfo,G,function(T,j){if(T)return P(T);try{var q=j.objectStore(w._dbInfo.storeName),J=q.count();J.onsuccess=function(){A(J.result)},J.onerror=function(){P(J.error)}}catch(Q){P(Q)}})}).catch(P)});return z(h,p),h}function Zt(p,w){var h=this,A=new B(function(P,T){if(p<0){P(null);return}h.ready().then(function(){bt(h._dbInfo,G,function(j,q){if(j)return T(j);try{var J=q.objectStore(h._dbInfo.storeName),Q=!1,Y=J.openKeyCursor();Y.onsuccess=function(){var ce=Y.result;if(!ce){P(null);return}p===0||Q?P(ce.key):(Q=!0,ce.advance(p))},Y.onerror=function(){T(Y.error)}}catch(ce){T(ce)}})}).catch(T)});return z(A,w),A}function Wt(p){var w=this,h=new B(function(A,P){w.ready().then(function(){bt(w._dbInfo,G,function(T,j){if(T)return P(T);try{var q=j.objectStore(w._dbInfo.storeName),J=q.openKeyCursor(),Q=[];J.onsuccess=function(){var Y=J.result;if(!Y){A(Q);return}Q.push(Y.key),Y.continue()},J.onerror=function(){P(J.error)}}catch(Y){P(Y)}})}).catch(P)});return z(h,p),h}function $r(p,w){w=V.apply(this,arguments);var h=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||h.name,p.storeName=p.storeName||h.storeName);var A=this,P;if(!p.name)P=B.reject("Invalid arguments");else{var T=p.name===h.name&&A._dbInfo.db,j=T?B.resolve(A._dbInfo.db):Ct(p).then(function(q){var J=F[p.name],Q=J.forages;J.db=q;for(var Y=0;Y<Q.length;Y++)Q[Y]._dbInfo.db=q;return q});p.storeName?P=j.then(function(q){if(!!q.objectStoreNames.contains(p.storeName)){var J=q.version+1;it(p);var Q=F[p.name],Y=Q.forages;q.close();for(var ce=0;ce<Y.length;ce++){var _e=Y[ce];_e._dbInfo.db=null,_e._dbInfo.version=J}var Fe=new B(function(Ne,We){var $e=O.open(p.name,J);$e.onerror=function(Tt){var di=$e.result;di.close(),We(Tt)},$e.onupgradeneeded=function(){var Tt=$e.result;Tt.deleteObjectStore(p.storeName)},$e.onsuccess=function(){var Tt=$e.result;Tt.close(),Ne(Tt)}});return Fe.then(function(Ne){Q.db=Ne;for(var We=0;We<Y.length;We++){var $e=Y[We];$e._dbInfo.db=Ne,Me($e._dbInfo)}}).catch(function(Ne){throw(be(p,Ne)||B.resolve()).catch(function(){}),Ne})}}):P=j.then(function(q){it(p);var J=F[p.name],Q=J.forages;q.close();for(var Y=0;Y<Q.length;Y++){var ce=Q[Y];ce._dbInfo.db=null}var _e=new B(function(Fe,Ne){var We=O.deleteDatabase(p.name);We.onerror=function(){var $e=We.result;$e&&$e.close(),Ne(We.error)},We.onblocked=function(){console.warn('dropInstance blocked for database "'+p.name+'" until all open connections are closed')},We.onsuccess=function(){var $e=We.result;$e&&$e.close(),Fe($e)}});return _e.then(function(Fe){J.db=Fe;for(var Ne=0;Ne<Q.length;Ne++){var We=Q[Ne];Me(We._dbInfo)}}).catch(function(Fe){throw(be(p,Fe)||B.resolve()).catch(function(){}),Fe})})}return z(P,w),P}var er={_driver:"asyncStorage",_initStorage:Ai,_support:ie(),iterate:Sr,getItem:Be,setItem:ti,removeItem:ri,clear:wt,length:Si,key:Zt,keys:Wt,dropInstance:$r};function Cr(){return typeof openDatabase=="function"}var ft="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ct="~~local_forage_type~",Pr=/^~~local_forage_type~([^~]+)~/,tr="__lfsc__:",Ur=tr.length,dt="arbf",rr="blob",zt="si08",se="ui08",qe="uic8",ir="si16",ii="si32",ni="ur16",Wr="ui32",kr="fl32",nr="fl64",pt=Ur+dt.length,Pt=Object.prototype.toString;function st(p){var w=p.length*.75,h=p.length,A,P=0,T,j,q,J;p[p.length-1]==="="&&(w--,p[p.length-2]==="="&&w--);var Q=new ArrayBuffer(w),Y=new Uint8Array(Q);for(A=0;A<h;A+=4)T=ft.indexOf(p[A]),j=ft.indexOf(p[A+1]),q=ft.indexOf(p[A+2]),J=ft.indexOf(p[A+3]),Y[P++]=T<<2|j>>4,Y[P++]=(j&15)<<4|q>>2,Y[P++]=(q&3)<<6|J&63;return Q}function qt(p){var w=new Uint8Array(p),h="",A;for(A=0;A<w.length;A+=3)h+=ft[w[A]>>2],h+=ft[(w[A]&3)<<4|w[A+1]>>4],h+=ft[(w[A+1]&15)<<2|w[A+2]>>6],h+=ft[w[A+2]&63];return w.length%3==2?h=h.substring(0,h.length-1)+"=":w.length%3==1&&(h=h.substring(0,h.length-2)+"=="),h}function pr(p,w){var h="";if(p&&(h=Pt.call(p)),p&&(h==="[object ArrayBuffer]"||p.buffer&&Pt.call(p.buffer)==="[object ArrayBuffer]")){var A,P=tr;p instanceof ArrayBuffer?(A=p,P+=dt):(A=p.buffer,h==="[object Int8Array]"?P+=zt:h==="[object Uint8Array]"?P+=se:h==="[object Uint8ClampedArray]"?P+=qe:h==="[object Int16Array]"?P+=ir:h==="[object Uint16Array]"?P+=ni:h==="[object Int32Array]"?P+=ii:h==="[object Uint32Array]"?P+=Wr:h==="[object Float32Array]"?P+=kr:h==="[object Float64Array]"?P+=nr:w(new Error("Failed to get type for BinaryArray"))),w(P+qt(A))}else if(h==="[object Blob]"){var T=new FileReader;T.onload=function(){var j=ct+p.type+"~"+qt(this.result);w(tr+rr+j)},T.readAsArrayBuffer(p)}else try{w(JSON.stringify(p))}catch(j){console.error("Couldn't convert value into a JSON string: ",p),w(null,j)}}function Hr(p){if(p.substring(0,Ur)!==tr)return JSON.parse(p);var w=p.substring(pt),h=p.substring(Ur,pt),A;if(h===rr&&Pr.test(w)){var P=w.match(Pr);A=P[1],w=w.substring(P[0].length)}var T=st(w);switch(h){case dt:return T;case rr:return xe([T],{type:A});case zt:return new Int8Array(T);case se:return new Uint8Array(T);case qe:return new Uint8ClampedArray(T);case ir:return new Int16Array(T);case ni:return new Uint16Array(T);case ii:return new Int32Array(T);case Wr:return new Uint32Array(T);case kr:return new Float32Array(T);case nr:return new Float64Array(T);default:throw new Error("Unkown type: "+h)}}var Br={serialize:pr,deserialize:Hr,stringToBuffer:st,bufferToString:qt};function Rr(p,w,h,A){p.executeSql("CREATE TABLE IF NOT EXISTS "+w.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],h,A)}function Ht(p){var w=this,h={db:null};if(p)for(var A in p)h[A]=typeof p[A]!="string"?p[A].toString():p[A];var P=new B(function(T,j){try{h.db=openDatabase(h.name,String(h.version),h.description,h.size)}catch(q){return j(q)}h.db.transaction(function(q){Rr(q,h,function(){w._dbInfo=h,T()},function(J,Q){j(Q)})},j)});return h.serializer=Br,P}function _t(p,w,h,A,P,T){p.executeSql(h,A,P,function(j,q){q.code===q.SYNTAX_ERR?j.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[w.storeName],function(J,Q){Q.rows.length?T(J,q):Rr(J,w,function(){J.executeSql(h,A,P,T)},T)},T):T(j,q)},T)}function hr(p,w){var h=this;p=Te(p);var A=new B(function(P,T){h.ready().then(function(){var j=h._dbInfo;j.db.transaction(function(q){_t(q,j,"SELECT * FROM "+j.storeName+" WHERE key = ? LIMIT 1",[p],function(J,Q){var Y=Q.rows.length?Q.rows.item(0).value:null;Y&&(Y=j.serializer.deserialize(Y)),P(Y)},function(J,Q){T(Q)})})}).catch(T)});return z(A,w),A}function Ci(p,w){var h=this,A=new B(function(P,T){h.ready().then(function(){var j=h._dbInfo;j.db.transaction(function(q){_t(q,j,"SELECT * FROM "+j.storeName,[],function(J,Q){for(var Y=Q.rows,ce=Y.length,_e=0;_e<ce;_e++){var Fe=Y.item(_e),Ne=Fe.value;if(Ne&&(Ne=j.serializer.deserialize(Ne)),Ne=p(Ne,Fe.key,_e+1),Ne!==void 0){P(Ne);return}}P()},function(J,Q){T(Q)})})}).catch(T)});return z(A,w),A}function ht(p,w,h,A){var P=this;p=Te(p);var T=new B(function(j,q){P.ready().then(function(){w===void 0&&(w=null);var J=w,Q=P._dbInfo;Q.serializer.serialize(w,function(Y,ce){ce?q(ce):Q.db.transaction(function(_e){_t(_e,Q,"INSERT OR REPLACE INTO "+Q.storeName+" (key, value) VALUES (?, ?)",[p,Y],function(){j(J)},function(Fe,Ne){q(Ne)})},function(_e){if(_e.code===_e.QUOTA_ERR){if(A>0){j(ht.apply(P,[p,J,h,A-1]));return}q(_e)}})})}).catch(q)});return z(T,h),T}function Re(p,w,h){return ht.apply(this,[p,w,h,1])}function Vt(p,w){var h=this;p=Te(p);var A=new B(function(P,T){h.ready().then(function(){var j=h._dbInfo;j.db.transaction(function(q){_t(q,j,"DELETE FROM "+j.storeName+" WHERE key = ?",[p],function(){P()},function(J,Q){T(Q)})})}).catch(T)});return z(A,w),A}function $i(p){var w=this,h=new B(function(A,P){w.ready().then(function(){var T=w._dbInfo;T.db.transaction(function(j){_t(j,T,"DELETE FROM "+T.storeName,[],function(){A()},function(q,J){P(J)})})}).catch(P)});return z(h,p),h}function oi(p){var w=this,h=new B(function(A,P){w.ready().then(function(){var T=w._dbInfo;T.db.transaction(function(j){_t(j,T,"SELECT COUNT(key) as c FROM "+T.storeName,[],function(q,J){var Q=J.rows.item(0).c;A(Q)},function(q,J){P(J)})})}).catch(P)});return z(h,p),h}function Gr(p,w){var h=this,A=new B(function(P,T){h.ready().then(function(){var j=h._dbInfo;j.db.transaction(function(q){_t(q,j,"SELECT key FROM "+j.storeName+" WHERE id = ? LIMIT 1",[p+1],function(J,Q){var Y=Q.rows.length?Q.rows.item(0).key:null;P(Y)},function(J,Q){T(Q)})})}).catch(T)});return z(A,w),A}function or(p){var w=this,h=new B(function(A,P){w.ready().then(function(){var T=w._dbInfo;T.db.transaction(function(j){_t(j,T,"SELECT key FROM "+T.storeName,[],function(q,J){for(var Q=[],Y=0;Y<J.rows.length;Y++)Q.push(J.rows.item(Y).key);A(Q)},function(q,J){P(J)})})}).catch(P)});return z(h,p),h}function ar(p){return new B(function(w,h){p.transaction(function(A){A.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(P,T){for(var j=[],q=0;q<T.rows.length;q++)j.push(T.rows.item(q).name);w({db:p,storeNames:j})},function(P,T){h(T)})},function(A){h(A)})})}function ai(p,w){w=V.apply(this,arguments);var h=this.config();p=typeof p!="function"&&p||{},p.name||(p.name=p.name||h.name,p.storeName=p.storeName||h.storeName);var A=this,P;return p.name?P=new B(function(T){var j;p.name===h.name?j=A._dbInfo.db:j=openDatabase(p.name,"","",0),p.storeName?T({db:j,storeNames:[p.storeName]}):T(ar(j))}).then(function(T){return new B(function(j,q){T.db.transaction(function(J){function Q(Fe){return new B(function(Ne,We){J.executeSql("DROP TABLE IF EXISTS "+Fe,[],function(){Ne()},function($e,Tt){We(Tt)})})}for(var Y=[],ce=0,_e=T.storeNames.length;ce<_e;ce++)Y.push(Q(T.storeNames[ce]));B.all(Y).then(function(){j()}).catch(function(Fe){q(Fe)})},function(J){q(J)})})}):P=B.reject("Invalid arguments"),z(P,w),P}var mt={_driver:"webSQLStorage",_initStorage:Ht,_support:Cr(),iterate:Ci,getItem:hr,setItem:Re,removeItem:Vt,clear:$i,length:oi,key:Gr,keys:or,dropInstance:ai};function zr(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(p){return!1}}function si(p,w){var h=p.name+"/";return p.storeName!==w.storeName&&(h+=p.storeName+"/"),h}function Pi(){var p="_localforage_support_test";try{return localStorage.setItem(p,!0),localStorage.removeItem(p),!1}catch(w){return!0}}function qr(){return!Pi()||localStorage.length>0}function ki(p){var w=this,h={};if(p)for(var A in p)h[A]=p[A];return h.keyPrefix=si(p,w._defaultConfig),qr()?(w._dbInfo=h,h.serializer=Br,B.resolve()):B.reject()}function Bt(p){var w=this,h=w.ready().then(function(){for(var A=w._dbInfo.keyPrefix,P=localStorage.length-1;P>=0;P--){var T=localStorage.key(P);T.indexOf(A)===0&&localStorage.removeItem(T)}});return z(h,p),h}function li(p,w){var h=this;p=Te(p);var A=h.ready().then(function(){var P=h._dbInfo,T=localStorage.getItem(P.keyPrefix+p);return T&&(T=P.serializer.deserialize(T)),T});return z(A,w),A}function Ri(p,w){var h=this,A=h.ready().then(function(){for(var P=h._dbInfo,T=P.keyPrefix,j=T.length,q=localStorage.length,J=1,Q=0;Q<q;Q++){var Y=localStorage.key(Q);if(Y.indexOf(T)===0){var ce=localStorage.getItem(Y);if(ce&&(ce=P.serializer.deserialize(ce)),ce=p(ce,Y.substring(j),J++),ce!==void 0)return ce}}});return z(A,w),A}function sr(p,w){var h=this,A=h.ready().then(function(){var P=h._dbInfo,T;try{T=localStorage.key(p)}catch(j){T=null}return T&&(T=T.substring(P.keyPrefix.length)),T});return z(A,w),A}function ui(p){var w=this,h=w.ready().then(function(){for(var A=w._dbInfo,P=localStorage.length,T=[],j=0;j<P;j++){var q=localStorage.key(j);q.indexOf(A.keyPrefix)===0&&T.push(q.substring(A.keyPrefix.length))}return T});return z(h,p),h}function ci(p){var w=this,h=w.keys().then(function(A){return A.length});return z(h,p),h}function fe(p,w){var h=this;p=Te(p);var A=h.ready().then(function(){var P=h._dbInfo;localStorage.removeItem(P.keyPrefix+p)});return z(A,w),A}function E(p,w,h){var A=this;p=Te(p);var P=A.ready().then(function(){w===void 0&&(w=null);var T=w;return new B(function(j,q){var J=A._dbInfo;J.serializer.serialize(w,function(Q,Y){if(Y)q(Y);else try{localStorage.setItem(J.keyPrefix+p,Q),j(T)}catch(ce){(ce.name==="QuotaExceededError"||ce.name==="NS_ERROR_DOM_QUOTA_REACHED")&&q(ce),q(ce)}})})});return z(P,h),P}function K(p,w){if(w=V.apply(this,arguments),p=typeof p!="function"&&p||{},!p.name){var h=this.config();p.name=p.name||h.name,p.storeName=p.storeName||h.storeName}var A=this,P;return p.name?P=new B(function(T){p.storeName?T(si(p,A._defaultConfig)):T(p.name+"/")}).then(function(T){for(var j=localStorage.length-1;j>=0;j--){var q=localStorage.key(j);q.indexOf(T)===0&&localStorage.removeItem(q)}}):P=B.reject("Invalid arguments"),z(P,w),P}var ue={_driver:"localStorageWrapper",_initStorage:ki,_support:zr(),iterate:Ri,getItem:li,setItem:E,removeItem:fe,clear:Bt,length:ci,key:sr,keys:ui,dropInstance:K},Ie=function(w,h){return w===h||typeof w=="number"&&typeof h=="number"&&isNaN(w)&&isNaN(h)},nt=function(w,h){for(var A=w.length,P=0;P<A;){if(Ie(w[P],h))return!0;P++}return!1},Ke=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"},Je={},xt={},jt={INDEXEDDB:er,WEBSQL:mt,LOCALSTORAGE:ue},ot=[jt.INDEXEDDB._driver,jt.WEBSQL._driver,jt.LOCALSTORAGE._driver],Dr=["dropInstance"],Vr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Dr),yn={description:"",driver:ot.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function bn(p,w){p[w]=function(){var h=arguments;return p.ready().then(function(){return p[w].apply(p,h)})}}function fi(){for(var p=1;p<arguments.length;p++){var w=arguments[p];if(w)for(var h in w)w.hasOwnProperty(h)&&(Ke(w[h])?arguments[0][h]=w[h].slice():arguments[0][h]=w[h])}return arguments[0]}var wn=function(){function p(w){_(this,p);for(var h in jt)if(jt.hasOwnProperty(h)){var A=jt[h],P=A._driver;this[h]=P,Je[P]||this.defineDriver(A)}this._defaultConfig=fi({},yn),this._config=fi({},this._defaultConfig,w),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return p.prototype.config=function(h){if((typeof h=="undefined"?"undefined":y(h))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var A in h){if(A==="storeName"&&(h[A]=h[A].replace(/\W/g,"_")),A==="version"&&typeof h[A]!="number")return new Error("Database version must be a number.");this._config[A]=h[A]}return"driver"in h&&h.driver?this.setDriver(this._config.driver):!0}else return typeof h=="string"?this._config[h]:this._config},p.prototype.defineDriver=function(h,A,P){var T=new B(function(j,q){try{var J=h._driver,Q=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!h._driver){q(Q);return}for(var Y=Vr.concat("_initStorage"),ce=0,_e=Y.length;ce<_e;ce++){var Fe=Y[ce],Ne=!nt(Dr,Fe);if((Ne||h[Fe])&&typeof h[Fe]!="function"){q(Q);return}}var We=function(){for(var di=function(xn){return function(){var Yn=new Error("Method "+xn+" is not implemented by the current driver"),Ui=B.reject(Yn);return z(Ui,arguments[arguments.length-1]),Ui}},Lr=0,_n=Dr.length;Lr<_n;Lr++){var pi=Dr[Lr];h[pi]||(h[pi]=di(pi))}};We();var $e=function(di){Je[J]&&console.info("Redefining LocalForage driver: "+J),Je[J]=h,xt[J]=di,j()};"_support"in h?h._support&&typeof h._support=="function"?h._support().then($e,q):$e(!!h._support):$e(!0)}catch(Tt){q(Tt)}});return Z(T,A,P),T},p.prototype.driver=function(){return this._driver||null},p.prototype.getDriver=function(h,A,P){var T=Je[h]?B.resolve(Je[h]):B.reject(new Error("Driver not found."));return Z(T,A,P),T},p.prototype.getSerializer=function(h){var A=B.resolve(Br);return Z(A,h),A},p.prototype.ready=function(h){var A=this,P=A._driverSet.then(function(){return A._ready===null&&(A._ready=A._initDriver()),A._ready});return Z(P,h,h),P},p.prototype.setDriver=function(h,A,P){var T=this;Ke(h)||(h=[h]);var j=this._getSupportedDrivers(h);function q(){T._config.driver=T.driver()}function J(ce){return T._extend(ce),q(),T._ready=T._initStorage(T._config),T._ready}function Q(ce){return function(){var _e=0;function Fe(){for(;_e<ce.length;){var Ne=ce[_e];return _e++,T._dbInfo=null,T._ready=null,T.getDriver(Ne).then(J).catch(Fe)}q();var We=new Error("No available storage method found.");return T._driverSet=B.reject(We),T._driverSet}return Fe()}}var Y=this._driverSet!==null?this._driverSet.catch(function(){return B.resolve()}):B.resolve();return this._driverSet=Y.then(function(){var ce=j[0];return T._dbInfo=null,T._ready=null,T.getDriver(ce).then(function(_e){T._driver=_e._driver,q(),T._wrapLibraryMethodsWithReady(),T._initDriver=Q(j)})}).catch(function(){q();var ce=new Error("No available storage method found.");return T._driverSet=B.reject(ce),T._driverSet}),Z(this._driverSet,A,P),this._driverSet},p.prototype.supports=function(h){return!!xt[h]},p.prototype._extend=function(h){fi(this,h)},p.prototype._getSupportedDrivers=function(h){for(var A=[],P=0,T=h.length;P<T;P++){var j=h[P];this.supports(j)&&A.push(j)}return A},p.prototype._wrapLibraryMethodsWithReady=function(){for(var h=0,A=Vr.length;h<A;h++)bn(this,Vr[h])},p.prototype.createInstance=function(h){return new p(h)},p}(),Et=new wn;f.exports=Et},{"3":3}]},{},[4])(4)})});var Sa=lo((Aa,Dn)=>{(function(s,t){"use strict";typeof Dn=="object"&&typeof Dn.exports=="object"?Dn.exports=s.document?t(s,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return t(i)}:t(s)})(typeof window!="undefined"?window:Aa,function(s,t){"use strict";var i=[],l=Object.getPrototypeOf,f=i.slice,g=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},y=i.push,_=i.indexOf,C={},O=C.toString,ie=C.hasOwnProperty,xe=ie.toString,B=xe.call(Object),z={},Z=function(r){return typeof r=="function"&&typeof r.nodeType!="number"&&typeof r.item!="function"},Te=function(r){return r!=null&&r===r.window},V=s.document,M={type:!0,src:!0,nonce:!0,noModule:!0};function H(e,r,n){n=n||V;var a,u,c=n.createElement("script");if(c.text=e,r)for(a in M)u=r[a]||r.getAttribute&&r.getAttribute(a),u&&c.setAttribute(a,u);n.head.appendChild(c).parentNode.removeChild(c)}function F(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?C[O.call(e)]||"object":typeof e}var N="3.7.1",G=/HTML$/i,o=function(e,r){return new o.fn.init(e,r)};o.fn=o.prototype={jquery:N,constructor:o,length:0,toArray:function(){return f.call(this)},get:function(e){return e==null?f.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var r=o.merge(this.constructor(),e);return r.prevObject=this,r},each:function(e){return o.each(this,e)},map:function(e){return this.pushStack(o.map(this,function(r,n){return e.call(r,n,r)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(o.grep(this,function(e,r){return(r+1)%2}))},odd:function(){return this.pushStack(o.grep(this,function(e,r){return r%2}))},eq:function(e){var r=this.length,n=+e+(e<0?r:0);return this.pushStack(n>=0&&n<r?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:y,sort:i.sort,splice:i.splice},o.extend=o.fn.extend=function(){var e,r,n,a,u,c,d=arguments[0]||{},b=1,v=arguments.length,S=!1;for(typeof d=="boolean"&&(S=d,d=arguments[b]||{},b++),typeof d!="object"&&!Z(d)&&(d={}),b===v&&(d=this,b--);b<v;b++)if((e=arguments[b])!=null)for(r in e)a=e[r],!(r==="__proto__"||d===a)&&(S&&a&&(o.isPlainObject(a)||(u=Array.isArray(a)))?(n=d[r],u&&!Array.isArray(n)?c=[]:!u&&!o.isPlainObject(n)?c={}:c=n,u=!1,d[r]=o.extend(S,c,a)):a!==void 0&&(d[r]=a));return d},o.extend({expando:"jQuery"+(N+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var r,n;return!e||O.call(e)!=="[object Object]"?!1:(r=l(e),r?(n=ie.call(r,"constructor")&&r.constructor,typeof n=="function"&&xe.call(n)===B):!0)},isEmptyObject:function(e){var r;for(r in e)return!1;return!0},globalEval:function(e,r,n){H(e,{nonce:r&&r.nonce},n)},each:function(e,r){var n,a=0;if(Ee(e))for(n=e.length;a<n&&r.call(e[a],a,e[a])!==!1;a++);else for(a in e)if(r.call(e[a],a,e[a])===!1)break;return e},text:function(e){var r,n="",a=0,u=e.nodeType;if(!u)for(;r=e[a++];)n+=o.text(r);return u===1||u===11?e.textContent:u===9?e.documentElement.textContent:u===3||u===4?e.nodeValue:n},makeArray:function(e,r){var n=r||[];return e!=null&&(Ee(Object(e))?o.merge(n,typeof e=="string"?[e]:e):y.call(n,e)),n},inArray:function(e,r,n){return r==null?-1:_.call(r,e,n)},isXMLDoc:function(e){var r=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!G.test(r||n&&n.nodeName||"HTML")},merge:function(e,r){for(var n=+r.length,a=0,u=e.length;a<n;a++)e[u++]=r[a];return e.length=u,e},grep:function(e,r,n){for(var a,u=[],c=0,d=e.length,b=!n;c<d;c++)a=!r(e[c],c),a!==b&&u.push(e[c]);return u},map:function(e,r,n){var a,u,c=0,d=[];if(Ee(e))for(a=e.length;c<a;c++)u=r(e[c],c,n),u!=null&&d.push(u);else for(c in e)u=r(e[c],c,n),u!=null&&d.push(u);return g(d)},guid:1,support:z}),typeof Symbol=="function"&&(o.fn[Symbol.iterator]=i[Symbol.iterator]),o.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,r){C["[object "+r+"]"]=r.toLowerCase()});function Ee(e){var r=!!e&&"length"in e&&e.length,n=F(e);return Z(e)||Te(e)?!1:n==="array"||r===0||typeof r=="number"&&r>0&&r-1 in e}function le(e,r){return e.nodeName&&e.nodeName.toLowerCase()===r.toLowerCase()}var Oe=i.pop,it=i.sort,Me=i.splice,be="[\\x20\\t\\r\\n\\f]",Ze=new RegExp("^"+be+"+|((?:^|[^\\\\])(?:\\\\.)*)"+be+"+$","g");o.contains=function(e,r){var n=r&&r.parentNode;return e===n||!!(n&&n.nodeType===1&&(e.contains?e.contains(n):e.compareDocumentPosition&&e.compareDocumentPosition(n)&16))};var Ct=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Tr(e,r){return r?e==="\0"?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}o.escapeSelector=function(e){return(e+"").replace(Ct,Tr)};var vt=V,Ar=y;(function(){var e,r,n,a,u,c=Ar,d,b,v,S,I,W=o.expando,D=0,X=0,ve=En(),De=En(),Ae=En(),gt=En(),lt=function(m,x){return m===x&&(u=!0),0},mr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",gr="(?:\\\\[\\da-fA-F]{1,6}"+be+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ke="\\["+be+"*("+gr+")(?:"+be+"*([*^$|!~]?=)"+be+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+gr+"))|)"+be+"*\\]",hi=":("+gr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ke+")*)|.*)\\)|)",Le=new RegExp(be+"+","g"),et=new RegExp("^"+be+"*,"+be+"*"),Hi=new RegExp("^"+be+"*([>+~]|"+be+")"+be+"*"),eo=new RegExp(be+"|>"),vr=new RegExp(hi),Bi=new RegExp("^"+gr+"$"),yr={ID:new RegExp("^#("+gr+")"),CLASS:new RegExp("^\\.("+gr+")"),TAG:new RegExp("^("+gr+"|[*])"),ATTR:new RegExp("^"+ke),PSEUDO:new RegExp("^"+hi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+be+"*(even|odd|(([+-]|)(\\d*)n|)"+be+"*(?:([+-]|)"+be+"*(\\d+)|))"+be+"*\\)|)","i"),bool:new RegExp("^(?:"+mr+")$","i"),needsContext:new RegExp("^"+be+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+be+"*((?:-\\d)?\\d*)"+be+"*\\)|)(?=[^-]|$)","i")},Yr=/^(?:input|select|textarea|button)$/i,Xr=/^h\d$/i,Yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,to=/[+~]/,Ir=new RegExp("\\\\[\\da-fA-F]{1,6}"+be+"?|\\\\([^\\r\\n\\f])","g"),Fr=function(m,x){var R="0x"+m.slice(1)-65536;return x||(R<0?String.fromCharCode(R+65536):String.fromCharCode(R>>10|55296,R&1023|56320))},ll=function(){Kr()},ul=An(function(m){return m.disabled===!0&&le(m,"fieldset")},{dir:"parentNode",next:"legend"});function cl(){try{return d.activeElement}catch(m){}}try{c.apply(i=f.call(vt.childNodes),vt.childNodes),i[vt.childNodes.length].nodeType}catch(m){c={apply:function(x,R){Ar.apply(x,f.call(R))},call:function(x){Ar.apply(x,f.call(arguments,1))}}}function Ue(m,x,R,L){var U,ee,ne,de,oe,Se,ge,we=x&&x.ownerDocument,Ce=x?x.nodeType:9;if(R=R||[],typeof m!="string"||!m||Ce!==1&&Ce!==9&&Ce!==11)return R;if(!L&&(Kr(x),x=x||d,v)){if(Ce!==11&&(oe=Yt.exec(m)))if(U=oe[1]){if(Ce===9)if(ne=x.getElementById(U)){if(ne.id===U)return c.call(R,ne),R}else return R;else if(we&&(ne=we.getElementById(U))&&Ue.contains(x,ne)&&ne.id===U)return c.call(R,ne),R}else{if(oe[2])return c.apply(R,x.getElementsByTagName(m)),R;if((U=oe[3])&&x.getElementsByClassName)return c.apply(R,x.getElementsByClassName(U)),R}if(!gt[m+" "]&&(!S||!S.test(m))){if(ge=m,we=x,Ce===1&&(eo.test(m)||Hi.test(m))){for(we=to.test(m)&&ro(x.parentNode)||x,(we!=x||!z.scope)&&((de=x.getAttribute("id"))?de=o.escapeSelector(de):x.setAttribute("id",de=W)),Se=Gi(m),ee=Se.length;ee--;)Se[ee]=(de?"#"+de:":scope")+" "+Tn(Se[ee]);ge=Se.join(",")}try{return c.apply(R,we.querySelectorAll(ge)),R}catch(he){gt(m,!0)}finally{de===W&&x.removeAttribute("id")}}}return fa(m.replace(Ze,"$1"),x,R,L)}function En(){var m=[];function x(R,L){return m.push(R+" ")>r.cacheLength&&delete x[m.shift()],x[R+" "]=L}return x}function lr(m){return m[W]=!0,m}function Di(m){var x=d.createElement("fieldset");try{return!!m(x)}catch(R){return!1}finally{x.parentNode&&x.parentNode.removeChild(x),x=null}}function fl(m){return function(x){return le(x,"input")&&x.type===m}}function dl(m){return function(x){return(le(x,"input")||le(x,"button"))&&x.type===m}}function ua(m){return function(x){return"form"in x?x.parentNode&&x.disabled===!1?"label"in x?"label"in x.parentNode?x.parentNode.disabled===m:x.disabled===m:x.isDisabled===m||x.isDisabled!==!m&&ul(x)===m:x.disabled===m:"label"in x?x.disabled===m:!1}}function mi(m){return lr(function(x){return x=+x,lr(function(R,L){for(var U,ee=m([],R.length,x),ne=ee.length;ne--;)R[U=ee[ne]]&&(R[U]=!(L[U]=R[U]))})})}function ro(m){return m&&typeof m.getElementsByTagName!="undefined"&&m}function Kr(m){var x,R=m?m.ownerDocument||m:vt;return R==d||R.nodeType!==9||!R.documentElement||(d=R,b=d.documentElement,v=!o.isXMLDoc(d),I=b.matches||b.webkitMatchesSelector||b.msMatchesSelector,b.msMatchesSelector&&vt!=d&&(x=d.defaultView)&&x.top!==x&&x.addEventListener("unload",ll),z.getById=Di(function(L){return b.appendChild(L).id=o.expando,!d.getElementsByName||!d.getElementsByName(o.expando).length}),z.disconnectedMatch=Di(function(L){return I.call(L,"*")}),z.scope=Di(function(){return d.querySelectorAll(":scope")}),z.cssHas=Di(function(){try{return d.querySelector(":has(*,:jqfake)"),!1}catch(L){return!0}}),z.getById?(r.filter.ID=function(L){var U=L.replace(Ir,Fr);return function(ee){return ee.getAttribute("id")===U}},r.find.ID=function(L,U){if(typeof U.getElementById!="undefined"&&v){var ee=U.getElementById(L);return ee?[ee]:[]}}):(r.filter.ID=function(L){var U=L.replace(Ir,Fr);return function(ee){var ne=typeof ee.getAttributeNode!="undefined"&&ee.getAttributeNode("id");return ne&&ne.value===U}},r.find.ID=function(L,U){if(typeof U.getElementById!="undefined"&&v){var ee,ne,de,oe=U.getElementById(L);if(oe){if(ee=oe.getAttributeNode("id"),ee&&ee.value===L)return[oe];for(de=U.getElementsByName(L),ne=0;oe=de[ne++];)if(ee=oe.getAttributeNode("id"),ee&&ee.value===L)return[oe]}return[]}}),r.find.TAG=function(L,U){return typeof U.getElementsByTagName!="undefined"?U.getElementsByTagName(L):U.querySelectorAll(L)},r.find.CLASS=function(L,U){if(typeof U.getElementsByClassName!="undefined"&&v)return U.getElementsByClassName(L)},S=[],Di(function(L){var U;b.appendChild(L).innerHTML="<a id='"+W+"' href='' disabled='disabled'></a><select id='"+W+"-\r\\' disabled='disabled'><option selected=''></option></select>",L.querySelectorAll("[selected]").length||S.push("\\["+be+"*(?:value|"+mr+")"),L.querySelectorAll("[id~="+W+"-]").length||S.push("~="),L.querySelectorAll("a#"+W+"+*").length||S.push(".#.+[+~]"),L.querySelectorAll(":checked").length||S.push(":checked"),U=d.createElement("input"),U.setAttribute("type","hidden"),L.appendChild(U).setAttribute("name","D"),b.appendChild(L).disabled=!0,L.querySelectorAll(":disabled").length!==2&&S.push(":enabled",":disabled"),U=d.createElement("input"),U.setAttribute("name",""),L.appendChild(U),L.querySelectorAll("[name='']").length||S.push("\\["+be+"*name"+be+"*="+be+`*(?:''|"")`)}),z.cssHas||S.push(":has"),S=S.length&&new RegExp(S.join("|")),lt=function(L,U){if(L===U)return u=!0,0;var ee=!L.compareDocumentPosition-!U.compareDocumentPosition;return ee||(ee=(L.ownerDocument||L)==(U.ownerDocument||U)?L.compareDocumentPosition(U):1,ee&1||!z.sortDetached&&U.compareDocumentPosition(L)===ee?L===d||L.ownerDocument==vt&&Ue.contains(vt,L)?-1:U===d||U.ownerDocument==vt&&Ue.contains(vt,U)?1:a?_.call(a,L)-_.call(a,U):0:ee&4?-1:1)}),d}Ue.matches=function(m,x){return Ue(m,null,null,x)},Ue.matchesSelector=function(m,x){if(Kr(m),v&&!gt[x+" "]&&(!S||!S.test(x)))try{var R=I.call(m,x);if(R||z.disconnectedMatch||m.document&&m.document.nodeType!==11)return R}catch(L){gt(x,!0)}return Ue(x,d,null,[m]).length>0},Ue.contains=function(m,x){return(m.ownerDocument||m)!=d&&Kr(m),o.contains(m,x)},Ue.attr=function(m,x){(m.ownerDocument||m)!=d&&Kr(m);var R=r.attrHandle[x.toLowerCase()],L=R&&ie.call(r.attrHandle,x.toLowerCase())?R(m,x,!v):void 0;return L!==void 0?L:m.getAttribute(x)},Ue.error=function(m){throw new Error("Syntax error, unrecognized expression: "+m)},o.uniqueSort=function(m){var x,R=[],L=0,U=0;if(u=!z.sortStable,a=!z.sortStable&&f.call(m,0),it.call(m,lt),u){for(;x=m[U++];)x===m[U]&&(L=R.push(U));for(;L--;)Me.call(m,R[L],1)}return a=null,m},o.fn.uniqueSort=function(){return this.pushStack(o.uniqueSort(f.apply(this)))},r=o.expr={cacheLength:50,createPseudo:lr,match:yr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(m){return m[1]=m[1].replace(Ir,Fr),m[3]=(m[3]||m[4]||m[5]||"").replace(Ir,Fr),m[2]==="~="&&(m[3]=" "+m[3]+" "),m.slice(0,4)},CHILD:function(m){return m[1]=m[1].toLowerCase(),m[1].slice(0,3)==="nth"?(m[3]||Ue.error(m[0]),m[4]=+(m[4]?m[5]+(m[6]||1):2*(m[3]==="even"||m[3]==="odd")),m[5]=+(m[7]+m[8]||m[3]==="odd")):m[3]&&Ue.error(m[0]),m},PSEUDO:function(m){var x,R=!m[6]&&m[2];return yr.CHILD.test(m[0])?null:(m[3]?m[2]=m[4]||m[5]||"":R&&vr.test(R)&&(x=Gi(R,!0))&&(x=R.indexOf(")",R.length-x)-R.length)&&(m[0]=m[0].slice(0,x),m[2]=R.slice(0,x)),m.slice(0,3))}},filter:{TAG:function(m){var x=m.replace(Ir,Fr).toLowerCase();return m==="*"?function(){return!0}:function(R){return le(R,x)}},CLASS:function(m){var x=ve[m+" "];return x||(x=new RegExp("(^|"+be+")"+m+"("+be+"|$)"))&&ve(m,function(R){return x.test(typeof R.className=="string"&&R.className||typeof R.getAttribute!="undefined"&&R.getAttribute("class")||"")})},ATTR:function(m,x,R){return function(L){var U=Ue.attr(L,m);return U==null?x==="!=":x?(U+="",x==="="?U===R:x==="!="?U!==R:x==="^="?R&&U.indexOf(R)===0:x==="*="?R&&U.indexOf(R)>-1:x==="$="?R&&U.slice(-R.length)===R:x==="~="?(" "+U.replace(Le," ")+" ").indexOf(R)>-1:x==="|="?U===R||U.slice(0,R.length+1)===R+"-":!1):!0}},CHILD:function(m,x,R,L,U){var ee=m.slice(0,3)!=="nth",ne=m.slice(-4)!=="last",de=x==="of-type";return L===1&&U===0?function(oe){return!!oe.parentNode}:function(oe,Se,ge){var we,Ce,he,He,$t,At=ee!==ne?"nextSibling":"previousSibling",Xt=oe.parentNode,br=de&&oe.nodeName.toLowerCase(),Li=!ge&&!de,kt=!1;if(Xt){if(ee){for(;At;){for(he=oe;he=he[At];)if(de?le(he,br):he.nodeType===1)return!1;$t=At=m==="only"&&!$t&&"nextSibling"}return!0}if($t=[ne?Xt.firstChild:Xt.lastChild],ne&&Li){for(Ce=Xt[W]||(Xt[W]={}),we=Ce[m]||[],He=we[0]===D&&we[1],kt=He&&we[2],he=He&&Xt.childNodes[He];he=++He&&he&&he[At]||(kt=He=0)||$t.pop();)if(he.nodeType===1&&++kt&&he===oe){Ce[m]=[D,He,kt];break}}else if(Li&&(Ce=oe[W]||(oe[W]={}),we=Ce[m]||[],He=we[0]===D&&we[1],kt=He),kt===!1)for(;(he=++He&&he&&he[At]||(kt=He=0)||$t.pop())&&!((de?le(he,br):he.nodeType===1)&&++kt&&(Li&&(Ce=he[W]||(he[W]={}),Ce[m]=[D,kt]),he===oe)););return kt-=U,kt===L||kt%L==0&&kt/L>=0}}},PSEUDO:function(m,x){var R,L=r.pseudos[m]||r.setFilters[m.toLowerCase()]||Ue.error("unsupported pseudo: "+m);return L[W]?L(x):L.length>1?(R=[m,m,"",x],r.setFilters.hasOwnProperty(m.toLowerCase())?lr(function(U,ee){for(var ne,de=L(U,x),oe=de.length;oe--;)ne=_.call(U,de[oe]),U[ne]=!(ee[ne]=de[oe])}):function(U){return L(U,0,R)}):L}},pseudos:{not:lr(function(m){var x=[],R=[],L=ao(m.replace(Ze,"$1"));return L[W]?lr(function(U,ee,ne,de){for(var oe,Se=L(U,null,de,[]),ge=U.length;ge--;)(oe=Se[ge])&&(U[ge]=!(ee[ge]=oe))}):function(U,ee,ne){return x[0]=U,L(x,null,ne,R),x[0]=null,!R.pop()}}),has:lr(function(m){return function(x){return Ue(m,x).length>0}}),contains:lr(function(m){return m=m.replace(Ir,Fr),function(x){return(x.textContent||o.text(x)).indexOf(m)>-1}}),lang:lr(function(m){return Bi.test(m||"")||Ue.error("unsupported lang: "+m),m=m.replace(Ir,Fr).toLowerCase(),function(x){var R;do if(R=v?x.lang:x.getAttribute("xml:lang")||x.getAttribute("lang"))return R=R.toLowerCase(),R===m||R.indexOf(m+"-")===0;while((x=x.parentNode)&&x.nodeType===1);return!1}}),target:function(m){var x=s.location&&s.location.hash;return x&&x.slice(1)===m.id},root:function(m){return m===b},focus:function(m){return m===cl()&&d.hasFocus()&&!!(m.type||m.href||~m.tabIndex)},enabled:ua(!1),disabled:ua(!0),checked:function(m){return le(m,"input")&&!!m.checked||le(m,"option")&&!!m.selected},selected:function(m){return m.parentNode&&m.parentNode.selectedIndex,m.selected===!0},empty:function(m){for(m=m.firstChild;m;m=m.nextSibling)if(m.nodeType<6)return!1;return!0},parent:function(m){return!r.pseudos.empty(m)},header:function(m){return Xr.test(m.nodeName)},input:function(m){return Yr.test(m.nodeName)},button:function(m){return le(m,"input")&&m.type==="button"||le(m,"button")},text:function(m){var x;return le(m,"input")&&m.type==="text"&&((x=m.getAttribute("type"))==null||x.toLowerCase()==="text")},first:mi(function(){return[0]}),last:mi(function(m,x){return[x-1]}),eq:mi(function(m,x,R){return[R<0?R+x:R]}),even:mi(function(m,x){for(var R=0;R<x;R+=2)m.push(R);return m}),odd:mi(function(m,x){for(var R=1;R<x;R+=2)m.push(R);return m}),lt:mi(function(m,x,R){var L;for(R<0?L=R+x:R>x?L=x:L=R;--L>=0;)m.push(L);return m}),gt:mi(function(m,x,R){for(var L=R<0?R+x:R;++L<x;)m.push(L);return m})}},r.pseudos.nth=r.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=fl(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=dl(e);function ca(){}ca.prototype=r.filters=r.pseudos,r.setFilters=new ca;function Gi(m,x){var R,L,U,ee,ne,de,oe,Se=De[m+" "];if(Se)return x?0:Se.slice(0);for(ne=m,de=[],oe=r.preFilter;ne;){(!R||(L=et.exec(ne)))&&(L&&(ne=ne.slice(L[0].length)||ne),de.push(U=[])),R=!1,(L=Hi.exec(ne))&&(R=L.shift(),U.push({value:R,type:L[0].replace(Ze," ")}),ne=ne.slice(R.length));for(ee in r.filter)(L=yr[ee].exec(ne))&&(!oe[ee]||(L=oe[ee](L)))&&(R=L.shift(),U.push({value:R,type:ee,matches:L}),ne=ne.slice(R.length));if(!R)break}return x?ne.length:ne?Ue.error(m):De(m,de).slice(0)}function Tn(m){for(var x=0,R=m.length,L="";x<R;x++)L+=m[x].value;return L}function An(m,x,R){var L=x.dir,U=x.next,ee=U||L,ne=R&&ee==="parentNode",de=X++;return x.first?function(oe,Se,ge){for(;oe=oe[L];)if(oe.nodeType===1||ne)return m(oe,Se,ge);return!1}:function(oe,Se,ge){var we,Ce,he=[D,de];if(ge){for(;oe=oe[L];)if((oe.nodeType===1||ne)&&m(oe,Se,ge))return!0}else for(;oe=oe[L];)if(oe.nodeType===1||ne)if(Ce=oe[W]||(oe[W]={}),U&&le(oe,U))oe=oe[L]||oe;else{if((we=Ce[ee])&&we[0]===D&&we[1]===de)return he[2]=we[2];if(Ce[ee]=he,he[2]=m(oe,Se,ge))return!0}return!1}}function io(m){return m.length>1?function(x,R,L){for(var U=m.length;U--;)if(!m[U](x,R,L))return!1;return!0}:m[0]}function pl(m,x,R){for(var L=0,U=x.length;L<U;L++)Ue(m,x[L],R);return R}function Sn(m,x,R,L,U){for(var ee,ne=[],de=0,oe=m.length,Se=x!=null;de<oe;de++)(ee=m[de])&&(!R||R(ee,L,U))&&(ne.push(ee),Se&&x.push(de));return ne}function no(m,x,R,L,U,ee){return L&&!L[W]&&(L=no(L)),U&&!U[W]&&(U=no(U,ee)),lr(function(ne,de,oe,Se){var ge,we,Ce,he,He=[],$t=[],At=de.length,Xt=ne||pl(x||"*",oe.nodeType?[oe]:oe,[]),br=m&&(ne||!x)?Sn(Xt,He,m,oe,Se):Xt;if(R?(he=U||(ne?m:At||L)?[]:de,R(br,he,oe,Se)):he=br,L)for(ge=Sn(he,$t),L(ge,[],oe,Se),we=ge.length;we--;)(Ce=ge[we])&&(he[$t[we]]=!(br[$t[we]]=Ce));if(ne){if(U||m){if(U){for(ge=[],we=he.length;we--;)(Ce=he[we])&&ge.push(br[we]=Ce);U(null,he=[],ge,Se)}for(we=he.length;we--;)(Ce=he[we])&&(ge=U?_.call(ne,Ce):He[we])>-1&&(ne[ge]=!(de[ge]=Ce))}}else he=Sn(he===de?he.splice(At,he.length):he),U?U(null,de,he,Se):c.apply(de,he)})}function oo(m){for(var x,R,L,U=m.length,ee=r.relative[m[0].type],ne=ee||r.relative[" "],de=ee?1:0,oe=An(function(we){return we===x},ne,!0),Se=An(function(we){return _.call(x,we)>-1},ne,!0),ge=[function(we,Ce,he){var He=!ee&&(he||Ce!=n)||((x=Ce).nodeType?oe(we,Ce,he):Se(we,Ce,he));return x=null,He}];de<U;de++)if(R=r.relative[m[de].type])ge=[An(io(ge),R)];else{if(R=r.filter[m[de].type].apply(null,m[de].matches),R[W]){for(L=++de;L<U&&!r.relative[m[L].type];L++);return no(de>1&&io(ge),de>1&&Tn(m.slice(0,de-1).concat({value:m[de-2].type===" "?"*":""})).replace(Ze,"$1"),R,de<L&&oo(m.slice(de,L)),L<U&&oo(m=m.slice(L)),L<U&&Tn(m))}ge.push(R)}return io(ge)}function hl(m,x){var R=x.length>0,L=m.length>0,U=function(ee,ne,de,oe,Se){var ge,we,Ce,he=0,He="0",$t=ee&&[],At=[],Xt=n,br=ee||L&&r.find.TAG("*",Se),Li=D+=Xt==null?1:Math.random()||.1,kt=br.length;for(Se&&(n=ne==d||ne||Se);He!==kt&&(ge=br[He])!=null;He++){if(L&&ge){for(we=0,!ne&&ge.ownerDocument!=d&&(Kr(ge),de=!v);Ce=m[we++];)if(Ce(ge,ne||d,de)){c.call(oe,ge);break}Se&&(D=Li)}R&&((ge=!Ce&&ge)&&he--,ee&&$t.push(ge))}if(he+=He,R&&He!==he){for(we=0;Ce=x[we++];)Ce($t,At,ne,de);if(ee){if(he>0)for(;He--;)$t[He]||At[He]||(At[He]=Oe.call(oe));At=Sn(At)}c.apply(oe,At),Se&&!ee&&At.length>0&&he+x.length>1&&o.uniqueSort(oe)}return Se&&(D=Li,n=Xt),$t};return R?lr(U):U}function ao(m,x){var R,L=[],U=[],ee=Ae[m+" "];if(!ee){for(x||(x=Gi(m)),R=x.length;R--;)ee=oo(x[R]),ee[W]?L.push(ee):U.push(ee);ee=Ae(m,hl(U,L)),ee.selector=m}return ee}function fa(m,x,R,L){var U,ee,ne,de,oe,Se=typeof m=="function"&&m,ge=!L&&Gi(m=Se.selector||m);if(R=R||[],ge.length===1){if(ee=ge[0]=ge[0].slice(0),ee.length>2&&(ne=ee[0]).type==="ID"&&x.nodeType===9&&v&&r.relative[ee[1].type]){if(x=(r.find.ID(ne.matches[0].replace(Ir,Fr),x)||[])[0],x)Se&&(x=x.parentNode);else return R;m=m.slice(ee.shift().value.length)}for(U=yr.needsContext.test(m)?0:ee.length;U--&&(ne=ee[U],!r.relative[de=ne.type]);)if((oe=r.find[de])&&(L=oe(ne.matches[0].replace(Ir,Fr),to.test(ee[0].type)&&ro(x.parentNode)||x))){if(ee.splice(U,1),m=L.length&&Tn(ee),!m)return c.apply(R,L),R;break}}return(Se||ao(m,ge))(L,x,!v,R,!x||to.test(m)&&ro(x.parentNode)||x),R}z.sortStable=W.split("").sort(lt).join("")===W,Kr(),z.sortDetached=Di(function(m){return m.compareDocumentPosition(d.createElement("fieldset"))&1}),o.find=Ue,o.expr[":"]=o.expr.pseudos,o.unique=o.uniqueSort,Ue.compile=ao,Ue.select=fa,Ue.setDocument=Kr,Ue.tokenize=Gi,Ue.escape=o.escapeSelector,Ue.getText=o.text,Ue.isXML=o.isXMLDoc,Ue.selectors=o.expr,Ue.support=o.support,Ue.uniqueSort=o.uniqueSort})();var yt=function(e,r,n){for(var a=[],u=n!==void 0;(e=e[r])&&e.nodeType!==9;)if(e.nodeType===1){if(u&&o(e).is(n))break;a.push(e)}return a},Zr=function(e,r){for(var n=[];e;e=e.nextSibling)e.nodeType===1&&e!==r&&n.push(e);return n},ei=o.expr.match.needsContext,Ye=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function bt(e,r,n){return Z(r)?o.grep(e,function(a,u){return!!r.call(a,u,a)!==n}):r.nodeType?o.grep(e,function(a){return a===r!==n}):typeof r!="string"?o.grep(e,function(a){return _.call(r,a)>-1!==n}):o.filter(r,e,n)}o.filter=function(e,r,n){var a=r[0];return n&&(e=":not("+e+")"),r.length===1&&a.nodeType===1?o.find.matchesSelector(a,e)?[a]:[]:o.find.matches(e,o.grep(r,function(u){return u.nodeType===1}))},o.fn.extend({find:function(e){var r,n,a=this.length,u=this;if(typeof e!="string")return this.pushStack(o(e).filter(function(){for(r=0;r<a;r++)if(o.contains(u[r],this))return!0}));for(n=this.pushStack([]),r=0;r<a;r++)o.find(e,u[r],n);return a>1?o.uniqueSort(n):n},filter:function(e){return this.pushStack(bt(this,e||[],!1))},not:function(e){return this.pushStack(bt(this,e||[],!0))},is:function(e){return!!bt(this,typeof e=="string"&&ei.test(e)?o(e):e||[],!1).length}});var Xe,Ai=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Be=o.fn.init=function(e,r,n){var a,u;if(!e)return this;if(n=n||Xe,typeof e=="string")if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?a=[null,e,null]:a=Ai.exec(e),a&&(a[1]||!r))if(a[1]){if(r=r instanceof o?r[0]:r,o.merge(this,o.parseHTML(a[1],r&&r.nodeType?r.ownerDocument||r:V,!0)),Ye.test(a[1])&&o.isPlainObject(r))for(a in r)Z(this[a])?this[a](r[a]):this.attr(a,r[a]);return this}else return u=V.getElementById(a[2]),u&&(this[0]=u,this.length=1),this;else return!r||r.jquery?(r||n).find(e):this.constructor(r).find(e);else{if(e.nodeType)return this[0]=e,this.length=1,this;if(Z(e))return n.ready!==void 0?n.ready(e):e(o)}return o.makeArray(e,this)};Be.prototype=o.fn,Xe=o(V);var Sr=/^(?:parents|prev(?:Until|All))/,ti={children:!0,contents:!0,next:!0,prev:!0};o.fn.extend({has:function(e){var r=o(e,this),n=r.length;return this.filter(function(){for(var a=0;a<n;a++)if(o.contains(this,r[a]))return!0})},closest:function(e,r){var n,a=0,u=this.length,c=[],d=typeof e!="string"&&o(e);if(!ei.test(e)){for(;a<u;a++)for(n=this[a];n&&n!==r;n=n.parentNode)if(n.nodeType<11&&(d?d.index(n)>-1:n.nodeType===1&&o.find.matchesSelector(n,e))){c.push(n);break}}return this.pushStack(c.length>1?o.uniqueSort(c):c)},index:function(e){return e?typeof e=="string"?_.call(o(e),this[0]):_.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,r){return this.pushStack(o.uniqueSort(o.merge(this.get(),o(e,r))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function ri(e,r){for(;(e=e[r])&&e.nodeType!==1;);return e}o.each({parent:function(e){var r=e.parentNode;return r&&r.nodeType!==11?r:null},parents:function(e){return yt(e,"parentNode")},parentsUntil:function(e,r,n){return yt(e,"parentNode",n)},next:function(e){return ri(e,"nextSibling")},prev:function(e){return ri(e,"previousSibling")},nextAll:function(e){return yt(e,"nextSibling")},prevAll:function(e){return yt(e,"previousSibling")},nextUntil:function(e,r,n){return yt(e,"nextSibling",n)},prevUntil:function(e,r,n){return yt(e,"previousSibling",n)},siblings:function(e){return Zr((e.parentNode||{}).firstChild,e)},children:function(e){return Zr(e.firstChild)},contents:function(e){return e.contentDocument!=null&&l(e.contentDocument)?e.contentDocument:(le(e,"template")&&(e=e.content||e),o.merge([],e.childNodes))}},function(e,r){o.fn[e]=function(n,a){var u=o.map(this,r,n);return e.slice(-5)!=="Until"&&(a=n),a&&typeof a=="string"&&(u=o.filter(a,u)),this.length>1&&(ti[e]||o.uniqueSort(u),Sr.test(e)&&u.reverse()),this.pushStack(u)}});var wt=/[^\x20\t\r\n\f]+/g;function Si(e){var r={};return o.each(e.match(wt)||[],function(n,a){r[a]=!0}),r}o.Callbacks=function(e){e=typeof e=="string"?Si(e):o.extend({},e);var r,n,a,u,c=[],d=[],b=-1,v=function(){for(u=u||e.once,a=r=!0;d.length;b=-1)for(n=d.shift();++b<c.length;)c[b].apply(n[0],n[1])===!1&&e.stopOnFalse&&(b=c.length,n=!1);e.memory||(n=!1),r=!1,u&&(n?c=[]:c="")},S={add:function(){return c&&(n&&!r&&(b=c.length-1,d.push(n)),function I(W){o.each(W,function(D,X){Z(X)?(!e.unique||!S.has(X))&&c.push(X):X&&X.length&&F(X)!=="string"&&I(X)})}(arguments),n&&!r&&v()),this},remove:function(){return o.each(arguments,function(I,W){for(var D;(D=o.inArray(W,c,D))>-1;)c.splice(D,1),D<=b&&b--}),this},has:function(I){return I?o.inArray(I,c)>-1:c.length>0},empty:function(){return c&&(c=[]),this},disable:function(){return u=d=[],c=n="",this},disabled:function(){return!c},lock:function(){return u=d=[],!n&&!r&&(c=n=""),this},locked:function(){return!!u},fireWith:function(I,W){return u||(W=W||[],W=[I,W.slice?W.slice():W],d.push(W),r||v()),this},fire:function(){return S.fireWith(this,arguments),this},fired:function(){return!!a}};return S};function Zt(e){return e}function Wt(e){throw e}function $r(e,r,n,a){var u;try{e&&Z(u=e.promise)?u.call(e).done(r).fail(n):e&&Z(u=e.then)?u.call(e,r,n):r.apply(void 0,[e].slice(a))}catch(c){n.apply(void 0,[c])}}o.extend({Deferred:function(e){var r=[["notify","progress",o.Callbacks("memory"),o.Callbacks("memory"),2],["resolve","done",o.Callbacks("once memory"),o.Callbacks("once memory"),0,"resolved"],["reject","fail",o.Callbacks("once memory"),o.Callbacks("once memory"),1,"rejected"]],n="pending",a={state:function(){return n},always:function(){return u.done(arguments).fail(arguments),this},catch:function(c){return a.then(null,c)},pipe:function(){var c=arguments;return o.Deferred(function(d){o.each(r,function(b,v){var S=Z(c[v[4]])&&c[v[4]];u[v[1]](function(){var I=S&&S.apply(this,arguments);I&&Z(I.promise)?I.promise().progress(d.notify).done(d.resolve).fail(d.reject):d[v[0]+"With"](this,S?[I]:arguments)})}),c=null}).promise()},then:function(c,d,b){var v=0;function S(I,W,D,X){return function(){var ve=this,De=arguments,Ae=function(){var lt,mr;if(!(I<v)){if(lt=D.apply(ve,De),lt===W.promise())throw new TypeError("Thenable self-resolution");mr=lt&&(typeof lt=="object"||typeof lt=="function")&&lt.then,Z(mr)?X?mr.call(lt,S(v,W,Zt,X),S(v,W,Wt,X)):(v++,mr.call(lt,S(v,W,Zt,X),S(v,W,Wt,X),S(v,W,Zt,W.notifyWith))):(D!==Zt&&(ve=void 0,De=[lt]),(X||W.resolveWith)(ve,De))}},gt=X?Ae:function(){try{Ae()}catch(lt){o.Deferred.exceptionHook&&o.Deferred.exceptionHook(lt,gt.error),I+1>=v&&(D!==Wt&&(ve=void 0,De=[lt]),W.rejectWith(ve,De))}};I?gt():(o.Deferred.getErrorHook?gt.error=o.Deferred.getErrorHook():o.Deferred.getStackHook&&(gt.error=o.Deferred.getStackHook()),s.setTimeout(gt))}}return o.Deferred(function(I){r[0][3].add(S(0,I,Z(b)?b:Zt,I.notifyWith)),r[1][3].add(S(0,I,Z(c)?c:Zt)),r[2][3].add(S(0,I,Z(d)?d:Wt))}).promise()},promise:function(c){return c!=null?o.extend(c,a):a}},u={};return o.each(r,function(c,d){var b=d[2],v=d[5];a[d[1]]=b.add,v&&b.add(function(){n=v},r[3-c][2].disable,r[3-c][3].disable,r[0][2].lock,r[0][3].lock),b.add(d[3].fire),u[d[0]]=function(){return u[d[0]+"With"](this===u?void 0:this,arguments),this},u[d[0]+"With"]=b.fireWith}),a.promise(u),e&&e.call(u,u),u},when:function(e){var r=arguments.length,n=r,a=Array(n),u=f.call(arguments),c=o.Deferred(),d=function(b){return function(v){a[b]=this,u[b]=arguments.length>1?f.call(arguments):v,--r||c.resolveWith(a,u)}};if(r<=1&&($r(e,c.done(d(n)).resolve,c.reject,!r),c.state()==="pending"||Z(u[n]&&u[n].then)))return c.then();for(;n--;)$r(u[n],d(n),c.reject);return c.promise()}});var er=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;o.Deferred.exceptionHook=function(e,r){s.console&&s.console.warn&&e&&er.test(e.name)&&s.console.warn("jQuery.Deferred exception: "+e.message,e.stack,r)},o.readyException=function(e){s.setTimeout(function(){throw e})};var Cr=o.Deferred();o.fn.ready=function(e){return Cr.then(e).catch(function(r){o.readyException(r)}),this},o.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--o.readyWait:o.isReady)||(o.isReady=!0,!(e!==!0&&--o.readyWait>0)&&Cr.resolveWith(V,[o]))}}),o.ready.then=Cr.then;function ft(){V.removeEventListener("DOMContentLoaded",ft),s.removeEventListener("load",ft),o.ready()}V.readyState==="complete"||V.readyState!=="loading"&&!V.documentElement.doScroll?s.setTimeout(o.ready):(V.addEventListener("DOMContentLoaded",ft),s.addEventListener("load",ft));var ct=function(e,r,n,a,u,c,d){var b=0,v=e.length,S=n==null;if(F(n)==="object"){u=!0;for(b in n)ct(e,r,b,n[b],!0,c,d)}else if(a!==void 0&&(u=!0,Z(a)||(d=!0),S&&(d?(r.call(e,a),r=null):(S=r,r=function(I,W,D){return S.call(o(I),D)})),r))for(;b<v;b++)r(e[b],n,d?a:a.call(e[b],b,r(e[b],n)));return u?e:S?r.call(e):v?r(e[0],n):c},Pr=/^-ms-/,tr=/-([a-z])/g;function Ur(e,r){return r.toUpperCase()}function dt(e){return e.replace(Pr,"ms-").replace(tr,Ur)}var rr=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function zt(){this.expando=o.expando+zt.uid++}zt.uid=1,zt.prototype={cache:function(e){var r=e[this.expando];return r||(r={},rr(e)&&(e.nodeType?e[this.expando]=r:Object.defineProperty(e,this.expando,{value:r,configurable:!0}))),r},set:function(e,r,n){var a,u=this.cache(e);if(typeof r=="string")u[dt(r)]=n;else for(a in r)u[dt(a)]=r[a];return u},get:function(e,r){return r===void 0?this.cache(e):e[this.expando]&&e[this.expando][dt(r)]},access:function(e,r,n){return r===void 0||r&&typeof r=="string"&&n===void 0?this.get(e,r):(this.set(e,r,n),n!==void 0?n:r)},remove:function(e,r){var n,a=e[this.expando];if(a!==void 0){if(r!==void 0)for(Array.isArray(r)?r=r.map(dt):(r=dt(r),r=r in a?[r]:r.match(wt)||[]),n=r.length;n--;)delete a[r[n]];(r===void 0||o.isEmptyObject(a))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var r=e[this.expando];return r!==void 0&&!o.isEmptyObject(r)}};var se=new zt,qe=new zt,ir=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ii=/[A-Z]/g;function ni(e){return e==="true"?!0:e==="false"?!1:e==="null"?null:e===+e+""?+e:ir.test(e)?JSON.parse(e):e}function Wr(e,r,n){var a;if(n===void 0&&e.nodeType===1)if(a="data-"+r.replace(ii,"-$&").toLowerCase(),n=e.getAttribute(a),typeof n=="string"){try{n=ni(n)}catch(u){}qe.set(e,r,n)}else n=void 0;return n}o.extend({hasData:function(e){return qe.hasData(e)||se.hasData(e)},data:function(e,r,n){return qe.access(e,r,n)},removeData:function(e,r){qe.remove(e,r)},_data:function(e,r,n){return se.access(e,r,n)},_removeData:function(e,r){se.remove(e,r)}}),o.fn.extend({data:function(e,r){var n,a,u,c=this[0],d=c&&c.attributes;if(e===void 0){if(this.length&&(u=qe.get(c),c.nodeType===1&&!se.get(c,"hasDataAttrs"))){for(n=d.length;n--;)d[n]&&(a=d[n].name,a.indexOf("data-")===0&&(a=dt(a.slice(5)),Wr(c,a,u[a])));se.set(c,"hasDataAttrs",!0)}return u}return typeof e=="object"?this.each(function(){qe.set(this,e)}):ct(this,function(b){var v;if(c&&b===void 0)return v=qe.get(c,e),v!==void 0||(v=Wr(c,e),v!==void 0)?v:void 0;this.each(function(){qe.set(this,e,b)})},null,r,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){qe.remove(this,e)})}}),o.extend({queue:function(e,r,n){var a;if(e)return r=(r||"fx")+"queue",a=se.get(e,r),n&&(!a||Array.isArray(n)?a=se.access(e,r,o.makeArray(n)):a.push(n)),a||[]},dequeue:function(e,r){r=r||"fx";var n=o.queue(e,r),a=n.length,u=n.shift(),c=o._queueHooks(e,r),d=function(){o.dequeue(e,r)};u==="inprogress"&&(u=n.shift(),a--),u&&(r==="fx"&&n.unshift("inprogress"),delete c.stop,u.call(e,d,c)),!a&&c&&c.empty.fire()},_queueHooks:function(e,r){var n=r+"queueHooks";return se.get(e,n)||se.access(e,n,{empty:o.Callbacks("once memory").add(function(){se.remove(e,[r+"queue",n])})})}}),o.fn.extend({queue:function(e,r){var n=2;return typeof e!="string"&&(r=e,e="fx",n--),arguments.length<n?o.queue(this[0],e):r===void 0?this:this.each(function(){var a=o.queue(this,e,r);o._queueHooks(this,e),e==="fx"&&a[0]!=="inprogress"&&o.dequeue(this,e)})},dequeue:function(e){return this.each(function(){o.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,r){var n,a=1,u=o.Deferred(),c=this,d=this.length,b=function(){--a||u.resolveWith(c,[c])};for(typeof e!="string"&&(r=e,e=void 0),e=e||"fx";d--;)n=se.get(c[d],e+"queueHooks"),n&&n.empty&&(a++,n.empty.add(b));return b(),u.promise(r)}});var kr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nr=new RegExp("^(?:([+-])=|)("+kr+")([a-z%]*)$","i"),pt=["Top","Right","Bottom","Left"],Pt=V.documentElement,st=function(e){return o.contains(e.ownerDocument,e)},qt={composed:!0};Pt.getRootNode&&(st=function(e){return o.contains(e.ownerDocument,e)||e.getRootNode(qt)===e.ownerDocument});var pr=function(e,r){return e=r||e,e.style.display==="none"||e.style.display===""&&st(e)&&o.css(e,"display")==="none"};function Hr(e,r,n,a){var u,c,d=20,b=a?function(){return a.cur()}:function(){return o.css(e,r,"")},v=b(),S=n&&n[3]||(o.cssNumber[r]?"":"px"),I=e.nodeType&&(o.cssNumber[r]||S!=="px"&&+v)&&nr.exec(o.css(e,r));if(I&&I[3]!==S){for(v=v/2,S=S||I[3],I=+v||1;d--;)o.style(e,r,I+S),(1-c)*(1-(c=b()/v||.5))<=0&&(d=0),I=I/c;I=I*2,o.style(e,r,I+S),n=n||[]}return n&&(I=+I||+v||0,u=n[1]?I+(n[1]+1)*n[2]:+n[2],a&&(a.unit=S,a.start=I,a.end=u)),u}var Br={};function Rr(e){var r,n=e.ownerDocument,a=e.nodeName,u=Br[a];return u||(r=n.body.appendChild(n.createElement(a)),u=o.css(r,"display"),r.parentNode.removeChild(r),u==="none"&&(u="block"),Br[a]=u,u)}function Ht(e,r){for(var n,a,u=[],c=0,d=e.length;c<d;c++)a=e[c],!!a.style&&(n=a.style.display,r?(n==="none"&&(u[c]=se.get(a,"display")||null,u[c]||(a.style.display="")),a.style.display===""&&pr(a)&&(u[c]=Rr(a))):n!=="none"&&(u[c]="none",se.set(a,"display",n)));for(c=0;c<d;c++)u[c]!=null&&(e[c].style.display=u[c]);return e}o.fn.extend({show:function(){return Ht(this,!0)},hide:function(){return Ht(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){pr(this)?o(this).show():o(this).hide()})}});var _t=/^(?:checkbox|radio)$/i,hr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ci=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=V.createDocumentFragment(),r=e.appendChild(V.createElement("div")),n=V.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),r.appendChild(n),z.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,r.innerHTML="<textarea>x</textarea>",z.noCloneChecked=!!r.cloneNode(!0).lastChild.defaultValue,r.innerHTML="<option></option>",z.option=!!r.lastChild})();var ht={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ht.tbody=ht.tfoot=ht.colgroup=ht.caption=ht.thead,ht.th=ht.td,z.option||(ht.optgroup=ht.option=[1,"<select multiple='multiple'>","</select>"]);function Re(e,r){var n;return typeof e.getElementsByTagName!="undefined"?n=e.getElementsByTagName(r||"*"):typeof e.querySelectorAll!="undefined"?n=e.querySelectorAll(r||"*"):n=[],r===void 0||r&&le(e,r)?o.merge([e],n):n}function Vt(e,r){for(var n=0,a=e.length;n<a;n++)se.set(e[n],"globalEval",!r||se.get(r[n],"globalEval"))}var $i=/<|&#?\w+;/;function oi(e,r,n,a,u){for(var c,d,b,v,S,I,W=r.createDocumentFragment(),D=[],X=0,ve=e.length;X<ve;X++)if(c=e[X],c||c===0)if(F(c)==="object")o.merge(D,c.nodeType?[c]:c);else if(!$i.test(c))D.push(r.createTextNode(c));else{for(d=d||W.appendChild(r.createElement("div")),b=(hr.exec(c)||["",""])[1].toLowerCase(),v=ht[b]||ht._default,d.innerHTML=v[1]+o.htmlPrefilter(c)+v[2],I=v[0];I--;)d=d.lastChild;o.merge(D,d.childNodes),d=W.firstChild,d.textContent=""}for(W.textContent="",X=0;c=D[X++];){if(a&&o.inArray(c,a)>-1){u&&u.push(c);continue}if(S=st(c),d=Re(W.appendChild(c),"script"),S&&Vt(d),n)for(I=0;c=d[I++];)Ci.test(c.type||"")&&n.push(c)}return W}var Gr=/^([^.]*)(?:\.(.+)|)/;function or(){return!0}function ar(){return!1}function ai(e,r,n,a,u,c){var d,b;if(typeof r=="object"){typeof n!="string"&&(a=a||n,n=void 0);for(b in r)ai(e,b,n,a,r[b],c);return e}if(a==null&&u==null?(u=n,a=n=void 0):u==null&&(typeof n=="string"?(u=a,a=void 0):(u=a,a=n,n=void 0)),u===!1)u=ar;else if(!u)return e;return c===1&&(d=u,u=function(v){return o().off(v),d.apply(this,arguments)},u.guid=d.guid||(d.guid=o.guid++)),e.each(function(){o.event.add(this,r,u,a,n)})}o.event={global:{},add:function(e,r,n,a,u){var c,d,b,v,S,I,W,D,X,ve,De,Ae=se.get(e);if(!!rr(e))for(n.handler&&(c=n,n=c.handler,u=c.selector),u&&o.find.matchesSelector(Pt,u),n.guid||(n.guid=o.guid++),(v=Ae.events)||(v=Ae.events=Object.create(null)),(d=Ae.handle)||(d=Ae.handle=function(gt){return typeof o!="undefined"&&o.event.triggered!==gt.type?o.event.dispatch.apply(e,arguments):void 0}),r=(r||"").match(wt)||[""],S=r.length;S--;)b=Gr.exec(r[S])||[],X=De=b[1],ve=(b[2]||"").split(".").sort(),!!X&&(W=o.event.special[X]||{},X=(u?W.delegateType:W.bindType)||X,W=o.event.special[X]||{},I=o.extend({type:X,origType:De,data:a,handler:n,guid:n.guid,selector:u,needsContext:u&&o.expr.match.needsContext.test(u),namespace:ve.join(".")},c),(D=v[X])||(D=v[X]=[],D.delegateCount=0,(!W.setup||W.setup.call(e,a,ve,d)===!1)&&e.addEventListener&&e.addEventListener(X,d)),W.add&&(W.add.call(e,I),I.handler.guid||(I.handler.guid=n.guid)),u?D.splice(D.delegateCount++,0,I):D.push(I),o.event.global[X]=!0)},remove:function(e,r,n,a,u){var c,d,b,v,S,I,W,D,X,ve,De,Ae=se.hasData(e)&&se.get(e);if(!(!Ae||!(v=Ae.events))){for(r=(r||"").match(wt)||[""],S=r.length;S--;){if(b=Gr.exec(r[S])||[],X=De=b[1],ve=(b[2]||"").split(".").sort(),!X){for(X in v)o.event.remove(e,X+r[S],n,a,!0);continue}for(W=o.event.special[X]||{},X=(a?W.delegateType:W.bindType)||X,D=v[X]||[],b=b[2]&&new RegExp("(^|\\.)"+ve.join("\\.(?:.*\\.|)")+"(\\.|$)"),d=c=D.length;c--;)I=D[c],(u||De===I.origType)&&(!n||n.guid===I.guid)&&(!b||b.test(I.namespace))&&(!a||a===I.selector||a==="**"&&I.selector)&&(D.splice(c,1),I.selector&&D.delegateCount--,W.remove&&W.remove.call(e,I));d&&!D.length&&((!W.teardown||W.teardown.call(e,ve,Ae.handle)===!1)&&o.removeEvent(e,X,Ae.handle),delete v[X])}o.isEmptyObject(v)&&se.remove(e,"handle events")}},dispatch:function(e){var r,n,a,u,c,d,b=new Array(arguments.length),v=o.event.fix(e),S=(se.get(this,"events")||Object.create(null))[v.type]||[],I=o.event.special[v.type]||{};for(b[0]=v,r=1;r<arguments.length;r++)b[r]=arguments[r];if(v.delegateTarget=this,!(I.preDispatch&&I.preDispatch.call(this,v)===!1)){for(d=o.event.handlers.call(this,v,S),r=0;(u=d[r++])&&!v.isPropagationStopped();)for(v.currentTarget=u.elem,n=0;(c=u.handlers[n++])&&!v.isImmediatePropagationStopped();)(!v.rnamespace||c.namespace===!1||v.rnamespace.test(c.namespace))&&(v.handleObj=c,v.data=c.data,a=((o.event.special[c.origType]||{}).handle||c.handler).apply(u.elem,b),a!==void 0&&(v.result=a)===!1&&(v.preventDefault(),v.stopPropagation()));return I.postDispatch&&I.postDispatch.call(this,v),v.result}},handlers:function(e,r){var n,a,u,c,d,b=[],v=r.delegateCount,S=e.target;if(v&&S.nodeType&&!(e.type==="click"&&e.button>=1)){for(;S!==this;S=S.parentNode||this)if(S.nodeType===1&&!(e.type==="click"&&S.disabled===!0)){for(c=[],d={},n=0;n<v;n++)a=r[n],u=a.selector+" ",d[u]===void 0&&(d[u]=a.needsContext?o(u,this).index(S)>-1:o.find(u,this,null,[S]).length),d[u]&&c.push(a);c.length&&b.push({elem:S,handlers:c})}}return S=this,v<r.length&&b.push({elem:S,handlers:r.slice(v)}),b},addProp:function(e,r){Object.defineProperty(o.Event.prototype,e,{enumerable:!0,configurable:!0,get:Z(r)?function(){if(this.originalEvent)return r(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(n){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(e){return e[o.expando]?e:new o.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var r=this||e;return _t.test(r.type)&&r.click&&le(r,"input")&&mt(r,"click",!0),!1},trigger:function(e){var r=this||e;return _t.test(r.type)&&r.click&&le(r,"input")&&mt(r,"click"),!0},_default:function(e){var r=e.target;return _t.test(r.type)&&r.click&&le(r,"input")&&se.get(r,"click")||le(r,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};function mt(e,r,n){if(!n){se.get(e,r)===void 0&&o.event.add(e,r,or);return}se.set(e,r,!1),o.event.add(e,r,{namespace:!1,handler:function(a){var u,c=se.get(this,r);if(a.isTrigger&1&&this[r]){if(c)(o.event.special[r]||{}).delegateType&&a.stopPropagation();else if(c=f.call(arguments),se.set(this,r,c),this[r](),u=se.get(this,r),se.set(this,r,!1),c!==u)return a.stopImmediatePropagation(),a.preventDefault(),u}else c&&(se.set(this,r,o.event.trigger(c[0],c.slice(1),this)),a.stopPropagation(),a.isImmediatePropagationStopped=or)}})}o.removeEvent=function(e,r,n){e.removeEventListener&&e.removeEventListener(r,n)},o.Event=function(e,r){if(!(this instanceof o.Event))return new o.Event(e,r);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?or:ar,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,r&&o.extend(this,r),this.timeStamp=e&&e.timeStamp||Date.now(),this[o.expando]=!0},o.Event.prototype={constructor:o.Event,isDefaultPrevented:ar,isPropagationStopped:ar,isImmediatePropagationStopped:ar,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=or,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=or,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=or,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},o.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},o.event.addProp),o.each({focus:"focusin",blur:"focusout"},function(e,r){function n(a){if(V.documentMode){var u=se.get(this,"handle"),c=o.event.fix(a);c.type=a.type==="focusin"?"focus":"blur",c.isSimulated=!0,u(a),c.target===c.currentTarget&&u(c)}else o.event.simulate(r,a.target,o.event.fix(a))}o.event.special[e]={setup:function(){var a;if(mt(this,e,!0),V.documentMode)a=se.get(this,r),a||this.addEventListener(r,n),se.set(this,r,(a||0)+1);else return!1},trigger:function(){return mt(this,e),!0},teardown:function(){var a;if(V.documentMode)a=se.get(this,r)-1,a?se.set(this,r,a):(this.removeEventListener(r,n),se.remove(this,r));else return!1},_default:function(a){return se.get(a.target,e)},delegateType:r},o.event.special[r]={setup:function(){var a=this.ownerDocument||this.document||this,u=V.documentMode?this:a,c=se.get(u,r);c||(V.documentMode?this.addEventListener(r,n):a.addEventListener(e,n,!0)),se.set(u,r,(c||0)+1)},teardown:function(){var a=this.ownerDocument||this.document||this,u=V.documentMode?this:a,c=se.get(u,r)-1;c?se.set(u,r,c):(V.documentMode?this.removeEventListener(r,n):a.removeEventListener(e,n,!0),se.remove(u,r))}}}),o.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){o.event.special[e]={delegateType:r,bindType:r,handle:function(n){var a,u=this,c=n.relatedTarget,d=n.handleObj;return(!c||c!==u&&!o.contains(u,c))&&(n.type=d.origType,a=d.handler.apply(this,arguments),n.type=r),a}}}),o.fn.extend({on:function(e,r,n,a){return ai(this,e,r,n,a)},one:function(e,r,n,a){return ai(this,e,r,n,a,1)},off:function(e,r,n){var a,u;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,o(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if(typeof e=="object"){for(u in e)this.off(u,r,e[u]);return this}return(r===!1||typeof r=="function")&&(n=r,r=void 0),n===!1&&(n=ar),this.each(function(){o.event.remove(this,e,n,r)})}});var zr=/<script|<style|<link/i,si=/checked\s*(?:[^=]|=\s*.checked.)/i,Pi=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function qr(e,r){return le(e,"table")&&le(r.nodeType!==11?r:r.firstChild,"tr")&&o(e).children("tbody")[0]||e}function ki(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function Bt(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}function li(e,r){var n,a,u,c,d,b,v;if(r.nodeType===1){if(se.hasData(e)&&(c=se.get(e),v=c.events,v)){se.remove(r,"handle events");for(u in v)for(n=0,a=v[u].length;n<a;n++)o.event.add(r,u,v[u][n])}qe.hasData(e)&&(d=qe.access(e),b=o.extend({},d),qe.set(r,b))}}function Ri(e,r){var n=r.nodeName.toLowerCase();n==="input"&&_t.test(e.type)?r.checked=e.checked:(n==="input"||n==="textarea")&&(r.defaultValue=e.defaultValue)}function sr(e,r,n,a){r=g(r);var u,c,d,b,v,S,I=0,W=e.length,D=W-1,X=r[0],ve=Z(X);if(ve||W>1&&typeof X=="string"&&!z.checkClone&&si.test(X))return e.each(function(De){var Ae=e.eq(De);ve&&(r[0]=X.call(this,De,Ae.html())),sr(Ae,r,n,a)});if(W&&(u=oi(r,e[0].ownerDocument,!1,e,a),c=u.firstChild,u.childNodes.length===1&&(u=c),c||a)){for(d=o.map(Re(u,"script"),ki),b=d.length;I<W;I++)v=u,I!==D&&(v=o.clone(v,!0,!0),b&&o.merge(d,Re(v,"script"))),n.call(e[I],v,I);if(b)for(S=d[d.length-1].ownerDocument,o.map(d,Bt),I=0;I<b;I++)v=d[I],Ci.test(v.type||"")&&!se.access(v,"globalEval")&&o.contains(S,v)&&(v.src&&(v.type||"").toLowerCase()!=="module"?o._evalUrl&&!v.noModule&&o._evalUrl(v.src,{nonce:v.nonce||v.getAttribute("nonce")},S):H(v.textContent.replace(Pi,""),v,S))}return e}function ui(e,r,n){for(var a,u=r?o.filter(r,e):e,c=0;(a=u[c])!=null;c++)!n&&a.nodeType===1&&o.cleanData(Re(a)),a.parentNode&&(n&&st(a)&&Vt(Re(a,"script")),a.parentNode.removeChild(a));return e}o.extend({htmlPrefilter:function(e){return e},clone:function(e,r,n){var a,u,c,d,b=e.cloneNode(!0),v=st(e);if(!z.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!o.isXMLDoc(e))for(d=Re(b),c=Re(e),a=0,u=c.length;a<u;a++)Ri(c[a],d[a]);if(r)if(n)for(c=c||Re(e),d=d||Re(b),a=0,u=c.length;a<u;a++)li(c[a],d[a]);else li(e,b);return d=Re(b,"script"),d.length>0&&Vt(d,!v&&Re(e,"script")),b},cleanData:function(e){for(var r,n,a,u=o.event.special,c=0;(n=e[c])!==void 0;c++)if(rr(n)){if(r=n[se.expando]){if(r.events)for(a in r.events)u[a]?o.event.remove(n,a):o.removeEvent(n,a,r.handle);n[se.expando]=void 0}n[qe.expando]&&(n[qe.expando]=void 0)}}}),o.fn.extend({detach:function(e){return ui(this,e,!0)},remove:function(e){return ui(this,e)},text:function(e){return ct(this,function(r){return r===void 0?o.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=r)})},null,e,arguments.length)},append:function(){return sr(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var r=qr(this,e);r.appendChild(e)}})},prepend:function(){return sr(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var r=qr(this,e);r.insertBefore(e,r.firstChild)}})},before:function(){return sr(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return sr(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,r=0;(e=this[r])!=null;r++)e.nodeType===1&&(o.cleanData(Re(e,!1)),e.textContent="");return this},clone:function(e,r){return e=e==null?!1:e,r=r==null?e:r,this.map(function(){return o.clone(this,e,r)})},html:function(e){return ct(this,function(r){var n=this[0]||{},a=0,u=this.length;if(r===void 0&&n.nodeType===1)return n.innerHTML;if(typeof r=="string"&&!zr.test(r)&&!ht[(hr.exec(r)||["",""])[1].toLowerCase()]){r=o.htmlPrefilter(r);try{for(;a<u;a++)n=this[a]||{},n.nodeType===1&&(o.cleanData(Re(n,!1)),n.innerHTML=r);n=0}catch(c){}}n&&this.empty().append(r)},null,e,arguments.length)},replaceWith:function(){var e=[];return sr(this,arguments,function(r){var n=this.parentNode;o.inArray(this,e)<0&&(o.cleanData(Re(this)),n&&n.replaceChild(r,this))},e)}}),o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,r){o.fn[e]=function(n){for(var a,u=[],c=o(n),d=c.length-1,b=0;b<=d;b++)a=b===d?this:this.clone(!0),o(c[b])[r](a),y.apply(u,a.get());return this.pushStack(u)}});var ci=new RegExp("^("+kr+")(?!px)[a-z%]+$","i"),fe=/^--/,E=function(e){var r=e.ownerDocument.defaultView;return(!r||!r.opener)&&(r=s),r.getComputedStyle(e)},K=function(e,r,n){var a,u,c={};for(u in r)c[u]=e.style[u],e.style[u]=r[u];a=n.call(e);for(u in r)e.style[u]=c[u];return a},ue=new RegExp(pt.join("|"),"i");(function(){function e(){if(!!S){v.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",S.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Pt.appendChild(v).appendChild(S);var I=s.getComputedStyle(S);n=I.top!=="1%",b=r(I.marginLeft)===12,S.style.right="60%",c=r(I.right)===36,a=r(I.width)===36,S.style.position="absolute",u=r(S.offsetWidth/3)===12,Pt.removeChild(v),S=null}}function r(I){return Math.round(parseFloat(I))}var n,a,u,c,d,b,v=V.createElement("div"),S=V.createElement("div");!S.style||(S.style.backgroundClip="content-box",S.cloneNode(!0).style.backgroundClip="",z.clearCloneStyle=S.style.backgroundClip==="content-box",o.extend(z,{boxSizingReliable:function(){return e(),a},pixelBoxStyles:function(){return e(),c},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),b},scrollboxSize:function(){return e(),u},reliableTrDimensions:function(){var I,W,D,X;return d==null&&(I=V.createElement("table"),W=V.createElement("tr"),D=V.createElement("div"),I.style.cssText="position:absolute;left:-11111px;border-collapse:separate",W.style.cssText="box-sizing:content-box;border:1px solid",W.style.height="1px",D.style.height="9px",D.style.display="block",Pt.appendChild(I).appendChild(W).appendChild(D),X=s.getComputedStyle(W),d=parseInt(X.height,10)+parseInt(X.borderTopWidth,10)+parseInt(X.borderBottomWidth,10)===W.offsetHeight,Pt.removeChild(I)),d}}))})();function Ie(e,r,n){var a,u,c,d,b=fe.test(r),v=e.style;return n=n||E(e),n&&(d=n.getPropertyValue(r)||n[r],b&&d&&(d=d.replace(Ze,"$1")||void 0),d===""&&!st(e)&&(d=o.style(e,r)),!z.pixelBoxStyles()&&ci.test(d)&&ue.test(r)&&(a=v.width,u=v.minWidth,c=v.maxWidth,v.minWidth=v.maxWidth=v.width=d,d=n.width,v.width=a,v.minWidth=u,v.maxWidth=c)),d!==void 0?d+"":d}function nt(e,r){return{get:function(){if(e()){delete this.get;return}return(this.get=r).apply(this,arguments)}}}var Ke=["Webkit","Moz","ms"],Je=V.createElement("div").style,xt={};function jt(e){for(var r=e[0].toUpperCase()+e.slice(1),n=Ke.length;n--;)if(e=Ke[n]+r,e in Je)return e}function ot(e){var r=o.cssProps[e]||xt[e];return r||(e in Je?e:xt[e]=jt(e)||e)}var Dr=/^(none|table(?!-c[ea]).+)/,Vr={position:"absolute",visibility:"hidden",display:"block"},yn={letterSpacing:"0",fontWeight:"400"};function bn(e,r,n){var a=nr.exec(r);return a?Math.max(0,a[2]-(n||0))+(a[3]||"px"):r}function fi(e,r,n,a,u,c){var d=r==="width"?1:0,b=0,v=0,S=0;if(n===(a?"border":"content"))return 0;for(;d<4;d+=2)n==="margin"&&(S+=o.css(e,n+pt[d],!0,u)),a?(n==="content"&&(v-=o.css(e,"padding"+pt[d],!0,u)),n!=="margin"&&(v-=o.css(e,"border"+pt[d]+"Width",!0,u))):(v+=o.css(e,"padding"+pt[d],!0,u),n!=="padding"?v+=o.css(e,"border"+pt[d]+"Width",!0,u):b+=o.css(e,"border"+pt[d]+"Width",!0,u));return!a&&c>=0&&(v+=Math.max(0,Math.ceil(e["offset"+r[0].toUpperCase()+r.slice(1)]-c-v-b-.5))||0),v+S}function wn(e,r,n){var a=E(e),u=!z.boxSizingReliable()||n,c=u&&o.css(e,"boxSizing",!1,a)==="border-box",d=c,b=Ie(e,r,a),v="offset"+r[0].toUpperCase()+r.slice(1);if(ci.test(b)){if(!n)return b;b="auto"}return(!z.boxSizingReliable()&&c||!z.reliableTrDimensions()&&le(e,"tr")||b==="auto"||!parseFloat(b)&&o.css(e,"display",!1,a)==="inline")&&e.getClientRects().length&&(c=o.css(e,"boxSizing",!1,a)==="border-box",d=v in e,d&&(b=e[v])),b=parseFloat(b)||0,b+fi(e,r,n||(c?"border":"content"),d,a,b)+"px"}o.extend({cssHooks:{opacity:{get:function(e,r){if(r){var n=Ie(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,r,n,a){if(!(!e||e.nodeType===3||e.nodeType===8||!e.style)){var u,c,d,b=dt(r),v=fe.test(r),S=e.style;if(v||(r=ot(b)),d=o.cssHooks[r]||o.cssHooks[b],n!==void 0){if(c=typeof n,c==="string"&&(u=nr.exec(n))&&u[1]&&(n=Hr(e,r,u),c="number"),n==null||n!==n)return;c==="number"&&!v&&(n+=u&&u[3]||(o.cssNumber[b]?"":"px")),!z.clearCloneStyle&&n===""&&r.indexOf("background")===0&&(S[r]="inherit"),(!d||!("set"in d)||(n=d.set(e,n,a))!==void 0)&&(v?S.setProperty(r,n):S[r]=n)}else return d&&"get"in d&&(u=d.get(e,!1,a))!==void 0?u:S[r]}},css:function(e,r,n,a){var u,c,d,b=dt(r),v=fe.test(r);return v||(r=ot(b)),d=o.cssHooks[r]||o.cssHooks[b],d&&"get"in d&&(u=d.get(e,!0,n)),u===void 0&&(u=Ie(e,r,a)),u==="normal"&&r in yn&&(u=yn[r]),n===""||n?(c=parseFloat(u),n===!0||isFinite(c)?c||0:u):u}}),o.each(["height","width"],function(e,r){o.cssHooks[r]={get:function(n,a,u){if(a)return Dr.test(o.css(n,"display"))&&(!n.getClientRects().length||!n.getBoundingClientRect().width)?K(n,Vr,function(){return wn(n,r,u)}):wn(n,r,u)},set:function(n,a,u){var c,d=E(n),b=!z.scrollboxSize()&&d.position==="absolute",v=b||u,S=v&&o.css(n,"boxSizing",!1,d)==="border-box",I=u?fi(n,r,u,S,d):0;return S&&b&&(I-=Math.ceil(n["offset"+r[0].toUpperCase()+r.slice(1)]-parseFloat(d[r])-fi(n,r,"border",!1,d)-.5)),I&&(c=nr.exec(a))&&(c[3]||"px")!=="px"&&(n.style[r]=a,a=o.css(n,r)),bn(n,a,I)}}}),o.cssHooks.marginLeft=nt(z.reliableMarginLeft,function(e,r){if(r)return(parseFloat(Ie(e,"marginLeft"))||e.getBoundingClientRect().left-K(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),o.each({margin:"",padding:"",border:"Width"},function(e,r){o.cssHooks[e+r]={expand:function(n){for(var a=0,u={},c=typeof n=="string"?n.split(" "):[n];a<4;a++)u[e+pt[a]+r]=c[a]||c[a-2]||c[0];return u}},e!=="margin"&&(o.cssHooks[e+r].set=bn)}),o.fn.extend({css:function(e,r){return ct(this,function(n,a,u){var c,d,b={},v=0;if(Array.isArray(a)){for(c=E(n),d=a.length;v<d;v++)b[a[v]]=o.css(n,a[v],!1,c);return b}return u!==void 0?o.style(n,a,u):o.css(n,a)},e,r,arguments.length>1)}});function Et(e,r,n,a,u){return new Et.prototype.init(e,r,n,a,u)}o.Tween=Et,Et.prototype={constructor:Et,init:function(e,r,n,a,u,c){this.elem=e,this.prop=n,this.easing=u||o.easing._default,this.options=r,this.start=this.now=this.cur(),this.end=a,this.unit=c||(o.cssNumber[n]?"":"px")},cur:function(){var e=Et.propHooks[this.prop];return e&&e.get?e.get(this):Et.propHooks._default.get(this)},run:function(e){var r,n=Et.propHooks[this.prop];return this.options.duration?this.pos=r=o.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=r=e,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Et.propHooks._default.set(this),this}},Et.prototype.init.prototype=Et.prototype,Et.propHooks={_default:{get:function(e){var r;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(r=o.css(e.elem,e.prop,""),!r||r==="auto"?0:r)},set:function(e){o.fx.step[e.prop]?o.fx.step[e.prop](e):e.elem.nodeType===1&&(o.cssHooks[e.prop]||e.elem.style[ot(e.prop)]!=null)?o.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Et.propHooks.scrollTop=Et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},o.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},o.fx=Et.prototype.init,o.fx.step={};var p,w,h=/^(?:toggle|show|hide)$/,A=/queueHooks$/;function P(){w&&(V.hidden===!1&&s.requestAnimationFrame?s.requestAnimationFrame(P):s.setTimeout(P,o.fx.interval),o.fx.tick())}function T(){return s.setTimeout(function(){p=void 0}),p=Date.now()}function j(e,r){var n,a=0,u={height:e};for(r=r?1:0;a<4;a+=2-r)n=pt[a],u["margin"+n]=u["padding"+n]=e;return r&&(u.opacity=u.width=e),u}function q(e,r,n){for(var a,u=(Y.tweeners[r]||[]).concat(Y.tweeners["*"]),c=0,d=u.length;c<d;c++)if(a=u[c].call(n,r,e))return a}function J(e,r,n){var a,u,c,d,b,v,S,I,W="width"in r||"height"in r,D=this,X={},ve=e.style,De=e.nodeType&&pr(e),Ae=se.get(e,"fxshow");n.queue||(d=o._queueHooks(e,"fx"),d.unqueued==null&&(d.unqueued=0,b=d.empty.fire,d.empty.fire=function(){d.unqueued||b()}),d.unqueued++,D.always(function(){D.always(function(){d.unqueued--,o.queue(e,"fx").length||d.empty.fire()})}));for(a in r)if(u=r[a],h.test(u)){if(delete r[a],c=c||u==="toggle",u===(De?"hide":"show"))if(u==="show"&&Ae&&Ae[a]!==void 0)De=!0;else continue;X[a]=Ae&&Ae[a]||o.style(e,a)}if(v=!o.isEmptyObject(r),!(!v&&o.isEmptyObject(X))){W&&e.nodeType===1&&(n.overflow=[ve.overflow,ve.overflowX,ve.overflowY],S=Ae&&Ae.display,S==null&&(S=se.get(e,"display")),I=o.css(e,"display"),I==="none"&&(S?I=S:(Ht([e],!0),S=e.style.display||S,I=o.css(e,"display"),Ht([e]))),(I==="inline"||I==="inline-block"&&S!=null)&&o.css(e,"float")==="none"&&(v||(D.done(function(){ve.display=S}),S==null&&(I=ve.display,S=I==="none"?"":I)),ve.display="inline-block")),n.overflow&&(ve.overflow="hidden",D.always(function(){ve.overflow=n.overflow[0],ve.overflowX=n.overflow[1],ve.overflowY=n.overflow[2]})),v=!1;for(a in X)v||(Ae?"hidden"in Ae&&(De=Ae.hidden):Ae=se.access(e,"fxshow",{display:S}),c&&(Ae.hidden=!De),De&&Ht([e],!0),D.done(function(){De||Ht([e]),se.remove(e,"fxshow");for(a in X)o.style(e,a,X[a])})),v=q(De?Ae[a]:0,a,D),a in Ae||(Ae[a]=v.start,De&&(v.end=v.start,v.start=0))}}function Q(e,r){var n,a,u,c,d;for(n in e)if(a=dt(n),u=r[a],c=e[n],Array.isArray(c)&&(u=c[1],c=e[n]=c[0]),n!==a&&(e[a]=c,delete e[n]),d=o.cssHooks[a],d&&"expand"in d){c=d.expand(c),delete e[a];for(n in c)n in e||(e[n]=c[n],r[n]=u)}else r[a]=u}function Y(e,r,n){var a,u,c=0,d=Y.prefilters.length,b=o.Deferred().always(function(){delete v.elem}),v=function(){if(u)return!1;for(var W=p||T(),D=Math.max(0,S.startTime+S.duration-W),X=D/S.duration||0,ve=1-X,De=0,Ae=S.tweens.length;De<Ae;De++)S.tweens[De].run(ve);return b.notifyWith(e,[S,ve,D]),ve<1&&Ae?D:(Ae||b.notifyWith(e,[S,1,0]),b.resolveWith(e,[S]),!1)},S=b.promise({elem:e,props:o.extend({},r),opts:o.extend(!0,{specialEasing:{},easing:o.easing._default},n),originalProperties:r,originalOptions:n,startTime:p||T(),duration:n.duration,tweens:[],createTween:function(W,D){var X=o.Tween(e,S.opts,W,D,S.opts.specialEasing[W]||S.opts.easing);return S.tweens.push(X),X},stop:function(W){var D=0,X=W?S.tweens.length:0;if(u)return this;for(u=!0;D<X;D++)S.tweens[D].run(1);return W?(b.notifyWith(e,[S,1,0]),b.resolveWith(e,[S,W])):b.rejectWith(e,[S,W]),this}}),I=S.props;for(Q(I,S.opts.specialEasing);c<d;c++)if(a=Y.prefilters[c].call(S,e,I,S.opts),a)return Z(a.stop)&&(o._queueHooks(S.elem,S.opts.queue).stop=a.stop.bind(a)),a;return o.map(I,q,S),Z(S.opts.start)&&S.opts.start.call(e,S),S.progress(S.opts.progress).done(S.opts.done,S.opts.complete).fail(S.opts.fail).always(S.opts.always),o.fx.timer(o.extend(v,{elem:e,anim:S,queue:S.opts.queue})),S}o.Animation=o.extend(Y,{tweeners:{"*":[function(e,r){var n=this.createTween(e,r);return Hr(n.elem,e,nr.exec(r),n),n}]},tweener:function(e,r){Z(e)?(r=e,e=["*"]):e=e.match(wt);for(var n,a=0,u=e.length;a<u;a++)n=e[a],Y.tweeners[n]=Y.tweeners[n]||[],Y.tweeners[n].unshift(r)},prefilters:[J],prefilter:function(e,r){r?Y.prefilters.unshift(e):Y.prefilters.push(e)}}),o.speed=function(e,r,n){var a=e&&typeof e=="object"?o.extend({},e):{complete:n||!n&&r||Z(e)&&e,duration:e,easing:n&&r||r&&!Z(r)&&r};return o.fx.off?a.duration=0:typeof a.duration!="number"&&(a.duration in o.fx.speeds?a.duration=o.fx.speeds[a.duration]:a.duration=o.fx.speeds._default),(a.queue==null||a.queue===!0)&&(a.queue="fx"),a.old=a.complete,a.complete=function(){Z(a.old)&&a.old.call(this),a.queue&&o.dequeue(this,a.queue)},a},o.fn.extend({fadeTo:function(e,r,n,a){return this.filter(pr).css("opacity",0).show().end().animate({opacity:r},e,n,a)},animate:function(e,r,n,a){var u=o.isEmptyObject(e),c=o.speed(r,n,a),d=function(){var b=Y(this,o.extend({},e),c);(u||se.get(this,"finish"))&&b.stop(!0)};return d.finish=d,u||c.queue===!1?this.each(d):this.queue(c.queue,d)},stop:function(e,r,n){var a=function(u){var c=u.stop;delete u.stop,c(n)};return typeof e!="string"&&(n=r,r=e,e=void 0),r&&this.queue(e||"fx",[]),this.each(function(){var u=!0,c=e!=null&&e+"queueHooks",d=o.timers,b=se.get(this);if(c)b[c]&&b[c].stop&&a(b[c]);else for(c in b)b[c]&&b[c].stop&&A.test(c)&&a(b[c]);for(c=d.length;c--;)d[c].elem===this&&(e==null||d[c].queue===e)&&(d[c].anim.stop(n),u=!1,d.splice(c,1));(u||!n)&&o.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var r,n=se.get(this),a=n[e+"queue"],u=n[e+"queueHooks"],c=o.timers,d=a?a.length:0;for(n.finish=!0,o.queue(this,e,[]),u&&u.stop&&u.stop.call(this,!0),r=c.length;r--;)c[r].elem===this&&c[r].queue===e&&(c[r].anim.stop(!0),c.splice(r,1));for(r=0;r<d;r++)a[r]&&a[r].finish&&a[r].finish.call(this);delete n.finish})}}),o.each(["toggle","show","hide"],function(e,r){var n=o.fn[r];o.fn[r]=function(a,u,c){return a==null||typeof a=="boolean"?n.apply(this,arguments):this.animate(j(r,!0),a,u,c)}}),o.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){o.fn[e]=function(n,a,u){return this.animate(r,n,a,u)}}),o.timers=[],o.fx.tick=function(){var e,r=0,n=o.timers;for(p=Date.now();r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||o.fx.stop(),p=void 0},o.fx.timer=function(e){o.timers.push(e),o.fx.start()},o.fx.interval=13,o.fx.start=function(){w||(w=!0,P())},o.fx.stop=function(){w=null},o.fx.speeds={slow:600,fast:200,_default:400},o.fn.delay=function(e,r){return e=o.fx&&o.fx.speeds[e]||e,r=r||"fx",this.queue(r,function(n,a){var u=s.setTimeout(n,e);a.stop=function(){s.clearTimeout(u)}})},function(){var e=V.createElement("input"),r=V.createElement("select"),n=r.appendChild(V.createElement("option"));e.type="checkbox",z.checkOn=e.value!=="",z.optSelected=n.selected,e=V.createElement("input"),e.value="t",e.type="radio",z.radioValue=e.value==="t"}();var ce,_e=o.expr.attrHandle;o.fn.extend({attr:function(e,r){return ct(this,o.attr,e,r,arguments.length>1)},removeAttr:function(e){return this.each(function(){o.removeAttr(this,e)})}}),o.extend({attr:function(e,r,n){var a,u,c=e.nodeType;if(!(c===3||c===8||c===2)){if(typeof e.getAttribute=="undefined")return o.prop(e,r,n);if((c!==1||!o.isXMLDoc(e))&&(u=o.attrHooks[r.toLowerCase()]||(o.expr.match.bool.test(r)?ce:void 0)),n!==void 0){if(n===null){o.removeAttr(e,r);return}return u&&"set"in u&&(a=u.set(e,n,r))!==void 0?a:(e.setAttribute(r,n+""),n)}return u&&"get"in u&&(a=u.get(e,r))!==null?a:(a=o.find.attr(e,r),a==null?void 0:a)}},attrHooks:{type:{set:function(e,r){if(!z.radioValue&&r==="radio"&&le(e,"input")){var n=e.value;return e.setAttribute("type",r),n&&(e.value=n),r}}}},removeAttr:function(e,r){var n,a=0,u=r&&r.match(wt);if(u&&e.nodeType===1)for(;n=u[a++];)e.removeAttribute(n)}}),ce={set:function(e,r,n){return r===!1?o.removeAttr(e,n):e.setAttribute(n,n),n}},o.each(o.expr.match.bool.source.match(/\w+/g),function(e,r){var n=_e[r]||o.find.attr;_e[r]=function(a,u,c){var d,b,v=u.toLowerCase();return c||(b=_e[v],_e[v]=d,d=n(a,u,c)!=null?v:null,_e[v]=b),d}});var Fe=/^(?:input|select|textarea|button)$/i,Ne=/^(?:a|area)$/i;o.fn.extend({prop:function(e,r){return ct(this,o.prop,e,r,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[o.propFix[e]||e]})}}),o.extend({prop:function(e,r,n){var a,u,c=e.nodeType;if(!(c===3||c===8||c===2))return(c!==1||!o.isXMLDoc(e))&&(r=o.propFix[r]||r,u=o.propHooks[r]),n!==void 0?u&&"set"in u&&(a=u.set(e,n,r))!==void 0?a:e[r]=n:u&&"get"in u&&(a=u.get(e,r))!==null?a:e[r]},propHooks:{tabIndex:{get:function(e){var r=o.find.attr(e,"tabindex");return r?parseInt(r,10):Fe.test(e.nodeName)||Ne.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),z.optSelected||(o.propHooks.selected={get:function(e){var r=e.parentNode;return r&&r.parentNode&&r.parentNode.selectedIndex,null},set:function(e){var r=e.parentNode;r&&(r.selectedIndex,r.parentNode&&r.parentNode.selectedIndex)}}),o.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){o.propFix[this.toLowerCase()]=this});function We(e){var r=e.match(wt)||[];return r.join(" ")}function $e(e){return e.getAttribute&&e.getAttribute("class")||""}function Tt(e){return Array.isArray(e)?e:typeof e=="string"?e.match(wt)||[]:[]}o.fn.extend({addClass:function(e){var r,n,a,u,c,d;return Z(e)?this.each(function(b){o(this).addClass(e.call(this,b,$e(this)))}):(r=Tt(e),r.length?this.each(function(){if(a=$e(this),n=this.nodeType===1&&" "+We(a)+" ",n){for(c=0;c<r.length;c++)u=r[c],n.indexOf(" "+u+" ")<0&&(n+=u+" ");d=We(n),a!==d&&this.setAttribute("class",d)}}):this)},removeClass:function(e){var r,n,a,u,c,d;return Z(e)?this.each(function(b){o(this).removeClass(e.call(this,b,$e(this)))}):arguments.length?(r=Tt(e),r.length?this.each(function(){if(a=$e(this),n=this.nodeType===1&&" "+We(a)+" ",n){for(c=0;c<r.length;c++)for(u=r[c];n.indexOf(" "+u+" ")>-1;)n=n.replace(" "+u+" "," ");d=We(n),a!==d&&this.setAttribute("class",d)}}):this):this.attr("class","")},toggleClass:function(e,r){var n,a,u,c,d=typeof e,b=d==="string"||Array.isArray(e);return Z(e)?this.each(function(v){o(this).toggleClass(e.call(this,v,$e(this),r),r)}):typeof r=="boolean"&&b?r?this.addClass(e):this.removeClass(e):(n=Tt(e),this.each(function(){if(b)for(c=o(this),u=0;u<n.length;u++)a=n[u],c.hasClass(a)?c.removeClass(a):c.addClass(a);else(e===void 0||d==="boolean")&&(a=$e(this),a&&se.set(this,"__className__",a),this.setAttribute&&this.setAttribute("class",a||e===!1?"":se.get(this,"__className__")||""))}))},hasClass:function(e){var r,n,a=0;for(r=" "+e+" ";n=this[a++];)if(n.nodeType===1&&(" "+We($e(n))+" ").indexOf(r)>-1)return!0;return!1}});var di=/\r/g;o.fn.extend({val:function(e){var r,n,a,u=this[0];return arguments.length?(a=Z(e),this.each(function(c){var d;this.nodeType===1&&(a?d=e.call(this,c,o(this).val()):d=e,d==null?d="":typeof d=="number"?d+="":Array.isArray(d)&&(d=o.map(d,function(b){return b==null?"":b+""})),r=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()],(!r||!("set"in r)||r.set(this,d,"value")===void 0)&&(this.value=d))})):u?(r=o.valHooks[u.type]||o.valHooks[u.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(u,"value"))!==void 0?n:(n=u.value,typeof n=="string"?n.replace(di,""):n==null?"":n)):void 0}}),o.extend({valHooks:{option:{get:function(e){var r=o.find.attr(e,"value");return r!=null?r:We(o.text(e))}},select:{get:function(e){var r,n,a,u=e.options,c=e.selectedIndex,d=e.type==="select-one",b=d?null:[],v=d?c+1:u.length;for(c<0?a=v:a=d?c:0;a<v;a++)if(n=u[a],(n.selected||a===c)&&!n.disabled&&(!n.parentNode.disabled||!le(n.parentNode,"optgroup"))){if(r=o(n).val(),d)return r;b.push(r)}return b},set:function(e,r){for(var n,a,u=e.options,c=o.makeArray(r),d=u.length;d--;)a=u[d],(a.selected=o.inArray(o.valHooks.option.get(a),c)>-1)&&(n=!0);return n||(e.selectedIndex=-1),c}}}}),o.each(["radio","checkbox"],function(){o.valHooks[this]={set:function(e,r){if(Array.isArray(r))return e.checked=o.inArray(o(e).val(),r)>-1}},z.checkOn||(o.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var Lr=s.location,_n={guid:Date.now()},pi=/\?/;o.parseXML=function(e){var r,n;if(!e||typeof e!="string")return null;try{r=new s.DOMParser().parseFromString(e,"text/xml")}catch(a){}return n=r&&r.getElementsByTagName("parsererror")[0],(!r||n)&&o.error("Invalid XML: "+(n?o.map(n.childNodes,function(a){return a.textContent}).join(`
`):e)),r};var Vn=/^(?:focusinfocus|focusoutblur)$/,xn=function(e){e.stopPropagation()};o.extend(o.event,{trigger:function(e,r,n,a){var u,c,d,b,v,S,I,W,D=[n||V],X=ie.call(e,"type")?e.type:e,ve=ie.call(e,"namespace")?e.namespace.split("."):[];if(c=W=d=n=n||V,!(n.nodeType===3||n.nodeType===8)&&!Vn.test(X+o.event.triggered)&&(X.indexOf(".")>-1&&(ve=X.split("."),X=ve.shift(),ve.sort()),v=X.indexOf(":")<0&&"on"+X,e=e[o.expando]?e:new o.Event(X,typeof e=="object"&&e),e.isTrigger=a?2:3,e.namespace=ve.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+ve.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),r=r==null?[e]:o.makeArray(r,[e]),I=o.event.special[X]||{},!(!a&&I.trigger&&I.trigger.apply(n,r)===!1))){if(!a&&!I.noBubble&&!Te(n)){for(b=I.delegateType||X,Vn.test(b+X)||(c=c.parentNode);c;c=c.parentNode)D.push(c),d=c;d===(n.ownerDocument||V)&&D.push(d.defaultView||d.parentWindow||s)}for(u=0;(c=D[u++])&&!e.isPropagationStopped();)W=c,e.type=u>1?b:I.bindType||X,S=(se.get(c,"events")||Object.create(null))[e.type]&&se.get(c,"handle"),S&&S.apply(c,r),S=v&&c[v],S&&S.apply&&rr(c)&&(e.result=S.apply(c,r),e.result===!1&&e.preventDefault());return e.type=X,!a&&!e.isDefaultPrevented()&&(!I._default||I._default.apply(D.pop(),r)===!1)&&rr(n)&&v&&Z(n[X])&&!Te(n)&&(d=n[v],d&&(n[v]=null),o.event.triggered=X,e.isPropagationStopped()&&W.addEventListener(X,xn),n[X](),e.isPropagationStopped()&&W.removeEventListener(X,xn),o.event.triggered=void 0,d&&(n[v]=d)),e.result}},simulate:function(e,r,n){var a=o.extend(new o.Event,n,{type:e,isSimulated:!0});o.event.trigger(a,null,r)}}),o.fn.extend({trigger:function(e,r){return this.each(function(){o.event.trigger(e,r,this)})},triggerHandler:function(e,r){var n=this[0];if(n)return o.event.trigger(e,r,n,!0)}});var Yn=/\[\]$/,Ui=/\r?\n/g,Vs=/^(?:submit|button|image|reset|file)$/i,Ys=/^(?:input|select|textarea|keygen)/i;function Xn(e,r,n,a){var u;if(Array.isArray(r))o.each(r,function(c,d){n||Yn.test(e)?a(e,d):Xn(e+"["+(typeof d=="object"&&d!=null?c:"")+"]",d,n,a)});else if(!n&&F(r)==="object")for(u in r)Xn(e+"["+u+"]",r[u],n,a);else a(e,r)}o.param=function(e,r){var n,a=[],u=function(c,d){var b=Z(d)?d():d;a[a.length]=encodeURIComponent(c)+"="+encodeURIComponent(b==null?"":b)};if(e==null)return"";if(Array.isArray(e)||e.jquery&&!o.isPlainObject(e))o.each(e,function(){u(this.name,this.value)});else for(n in e)Xn(n,e[n],r,u);return a.join("&")},o.fn.extend({serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=o.prop(this,"elements");return e?o.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!o(this).is(":disabled")&&Ys.test(this.nodeName)&&!Vs.test(e)&&(this.checked||!_t.test(e))}).map(function(e,r){var n=o(this).val();return n==null?null:Array.isArray(n)?o.map(n,function(a){return{name:r.name,value:a.replace(Ui,`\r
`)}}):{name:r.name,value:n.replace(Ui,`\r
`)}}).get()}});var Xs=/%20/g,Ks=/#.*$/,Js=/([?&])_=[^&]*/,Qs=/^(.*?):[ \t]*([^\r\n]*)$/mg,Zs=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,el=/^(?:GET|HEAD)$/,tl=/^\/\//,na={},Kn={},oa="*/".concat("*"),Jn=V.createElement("a");Jn.href=Lr.href;function aa(e){return function(r,n){typeof r!="string"&&(n=r,r="*");var a,u=0,c=r.toLowerCase().match(wt)||[];if(Z(n))for(;a=c[u++];)a[0]==="+"?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(n)):(e[a]=e[a]||[]).push(n)}}function sa(e,r,n,a){var u={},c=e===Kn;function d(b){var v;return u[b]=!0,o.each(e[b]||[],function(S,I){var W=I(r,n,a);if(typeof W=="string"&&!c&&!u[W])return r.dataTypes.unshift(W),d(W),!1;if(c)return!(v=W)}),v}return d(r.dataTypes[0])||!u["*"]&&d("*")}function Qn(e,r){var n,a,u=o.ajaxSettings.flatOptions||{};for(n in r)r[n]!==void 0&&((u[n]?e:a||(a={}))[n]=r[n]);return a&&o.extend(!0,e,a),e}function rl(e,r,n){for(var a,u,c,d,b=e.contents,v=e.dataTypes;v[0]==="*";)v.shift(),a===void 0&&(a=e.mimeType||r.getResponseHeader("Content-Type"));if(a){for(u in b)if(b[u]&&b[u].test(a)){v.unshift(u);break}}if(v[0]in n)c=v[0];else{for(u in n){if(!v[0]||e.converters[u+" "+v[0]]){c=u;break}d||(d=u)}c=c||d}if(c)return c!==v[0]&&v.unshift(c),n[c]}function il(e,r,n,a){var u,c,d,b,v,S={},I=e.dataTypes.slice();if(I[1])for(d in e.converters)S[d.toLowerCase()]=e.converters[d];for(c=I.shift();c;)if(e.responseFields[c]&&(n[e.responseFields[c]]=r),!v&&a&&e.dataFilter&&(r=e.dataFilter(r,e.dataType)),v=c,c=I.shift(),c){if(c==="*")c=v;else if(v!=="*"&&v!==c){if(d=S[v+" "+c]||S["* "+c],!d){for(u in S)if(b=u.split(" "),b[1]===c&&(d=S[v+" "+b[0]]||S["* "+b[0]],d)){d===!0?d=S[u]:S[u]!==!0&&(c=b[0],I.unshift(b[1]));break}}if(d!==!0)if(d&&e.throws)r=d(r);else try{r=d(r)}catch(W){return{state:"parsererror",error:d?W:"No conversion from "+v+" to "+c}}}}return{state:"success",data:r}}o.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Lr.href,type:"GET",isLocal:Zs.test(Lr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":oa,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":o.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,r){return r?Qn(Qn(e,o.ajaxSettings),r):Qn(o.ajaxSettings,e)},ajaxPrefilter:aa(na),ajaxTransport:aa(Kn),ajax:function(e,r){typeof e=="object"&&(r=e,e=void 0),r=r||{};var n,a,u,c,d,b,v,S,I,W,D=o.ajaxSetup({},r),X=D.context||D,ve=D.context&&(X.nodeType||X.jquery)?o(X):o.event,De=o.Deferred(),Ae=o.Callbacks("once memory"),gt=D.statusCode||{},lt={},mr={},gr="canceled",ke={readyState:0,getResponseHeader:function(Le){var et;if(v){if(!c)for(c={};et=Qs.exec(u);)c[et[1].toLowerCase()+" "]=(c[et[1].toLowerCase()+" "]||[]).concat(et[2]);et=c[Le.toLowerCase()+" "]}return et==null?null:et.join(", ")},getAllResponseHeaders:function(){return v?u:null},setRequestHeader:function(Le,et){return v==null&&(Le=mr[Le.toLowerCase()]=mr[Le.toLowerCase()]||Le,lt[Le]=et),this},overrideMimeType:function(Le){return v==null&&(D.mimeType=Le),this},statusCode:function(Le){var et;if(Le)if(v)ke.always(Le[ke.status]);else for(et in Le)gt[et]=[gt[et],Le[et]];return this},abort:function(Le){var et=Le||gr;return n&&n.abort(et),hi(0,et),this}};if(De.promise(ke),D.url=((e||D.url||Lr.href)+"").replace(tl,Lr.protocol+"//"),D.type=r.method||r.type||D.method||D.type,D.dataTypes=(D.dataType||"*").toLowerCase().match(wt)||[""],D.crossDomain==null){b=V.createElement("a");try{b.href=D.url,b.href=b.href,D.crossDomain=Jn.protocol+"//"+Jn.host!=b.protocol+"//"+b.host}catch(Le){D.crossDomain=!0}}if(D.data&&D.processData&&typeof D.data!="string"&&(D.data=o.param(D.data,D.traditional)),sa(na,D,r,ke),v)return ke;S=o.event&&D.global,S&&o.active++==0&&o.event.trigger("ajaxStart"),D.type=D.type.toUpperCase(),D.hasContent=!el.test(D.type),a=D.url.replace(Ks,""),D.hasContent?D.data&&D.processData&&(D.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(D.data=D.data.replace(Xs,"+")):(W=D.url.slice(a.length),D.data&&(D.processData||typeof D.data=="string")&&(a+=(pi.test(a)?"&":"?")+D.data,delete D.data),D.cache===!1&&(a=a.replace(Js,"$1"),W=(pi.test(a)?"&":"?")+"_="+_n.guid+++W),D.url=a+W),D.ifModified&&(o.lastModified[a]&&ke.setRequestHeader("If-Modified-Since",o.lastModified[a]),o.etag[a]&&ke.setRequestHeader("If-None-Match",o.etag[a])),(D.data&&D.hasContent&&D.contentType!==!1||r.contentType)&&ke.setRequestHeader("Content-Type",D.contentType),ke.setRequestHeader("Accept",D.dataTypes[0]&&D.accepts[D.dataTypes[0]]?D.accepts[D.dataTypes[0]]+(D.dataTypes[0]!=="*"?", "+oa+"; q=0.01":""):D.accepts["*"]);for(I in D.headers)ke.setRequestHeader(I,D.headers[I]);if(D.beforeSend&&(D.beforeSend.call(X,ke,D)===!1||v))return ke.abort();if(gr="abort",Ae.add(D.complete),ke.done(D.success),ke.fail(D.error),n=sa(Kn,D,r,ke),!n)hi(-1,"No Transport");else{if(ke.readyState=1,S&&ve.trigger("ajaxSend",[ke,D]),v)return ke;D.async&&D.timeout>0&&(d=s.setTimeout(function(){ke.abort("timeout")},D.timeout));try{v=!1,n.send(lt,hi)}catch(Le){if(v)throw Le;hi(-1,Le)}}function hi(Le,et,Hi,eo){var vr,Bi,yr,Yr,Xr,Yt=et;v||(v=!0,d&&s.clearTimeout(d),n=void 0,u=eo||"",ke.readyState=Le>0?4:0,vr=Le>=200&&Le<300||Le===304,Hi&&(Yr=rl(D,ke,Hi)),!vr&&o.inArray("script",D.dataTypes)>-1&&o.inArray("json",D.dataTypes)<0&&(D.converters["text script"]=function(){}),Yr=il(D,Yr,ke,vr),vr?(D.ifModified&&(Xr=ke.getResponseHeader("Last-Modified"),Xr&&(o.lastModified[a]=Xr),Xr=ke.getResponseHeader("etag"),Xr&&(o.etag[a]=Xr)),Le===204||D.type==="HEAD"?Yt="nocontent":Le===304?Yt="notmodified":(Yt=Yr.state,Bi=Yr.data,yr=Yr.error,vr=!yr)):(yr=Yt,(Le||!Yt)&&(Yt="error",Le<0&&(Le=0))),ke.status=Le,ke.statusText=(et||Yt)+"",vr?De.resolveWith(X,[Bi,Yt,ke]):De.rejectWith(X,[ke,Yt,yr]),ke.statusCode(gt),gt=void 0,S&&ve.trigger(vr?"ajaxSuccess":"ajaxError",[ke,D,vr?Bi:yr]),Ae.fireWith(X,[ke,Yt]),S&&(ve.trigger("ajaxComplete",[ke,D]),--o.active||o.event.trigger("ajaxStop")))}return ke},getJSON:function(e,r,n){return o.get(e,r,n,"json")},getScript:function(e,r){return o.get(e,void 0,r,"script")}}),o.each(["get","post"],function(e,r){o[r]=function(n,a,u,c){return Z(a)&&(c=c||u,u=a,a=void 0),o.ajax(o.extend({url:n,type:r,dataType:c,data:a,success:u},o.isPlainObject(n)&&n))}}),o.ajaxPrefilter(function(e){var r;for(r in e.headers)r.toLowerCase()==="content-type"&&(e.contentType=e.headers[r]||"")}),o._evalUrl=function(e,r,n){return o.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(a){o.globalEval(a,r,n)}})},o.fn.extend({wrapAll:function(e){var r;return this[0]&&(Z(e)&&(e=e.call(this[0])),r=o(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&r.insertBefore(this[0]),r.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(e){return Z(e)?this.each(function(r){o(this).wrapInner(e.call(this,r))}):this.each(function(){var r=o(this),n=r.contents();n.length?n.wrapAll(e):r.append(e)})},wrap:function(e){var r=Z(e);return this.each(function(n){o(this).wrapAll(r?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){o(this).replaceWith(this.childNodes)}),this}}),o.expr.pseudos.hidden=function(e){return!o.expr.pseudos.visible(e)},o.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},o.ajaxSettings.xhr=function(){try{return new s.XMLHttpRequest}catch(e){}};var nl={0:200,1223:204},Wi=o.ajaxSettings.xhr();z.cors=!!Wi&&"withCredentials"in Wi,z.ajax=Wi=!!Wi,o.ajaxTransport(function(e){var r,n;if(z.cors||Wi&&!e.crossDomain)return{send:function(a,u){var c,d=e.xhr();if(d.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(c in e.xhrFields)d[c]=e.xhrFields[c];e.mimeType&&d.overrideMimeType&&d.overrideMimeType(e.mimeType),!e.crossDomain&&!a["X-Requested-With"]&&(a["X-Requested-With"]="XMLHttpRequest");for(c in a)d.setRequestHeader(c,a[c]);r=function(b){return function(){r&&(r=n=d.onload=d.onerror=d.onabort=d.ontimeout=d.onreadystatechange=null,b==="abort"?d.abort():b==="error"?typeof d.status!="number"?u(0,"error"):u(d.status,d.statusText):u(nl[d.status]||d.status,d.statusText,(d.responseType||"text")!=="text"||typeof d.responseText!="string"?{binary:d.response}:{text:d.responseText},d.getAllResponseHeaders()))}},d.onload=r(),n=d.onerror=d.ontimeout=r("error"),d.onabort!==void 0?d.onabort=n:d.onreadystatechange=function(){d.readyState===4&&s.setTimeout(function(){r&&n()})},r=r("abort");try{d.send(e.hasContent&&e.data||null)}catch(b){if(r)throw b}},abort:function(){r&&r()}}}),o.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return o.globalEval(e),e}}}),o.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),o.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var r,n;return{send:function(a,u){r=o("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(c){r.remove(),n=null,c&&u(c.type==="error"?404:200,c.type)}),V.head.appendChild(r[0])},abort:function(){n&&n()}}}});var la=[],Zn=/(=)\?(?=&|$)|\?\?/;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=la.pop()||o.expando+"_"+_n.guid++;return this[e]=!0,e}}),o.ajaxPrefilter("json jsonp",function(e,r,n){var a,u,c,d=e.jsonp!==!1&&(Zn.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Zn.test(e.data)&&"data");if(d||e.dataTypes[0]==="jsonp")return a=e.jsonpCallback=Z(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,d?e[d]=e[d].replace(Zn,"$1"+a):e.jsonp!==!1&&(e.url+=(pi.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return c||o.error(a+" was not called"),c[0]},e.dataTypes[0]="json",u=s[a],s[a]=function(){c=arguments},n.always(function(){u===void 0?o(s).removeProp(a):s[a]=u,e[a]&&(e.jsonpCallback=r.jsonpCallback,la.push(a)),c&&Z(u)&&u(c[0]),c=u=void 0}),"script"}),z.createHTMLDocument=function(){var e=V.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",e.childNodes.length===2}(),o.parseHTML=function(e,r,n){if(typeof e!="string")return[];typeof r=="boolean"&&(n=r,r=!1);var a,u,c;return r||(z.createHTMLDocument?(r=V.implementation.createHTMLDocument(""),a=r.createElement("base"),a.href=V.location.href,r.head.appendChild(a)):r=V),u=Ye.exec(e),c=!n&&[],u?[r.createElement(u[1])]:(u=oi([e],r,c),c&&c.length&&o(c).remove(),o.merge([],u.childNodes))},o.fn.load=function(e,r,n){var a,u,c,d=this,b=e.indexOf(" ");return b>-1&&(a=We(e.slice(b)),e=e.slice(0,b)),Z(r)?(n=r,r=void 0):r&&typeof r=="object"&&(u="POST"),d.length>0&&o.ajax({url:e,type:u||"GET",dataType:"html",data:r}).done(function(v){c=arguments,d.html(a?o("<div>").append(o.parseHTML(v)).find(a):v)}).always(n&&function(v,S){d.each(function(){n.apply(this,c||[v.responseText,S,v])})}),this},o.expr.pseudos.animated=function(e){return o.grep(o.timers,function(r){return e===r.elem}).length},o.offset={setOffset:function(e,r,n){var a,u,c,d,b,v,S,I=o.css(e,"position"),W=o(e),D={};I==="static"&&(e.style.position="relative"),b=W.offset(),c=o.css(e,"top"),v=o.css(e,"left"),S=(I==="absolute"||I==="fixed")&&(c+v).indexOf("auto")>-1,S?(a=W.position(),d=a.top,u=a.left):(d=parseFloat(c)||0,u=parseFloat(v)||0),Z(r)&&(r=r.call(e,n,o.extend({},b))),r.top!=null&&(D.top=r.top-b.top+d),r.left!=null&&(D.left=r.left-b.left+u),"using"in r?r.using.call(e,D):W.css(D)}},o.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(u){o.offset.setOffset(this,e,u)});var r,n,a=this[0];if(!!a)return a.getClientRects().length?(r=a.getBoundingClientRect(),n=a.ownerDocument.defaultView,{top:r.top+n.pageYOffset,left:r.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var e,r,n,a=this[0],u={top:0,left:0};if(o.css(a,"position")==="fixed")r=a.getBoundingClientRect();else{for(r=this.offset(),n=a.ownerDocument,e=a.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&o.css(e,"position")==="static";)e=e.parentNode;e&&e!==a&&e.nodeType===1&&(u=o(e).offset(),u.top+=o.css(e,"borderTopWidth",!0),u.left+=o.css(e,"borderLeftWidth",!0))}return{top:r.top-u.top-o.css(a,"marginTop",!0),left:r.left-u.left-o.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&o.css(e,"position")==="static";)e=e.offsetParent;return e||Pt})}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var n=r==="pageYOffset";o.fn[e]=function(a){return ct(this,function(u,c,d){var b;if(Te(u)?b=u:u.nodeType===9&&(b=u.defaultView),d===void 0)return b?b[r]:u[c];b?b.scrollTo(n?b.pageXOffset:d,n?d:b.pageYOffset):u[c]=d},e,a,arguments.length)}}),o.each(["top","left"],function(e,r){o.cssHooks[r]=nt(z.pixelPosition,function(n,a){if(a)return a=Ie(n,r),ci.test(a)?o(n).position()[r]+"px":a})}),o.each({Height:"height",Width:"width"},function(e,r){o.each({padding:"inner"+e,content:r,"":"outer"+e},function(n,a){o.fn[a]=function(u,c){var d=arguments.length&&(n||typeof u!="boolean"),b=n||(u===!0||c===!0?"margin":"border");return ct(this,function(v,S,I){var W;return Te(v)?a.indexOf("outer")===0?v["inner"+e]:v.document.documentElement["client"+e]:v.nodeType===9?(W=v.documentElement,Math.max(v.body["scroll"+e],W["scroll"+e],v.body["offset"+e],W["offset"+e],W["client"+e])):I===void 0?o.css(v,S,b):o.style(v,S,I,b)},r,d?u:void 0,d)}})}),o.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,r){o.fn[r]=function(n){return this.on(r,n)}}),o.fn.extend({bind:function(e,r,n){return this.on(e,null,r,n)},unbind:function(e,r){return this.off(e,null,r)},delegate:function(e,r,n,a){return this.on(r,e,n,a)},undelegate:function(e,r,n){return arguments.length===1?this.off(e,"**"):this.off(r,e||"**",n)},hover:function(e,r){return this.on("mouseenter",e).on("mouseleave",r||e)}}),o.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,r){o.fn[r]=function(n,a){return arguments.length>0?this.on(r,null,n,a):this.trigger(r)}});var ol=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;o.proxy=function(e,r){var n,a,u;if(typeof r=="string"&&(n=e[r],r=e,e=n),!!Z(e))return a=f.call(arguments,2),u=function(){return e.apply(r||this,a.concat(f.call(arguments)))},u.guid=e.guid=e.guid||o.guid++,u},o.holdReady=function(e){e?o.readyWait++:o.ready(!0)},o.isArray=Array.isArray,o.parseJSON=JSON.parse,o.nodeName=le,o.isFunction=Z,o.isWindow=Te,o.camelCase=dt,o.type=F,o.now=Date.now,o.isNumeric=function(e){var r=o.type(e);return(r==="number"||r==="string")&&!isNaN(e-parseFloat(e))},o.trim=function(e){return e==null?"":(e+"").replace(ol,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return o});var al=s.jQuery,sl=s.$;return o.noConflict=function(e){return s.$===o&&(s.$=sl),e&&s.jQuery===o&&(s.jQuery=al),o},typeof t=="undefined"&&(s.jQuery=s.$=o),o})});var ws=lo((Kf,bs)=>{"use strict";var{entries:os,setPrototypeOf:as,isFrozen:Ol,getPrototypeOf:Ml,getOwnPropertyDescriptor:Nl}=Object,{freeze:It,seal:Jt,create:ss}=Object,{apply:Mo,construct:No}=typeof Reflect!="undefined"&&Reflect;It||(It=function(t){return t});Jt||(Jt=function(t){return t});Mo||(Mo=function(t,i,l){return t.apply(i,l)});No||(No=function(t,i){return new t(...i)});var Mn=Ot(Array.prototype.forEach),jl=Ot(Array.prototype.lastIndexOf),ls=Ot(Array.prototype.pop),on=Ot(Array.prototype.push),$l=Ot(Array.prototype.splice),Nn=Ot(String.prototype.toLowerCase),jo=Ot(String.prototype.toString),us=Ot(String.prototype.match),an=Ot(String.prototype.replace),Ul=Ot(String.prototype.indexOf),Wl=Ot(String.prototype.trim),cr=Ot(Object.prototype.hasOwnProperty),Ft=Ot(RegExp.prototype.test),sn=Hl(TypeError);function Ot(s){return function(t){for(var i=arguments.length,l=new Array(i>1?i-1:0),f=1;f<i;f++)l[f-1]=arguments[f];return Mo(s,t,l)}}function Hl(s){return function(){for(var t=arguments.length,i=new Array(t),l=0;l<t;l++)i[l]=arguments[l];return No(s,i)}}function Pe(s,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Nn;as&&as(s,null);let l=t.length;for(;l--;){let f=t[l];if(typeof f=="string"){let g=i(f);g!==f&&(Ol(t)||(t[l]=g),f=g)}s[f]=!0}return s}function Bl(s){for(let t=0;t<s.length;t++)cr(s,t)||(s[t]=null);return s}function wi(s){let t=ss(null);for(let[i,l]of os(s))cr(s,i)&&(Array.isArray(l)?t[i]=Bl(l):l&&typeof l=="object"&&l.constructor===Object?t[i]=wi(l):t[i]=l);return t}function ln(s,t){for(;s!==null;){let l=Nl(s,t);if(l){if(l.get)return Ot(l.get);if(typeof l.value=="function")return Ot(l.value)}s=Ml(s)}function i(){return null}return i}var cs=It(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$o=It(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Uo=It(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Gl=It(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Wo=It(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),zl=It(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),fs=It(["#text"]),ds=It(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ho=It(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ps=It(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),jn=It(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ql=Jt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Vl=Jt(/<%[\w\W]*|[\w\W]*%>/gm),Yl=Jt(/\$\{[\w\W]*/gm),Xl=Jt(/^data-[\-\w.\u00B7-\uFFFF]+$/),Kl=Jt(/^aria-[\-\w]+$/),hs=Jt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Jl=Jt(/^(?:\w+script|data):/i),Ql=Jt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ms=Jt(/^html$/i),Zl=Jt(/^[a-z][.\w]*(-[.\w]+)+$/i),gs=Object.freeze({__proto__:null,ARIA_ATTR:Kl,ATTR_WHITESPACE:Ql,CUSTOM_ELEMENT:Zl,DATA_ATTR:Xl,DOCTYPE_NAME:ms,ERB_EXPR:Vl,IS_ALLOWED_URI:hs,IS_SCRIPT_OR_DATA:Jl,MUSTACHE_EXPR:ql,TMPLIT_EXPR:Yl}),un={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},eu=function(){return typeof window=="undefined"?null:window},tu=function(t,i){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let l=null,f="data-tt-policy-suffix";i&&i.hasAttribute(f)&&(l=i.getAttribute(f));let g="dompurify"+(l?"#"+l:"");try{return t.createPolicy(g,{createHTML(y){return y},createScriptURL(y){return y}})}catch(y){return console.warn("TrustedTypes policy "+g+" could not be created."),null}},vs=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ys(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eu(),t=fe=>ys(fe);if(t.version="3.2.4",t.removed=[],!s||!s.document||s.document.nodeType!==un.document||!s.Element)return t.isSupported=!1,t;let{document:i}=s,l=i,f=l.currentScript,{DocumentFragment:g,HTMLTemplateElement:y,Node:_,Element:C,NodeFilter:O,NamedNodeMap:ie=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:xe,DOMParser:B,trustedTypes:z}=s,Z=C.prototype,Te=ln(Z,"cloneNode"),V=ln(Z,"remove"),M=ln(Z,"nextSibling"),H=ln(Z,"childNodes"),F=ln(Z,"parentNode");if(typeof y=="function"){let fe=i.createElement("template");fe.content&&fe.content.ownerDocument&&(i=fe.content.ownerDocument)}let N,G="",{implementation:o,createNodeIterator:Ee,createDocumentFragment:le,getElementsByTagName:Oe}=i,{importNode:it}=l,Me=vs();t.isSupported=typeof os=="function"&&typeof F=="function"&&o&&o.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:be,ERB_EXPR:Ze,TMPLIT_EXPR:Ct,DATA_ATTR:Tr,ARIA_ATTR:vt,IS_SCRIPT_OR_DATA:Ar,ATTR_WHITESPACE:yt,CUSTOM_ELEMENT:Zr}=gs,{IS_ALLOWED_URI:ei}=gs,Ye=null,bt=Pe({},[...cs,...$o,...Uo,...Wo,...fs]),Xe=null,Ai=Pe({},[...ds,...Ho,...ps,...jn]),Be=Object.seal(ss(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Sr=null,ti=null,ri=!0,wt=!0,Si=!1,Zt=!0,Wt=!1,$r=!0,er=!1,Cr=!1,ft=!1,ct=!1,Pr=!1,tr=!1,Ur=!0,dt=!1,rr="user-content-",zt=!0,se=!1,qe={},ir=null,ii=Pe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ni=null,Wr=Pe({},["audio","video","img","source","image","track"]),kr=null,nr=Pe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pt="http://www.w3.org/1998/Math/MathML",Pt="http://www.w3.org/2000/svg",st="http://www.w3.org/1999/xhtml",qt=st,pr=!1,Hr=null,Br=Pe({},[pt,Pt,st],jo),Rr=Pe({},["mi","mo","mn","ms","mtext"]),Ht=Pe({},["annotation-xml"]),_t=Pe({},["title","style","font","a","script"]),hr=null,Ci=["application/xhtml+xml","text/html"],ht="text/html",Re=null,Vt=null,$i=i.createElement("form"),oi=function(E){return E instanceof RegExp||E instanceof Function},Gr=function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Vt&&Vt===E)){if((!E||typeof E!="object")&&(E={}),E=wi(E),hr=Ci.indexOf(E.PARSER_MEDIA_TYPE)===-1?ht:E.PARSER_MEDIA_TYPE,Re=hr==="application/xhtml+xml"?jo:Nn,Ye=cr(E,"ALLOWED_TAGS")?Pe({},E.ALLOWED_TAGS,Re):bt,Xe=cr(E,"ALLOWED_ATTR")?Pe({},E.ALLOWED_ATTR,Re):Ai,Hr=cr(E,"ALLOWED_NAMESPACES")?Pe({},E.ALLOWED_NAMESPACES,jo):Br,kr=cr(E,"ADD_URI_SAFE_ATTR")?Pe(wi(nr),E.ADD_URI_SAFE_ATTR,Re):nr,ni=cr(E,"ADD_DATA_URI_TAGS")?Pe(wi(Wr),E.ADD_DATA_URI_TAGS,Re):Wr,ir=cr(E,"FORBID_CONTENTS")?Pe({},E.FORBID_CONTENTS,Re):ii,Sr=cr(E,"FORBID_TAGS")?Pe({},E.FORBID_TAGS,Re):{},ti=cr(E,"FORBID_ATTR")?Pe({},E.FORBID_ATTR,Re):{},qe=cr(E,"USE_PROFILES")?E.USE_PROFILES:!1,ri=E.ALLOW_ARIA_ATTR!==!1,wt=E.ALLOW_DATA_ATTR!==!1,Si=E.ALLOW_UNKNOWN_PROTOCOLS||!1,Zt=E.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Wt=E.SAFE_FOR_TEMPLATES||!1,$r=E.SAFE_FOR_XML!==!1,er=E.WHOLE_DOCUMENT||!1,ct=E.RETURN_DOM||!1,Pr=E.RETURN_DOM_FRAGMENT||!1,tr=E.RETURN_TRUSTED_TYPE||!1,ft=E.FORCE_BODY||!1,Ur=E.SANITIZE_DOM!==!1,dt=E.SANITIZE_NAMED_PROPS||!1,zt=E.KEEP_CONTENT!==!1,se=E.IN_PLACE||!1,ei=E.ALLOWED_URI_REGEXP||hs,qt=E.NAMESPACE||st,Rr=E.MATHML_TEXT_INTEGRATION_POINTS||Rr,Ht=E.HTML_INTEGRATION_POINTS||Ht,Be=E.CUSTOM_ELEMENT_HANDLING||{},E.CUSTOM_ELEMENT_HANDLING&&oi(E.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Be.tagNameCheck=E.CUSTOM_ELEMENT_HANDLING.tagNameCheck),E.CUSTOM_ELEMENT_HANDLING&&oi(E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Be.attributeNameCheck=E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),E.CUSTOM_ELEMENT_HANDLING&&typeof E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Be.allowCustomizedBuiltInElements=E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Wt&&(wt=!1),Pr&&(ct=!0),qe&&(Ye=Pe({},fs),Xe=[],qe.html===!0&&(Pe(Ye,cs),Pe(Xe,ds)),qe.svg===!0&&(Pe(Ye,$o),Pe(Xe,Ho),Pe(Xe,jn)),qe.svgFilters===!0&&(Pe(Ye,Uo),Pe(Xe,Ho),Pe(Xe,jn)),qe.mathMl===!0&&(Pe(Ye,Wo),Pe(Xe,ps),Pe(Xe,jn))),E.ADD_TAGS&&(Ye===bt&&(Ye=wi(Ye)),Pe(Ye,E.ADD_TAGS,Re)),E.ADD_ATTR&&(Xe===Ai&&(Xe=wi(Xe)),Pe(Xe,E.ADD_ATTR,Re)),E.ADD_URI_SAFE_ATTR&&Pe(kr,E.ADD_URI_SAFE_ATTR,Re),E.FORBID_CONTENTS&&(ir===ii&&(ir=wi(ir)),Pe(ir,E.FORBID_CONTENTS,Re)),zt&&(Ye["#text"]=!0),er&&Pe(Ye,["html","head","body"]),Ye.table&&(Pe(Ye,["tbody"]),delete Sr.tbody),E.TRUSTED_TYPES_POLICY){if(typeof E.TRUSTED_TYPES_POLICY.createHTML!="function")throw sn('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof E.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw sn('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');N=E.TRUSTED_TYPES_POLICY,G=N.createHTML("")}else N===void 0&&(N=tu(z,f)),N!==null&&typeof G=="string"&&(G=N.createHTML(""));It&&It(E),Vt=E}},or=Pe({},[...$o,...Uo,...Gl]),ar=Pe({},[...Wo,...zl]),ai=function(E){let K=F(E);(!K||!K.tagName)&&(K={namespaceURI:qt,tagName:"template"});let ue=Nn(E.tagName),Ie=Nn(K.tagName);return Hr[E.namespaceURI]?E.namespaceURI===Pt?K.namespaceURI===st?ue==="svg":K.namespaceURI===pt?ue==="svg"&&(Ie==="annotation-xml"||Rr[Ie]):Boolean(or[ue]):E.namespaceURI===pt?K.namespaceURI===st?ue==="math":K.namespaceURI===Pt?ue==="math"&&Ht[Ie]:Boolean(ar[ue]):E.namespaceURI===st?K.namespaceURI===Pt&&!Ht[Ie]||K.namespaceURI===pt&&!Rr[Ie]?!1:!ar[ue]&&(_t[ue]||!or[ue]):!!(hr==="application/xhtml+xml"&&Hr[E.namespaceURI]):!1},mt=function(E){on(t.removed,{element:E});try{F(E).removeChild(E)}catch(K){V(E)}},zr=function(E,K){try{on(t.removed,{attribute:K.getAttributeNode(E),from:K})}catch(ue){on(t.removed,{attribute:null,from:K})}if(K.removeAttribute(E),E==="is")if(ct||Pr)try{mt(K)}catch(ue){}else try{K.setAttribute(E,"")}catch(ue){}},si=function(E){let K=null,ue=null;if(ft)E="<remove></remove>"+E;else{let Ke=us(E,/^[\r\n\t ]+/);ue=Ke&&Ke[0]}hr==="application/xhtml+xml"&&qt===st&&(E='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+E+"</body></html>");let Ie=N?N.createHTML(E):E;if(qt===st)try{K=new B().parseFromString(Ie,hr)}catch(Ke){}if(!K||!K.documentElement){K=o.createDocument(qt,"template",null);try{K.documentElement.innerHTML=pr?G:Ie}catch(Ke){}}let nt=K.body||K.documentElement;return E&&ue&&nt.insertBefore(i.createTextNode(ue),nt.childNodes[0]||null),qt===st?Oe.call(K,er?"html":"body")[0]:er?K.documentElement:nt},Pi=function(E){return Ee.call(E.ownerDocument||E,E,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT|O.SHOW_PROCESSING_INSTRUCTION|O.SHOW_CDATA_SECTION,null)},qr=function(E){return E instanceof xe&&(typeof E.nodeName!="string"||typeof E.textContent!="string"||typeof E.removeChild!="function"||!(E.attributes instanceof ie)||typeof E.removeAttribute!="function"||typeof E.setAttribute!="function"||typeof E.namespaceURI!="string"||typeof E.insertBefore!="function"||typeof E.hasChildNodes!="function")},ki=function(E){return typeof _=="function"&&E instanceof _};function Bt(fe,E,K){Mn(fe,ue=>{ue.call(t,E,K,Vt)})}let li=function(E){let K=null;if(Bt(Me.beforeSanitizeElements,E,null),qr(E))return mt(E),!0;let ue=Re(E.nodeName);if(Bt(Me.uponSanitizeElement,E,{tagName:ue,allowedTags:Ye}),E.hasChildNodes()&&!ki(E.firstElementChild)&&Ft(/<[/\w]/g,E.innerHTML)&&Ft(/<[/\w]/g,E.textContent)||E.nodeType===un.progressingInstruction||$r&&E.nodeType===un.comment&&Ft(/<[/\w]/g,E.data))return mt(E),!0;if(!Ye[ue]||Sr[ue]){if(!Sr[ue]&&sr(ue)&&(Be.tagNameCheck instanceof RegExp&&Ft(Be.tagNameCheck,ue)||Be.tagNameCheck instanceof Function&&Be.tagNameCheck(ue)))return!1;if(zt&&!ir[ue]){let Ie=F(E)||E.parentNode,nt=H(E)||E.childNodes;if(nt&&Ie){let Ke=nt.length;for(let Je=Ke-1;Je>=0;--Je){let xt=Te(nt[Je],!0);xt.__removalCount=(E.__removalCount||0)+1,Ie.insertBefore(xt,M(E))}}}return mt(E),!0}return E instanceof C&&!ai(E)||(ue==="noscript"||ue==="noembed"||ue==="noframes")&&Ft(/<\/no(script|embed|frames)/i,E.innerHTML)?(mt(E),!0):(Wt&&E.nodeType===un.text&&(K=E.textContent,Mn([be,Ze,Ct],Ie=>{K=an(K,Ie," ")}),E.textContent!==K&&(on(t.removed,{element:E.cloneNode()}),E.textContent=K)),Bt(Me.afterSanitizeElements,E,null),!1)},Ri=function(E,K,ue){if(Ur&&(K==="id"||K==="name")&&(ue in i||ue in $i))return!1;if(!(wt&&!ti[K]&&Ft(Tr,K))){if(!(ri&&Ft(vt,K))){if(!Xe[K]||ti[K]){if(!(sr(E)&&(Be.tagNameCheck instanceof RegExp&&Ft(Be.tagNameCheck,E)||Be.tagNameCheck instanceof Function&&Be.tagNameCheck(E))&&(Be.attributeNameCheck instanceof RegExp&&Ft(Be.attributeNameCheck,K)||Be.attributeNameCheck instanceof Function&&Be.attributeNameCheck(K))||K==="is"&&Be.allowCustomizedBuiltInElements&&(Be.tagNameCheck instanceof RegExp&&Ft(Be.tagNameCheck,ue)||Be.tagNameCheck instanceof Function&&Be.tagNameCheck(ue))))return!1}else if(!kr[K]){if(!Ft(ei,an(ue,yt,""))){if(!((K==="src"||K==="xlink:href"||K==="href")&&E!=="script"&&Ul(ue,"data:")===0&&ni[E])){if(!(Si&&!Ft(Ar,an(ue,yt,"")))){if(ue)return!1}}}}}}return!0},sr=function(E){return E!=="annotation-xml"&&us(E,Zr)},ui=function(E){Bt(Me.beforeSanitizeAttributes,E,null);let{attributes:K}=E;if(!K||qr(E))return;let ue={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Xe,forceKeepAttr:void 0},Ie=K.length;for(;Ie--;){let nt=K[Ie],{name:Ke,namespaceURI:Je,value:xt}=nt,jt=Re(Ke),ot=Ke==="value"?xt:Wl(xt);if(ue.attrName=jt,ue.attrValue=ot,ue.keepAttr=!0,ue.forceKeepAttr=void 0,Bt(Me.uponSanitizeAttribute,E,ue),ot=ue.attrValue,dt&&(jt==="id"||jt==="name")&&(zr(Ke,E),ot=rr+ot),$r&&Ft(/((--!?|])>)|<\/(style|title)/i,ot)){zr(Ke,E);continue}if(ue.forceKeepAttr||(zr(Ke,E),!ue.keepAttr))continue;if(!Zt&&Ft(/\/>/i,ot)){zr(Ke,E);continue}Wt&&Mn([be,Ze,Ct],Vr=>{ot=an(ot,Vr," ")});let Dr=Re(E.nodeName);if(!!Ri(Dr,jt,ot)){if(N&&typeof z=="object"&&typeof z.getAttributeType=="function"&&!Je)switch(z.getAttributeType(Dr,jt)){case"TrustedHTML":{ot=N.createHTML(ot);break}case"TrustedScriptURL":{ot=N.createScriptURL(ot);break}}try{Je?E.setAttributeNS(Je,Ke,ot):E.setAttribute(Ke,ot),qr(E)?mt(E):ls(t.removed)}catch(Vr){}}}Bt(Me.afterSanitizeAttributes,E,null)},ci=function fe(E){let K=null,ue=Pi(E);for(Bt(Me.beforeSanitizeShadowDOM,E,null);K=ue.nextNode();)Bt(Me.uponSanitizeShadowNode,K,null),li(K),ui(K),K.content instanceof g&&fe(K.content);Bt(Me.afterSanitizeShadowDOM,E,null)};return t.sanitize=function(fe){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=null,ue=null,Ie=null,nt=null;if(pr=!fe,pr&&(fe="<!-->"),typeof fe!="string"&&!ki(fe))if(typeof fe.toString=="function"){if(fe=fe.toString(),typeof fe!="string")throw sn("dirty is not a string, aborting")}else throw sn("toString is not a function");if(!t.isSupported)return fe;if(Cr||Gr(E),t.removed=[],typeof fe=="string"&&(se=!1),se){if(fe.nodeName){let xt=Re(fe.nodeName);if(!Ye[xt]||Sr[xt])throw sn("root node is forbidden and cannot be sanitized in-place")}}else if(fe instanceof _)K=si("<!---->"),ue=K.ownerDocument.importNode(fe,!0),ue.nodeType===un.element&&ue.nodeName==="BODY"||ue.nodeName==="HTML"?K=ue:K.appendChild(ue);else{if(!ct&&!Wt&&!er&&fe.indexOf("<")===-1)return N&&tr?N.createHTML(fe):fe;if(K=si(fe),!K)return ct?null:tr?G:""}K&&ft&&mt(K.firstChild);let Ke=Pi(se?fe:K);for(;Ie=Ke.nextNode();)li(Ie),ui(Ie),Ie.content instanceof g&&ci(Ie.content);if(se)return fe;if(ct){if(Pr)for(nt=le.call(K.ownerDocument);K.firstChild;)nt.appendChild(K.firstChild);else nt=K;return(Xe.shadowroot||Xe.shadowrootmode)&&(nt=it.call(l,nt,!0)),nt}let Je=er?K.outerHTML:K.innerHTML;return er&&Ye["!doctype"]&&K.ownerDocument&&K.ownerDocument.doctype&&K.ownerDocument.doctype.name&&Ft(ms,K.ownerDocument.doctype.name)&&(Je="<!DOCTYPE "+K.ownerDocument.doctype.name+`>
`+Je),Wt&&Mn([be,Ze,Ct],xt=>{Je=an(Je,xt," ")}),N&&tr?N.createHTML(Je):Je},t.setConfig=function(){let fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Gr(fe),Cr=!0},t.clearConfig=function(){Vt=null,Cr=!1},t.isValidAttribute=function(fe,E,K){Vt||Gr({});let ue=Re(fe),Ie=Re(E);return Ri(ue,Ie,K)},t.addHook=function(fe,E){typeof E=="function"&&on(Me[fe],E)},t.removeHook=function(fe,E){if(E!==void 0){let K=jl(Me[fe],E);return K===-1?void 0:$l(Me[fe],K,1)[0]}return ls(Me[fe])},t.removeHooks=function(fe){Me[fe]=[]},t.removeAllHooks=function(){Me=vs()},t}var ru=ys();bs.exports=ru});var Bo=uo(go());var Rn=class{constructor(t,i){t=t||[],this.lines=t,this.text=i,this.offset2loc=new Map,this.line2offset=new Map;for(var l of t)l.offset>=0&&(this.offset2loc[l.offset]||(this.offset2loc[l.offset]=l),this.line2offset[l.line]||(this.line2offset[l.line]=l.offset))}findLineForOffset(t,i){if(this.offset2loc)for(var l=0;l<=i;l++){var f=this.offset2loc[t];if(f)return f;t--}return null}lineCount(){return this.lines.length}};function xa(s){return"errors"in s}function Ea(s){return"output"in s}var Ta=uo(go()),vo=class{constructor(t){this.preset_id=Dt(t)}async getRemoteFile(t){return new Promise((i,l)=>Vi(t,i,gi(t)?"arraybuffer":"text"))}async getFileData(t){var i="presets/"+this.preset_id+"/"+t,l=await this.getRemoteFile(i);return l&&console.log("read",i,l.length,"bytes"),l}async setFileData(t,i){}};var Xi=class{constructor(t,i){this.basefs=t,this.overlayfs=i}async getFileData(t){var i=await this.overlayfs.getFileData(t);return i==null?this.basefs.getFileData(t):i}async setFileData(t,i){return await this.overlayfs.setFileData(t,i),this.basefs.setFileData(t,i)}},yo=class{constructor(t){this.store=t}async getFileData(t){return this.store.getItem(t)}async setFileData(t,i){return this.store.setItem(t,i)}};var bo=class{constructor(t,i,l,f){this.filedata={};this.pendingWorkerMessages=0;this.hasDoneInitialCompilation=!1;this.tools_preloaded={};this.isCompiling=!1;this.filename2path={};this.worker=t,this.platform_id=i,this.platform=l,this.filesystem=f,t.onmessage=g=>{this.receiveWorkerMessage(g.data)}}receiveWorkerMessage(t){var i=this.pendingWorkerMessages>1;i?(this.sendBuild(),this.pendingWorkerMessages=1):(this.callbackBuildStatus&&this.callbackBuildStatus(!1),this.isCompiling||(console.log(this.pendingWorkerMessages),console.trace()),this.isCompiling=!1,this.pendingWorkerMessages=0,this.hasDoneInitialCompilation=!0),t&&Ea(t)?this.processBuildResult(t):xa(t)&&this.processBuildListings(t),this.callbackBuildResult(t)}getToolForFilename(t){return this.remoteTool?"remote:"+this.remoteTool:this.platform.getToolForFilename(t)}preloadWorker(t){var i=this.getToolForFilename(t);i&&!this.tools_preloaded[i]&&(this.worker.postMessage({preload:i,platform:this.platform_id}),this.tools_preloaded[i]=!0)}pushAllFiles(t,i){t.push(i);var l=co(this.mainPath);l.length>0&&l!="local"&&t.push(l+"/"+i)}parseIncludeDependencies(t){let i=[],l;if(this.platform_id.startsWith("verilog")){let f=/^\s*(`include|[.]include)\s+"(.+?)"/gmi;for(;l=f.exec(t);)this.pushAllFiles(i,l[2]);let g=/^\s*\$(include|\$dofile|\$write_image_in_table)\('(.+?)'/gmi;for(;l=g.exec(t);)this.pushAllFiles(i,l[2]);let y=/^\s*([.]arch)\s+(\w+)/gmi;for(;l=y.exec(t);)this.pushAllFiles(i,l[2]+".json");let _=/\$readmem[bh]\("(.+?)"/gmi;for(;l=_.exec(t);)this.pushAllFiles(i,l[1])}else{let f=/^\s*[.#%]?(include|incbin|embed)\s+"(.+?)"/gmi;for(;l=f.exec(t);)this.pushAllFiles(i,l[2]);let g=/^\s*([;']|[/][/])#(resource)\s+"(.+?)"/gm;for(;l=g.exec(t);)this.pushAllFiles(i,l[3]);let y=/^\s+(USE|ASM)\s+(\S+[.]\S+)/gm;for(;l=y.exec(t);)this.pushAllFiles(i,l[2]);let _=/^\s*(import|embed)\s*"(.+?)";/gmi;for(;l=_.exec(t);)l[1]=="import"?this.pushAllFiles(i,l[2]+".wiz"):this.pushAllFiles(i,l[2]);let C=/^\s*(import)\s*"(.+?)"/gmi;for(;l=C.exec(t);)this.pushAllFiles(i,l[2]);let O=/^[!]src\s+"(.+?)"/gmi;for(;l=O.exec(t);)this.pushAllFiles(i,l[1])}return i}parseLinkDependencies(t){let i=[],l;if(!this.platform_id.startsWith("verilog")){let f=/^\s*([;]|[/][/])#link\s+"(.+?)"/gm;for(;l=f.exec(t);)this.pushAllFiles(i,l[2])}return i}loadFileDependencies(t){let i=this.parseIncludeDependencies(t),l=this.parseLinkDependencies(t),f=i.concat(l);return this.loadFiles(f).then(g=>{if(g)for(let y of g)y.link=l.indexOf(y.path)>=0;return g})}okToSend(){let t=window.autoCompileEnabled===!0,i=!this.hasDoneInitialCompilation;return this.mainPath!=null&&(t||i)?this.pendingWorkerMessages++==0:!1}updateFileInStore(t,i){this.filesystem.setFileData(t,i)}buildWorkerMessage(t){this.preloadWorker(this.mainPath);var i={updates:[],buildsteps:[]},l=this.stripLocalPath(this.mainPath),f=this.getFile(this.mainPath),g=[];i.updates.push({path:l,data:f}),this.filename2path[l]=this.mainPath;let _=this.getToolForFilename(this.mainPath).startsWith("remote:");for(var C of t)(!C.link||_)&&(i.updates.push({path:C.filename,data:C.data}),g.push(C.filename)),this.filename2path[C.filename]=C.path;i.buildsteps.push({path:l,files:[l].concat(g),platform:this.platform_id,tool:this.getToolForFilename(this.mainPath),mainfile:!0});for(var C of t)C.data&&C.link&&(this.preloadWorker(C.filename),i.updates.push({path:C.filename,data:C.data}),i.buildsteps.push({path:C.filename,files:[C.filename].concat(g),platform:this.platform_id,tool:this.getToolForFilename(C.path)}));return this.dataItems&&(i.setitems=this.dataItems),i}async loadFiles(t){var i=[],l=(y,_)=>{i.push({path:y,filename:this.stripLocalPath(y),link:!0,data:_})};for(var f of t)if(f in this.filedata){var g=this.filedata[f];g&&l(f,g)}else{var g=await this.filesystem.getFileData(f);g?(this.filedata[f]=g,l(f,g)):this.filedata[f]=null}return i}getFile(t){return this.filedata[t]}iterateFiles(t){for(var i in this.filedata)t(i,this.getFile(i))}sendBuild(){if(!this.mainPath)throw Error("need to call setMainFile first");var t=this.getFile(this.mainPath);if(t instanceof Uint8Array){this.isCompiling=!0,this.receiveWorkerMessage({output:t,errors:[],listings:null,symbolmap:null,params:{}});return}var i=typeof t=="string"?t:"";return this.loadFileDependencies(i).then(l=>{l||(l=[]);var f=this.buildWorkerMessage(l);this.worker.postMessage(f),this.isCompiling=!0})}updateFile(t,i){this.filedata[t]!=i&&(this.updateFileInStore(t,i),this.filedata[t]=i,this.okToSend()&&(this.callbackBuildStatus&&this.callbackBuildStatus(!0),this.sendBuild()))}setMainFile(t){this.mainPath=t,this.callbackBuildStatus&&this.callbackBuildStatus(!0),this.sendBuild()}processBuildListings(t){if(t.listings){this.listings=t.listings;for(var i in this.listings){var l=this.listings[i];l.lines&&(l.sourcefile=new Rn(l.lines,l.text)),l.asmlines&&(l.assemblyfile=new Rn(l.asmlines,l.text))}}}processBuildResult(t){this.processBuildListings(t),this.processBuildSegments(t)}processBuildSegments(t){var i=this.platform.getMemoryMap&&this.platform.getMemoryMap().main||[];(i==null?void 0:i.length)&&i.forEach(l=>l.source="native"),t.segments&&(t.segments.forEach(l=>l.source="linker"),i=i.concat(t.segments||[])),i.sort((l,f)=>l.start-f.start),this.segments=i}getListings(){return this.listings}getListingForFile(t){var i=ut(this.stripLocalPath(t)),l=this.getListings();for(var f in l)if(f==t)return l[f];for(var f in l)if(ut(f)==i)return l[f]}stripLocalPath(t){if(this.mainPath){var i=co(this.mainPath);i!=""&&t.startsWith(i+"/")&&(t=t.substring(i.length+1))}return t}updateDataItems(t){this.dataItems=t,this.okToSend()&&this.sendBuild()}};function Ki(s){var t=Ta.default.createInstance({name:"__"+s,version:2});return t}var wo=Sa(),_o=class{constructor(t,i){this.id2window={};this.id2createfn={};this.id2showfn={};this.id2div={};this.containerdiv=t,this.project=i,this.undofiles=[]}isWindow(t){return this.id2createfn[t]!=null}setCreateFunc(t,i){this.id2createfn[t]=i}setShowFunc(t,i){this.id2showfn[t]=i}create(t){var i=this.id2window[t];i||(console.log("creating window",t),i=this.id2window[t]=this.id2createfn[t](t));var l=this.id2div[t];return l||(l=this.id2div[t]=i.createDiv(this.containerdiv),wo(l).hide()),i}createOrShow(t,i){var l=this.create(t),f=this.id2div[t];return this.activewnd!=l?(this.activediv&&wo(this.activediv).hide(),this.activewnd&&this.activewnd.setVisible&&this.activewnd.setVisible(!1),this.activediv=f,this.activewnd=l,wo(f).show(),this.refresh(!0),this.refreshErrors(),l.setVisible&&l.setVisible(!0),this.id2showfn[t]&&this.id2showfn[t](t,l)):this.refresh(i),this.activeid=t,l}put(t,i){this.id2window[t]=i}refresh(t){this.activewnd&&this.activewnd.refresh&&this.activewnd.refresh(t)}tick(){this.activewnd&&this.activewnd.tick&&this.activewnd.tick()}setErrors(t){this.lasterrors=t,this.refreshErrors()}refreshErrors(){this.activewnd&&this.activewnd.markErrors&&(this.lasterrors&&this.lasterrors.length?this.activewnd.markErrors(this.lasterrors):this.activewnd.clearErrors())}getActive(){return this.activewnd}getActiveID(){return this.activeid}getCurrentText(){if(this.activewnd&&this.activewnd.getValue)return this.activewnd.getValue();bootbox.alert("Please switch to an editor window.")}resize(){this.activeid&&this.activewnd&&this.activewnd.recreateOnResize&&(this.activewnd=null,this.id2window[this.activeid]=null,this.id2div[this.activeid]=null,this.createOrShow(this.activeid))}updateFile(t,i){var l=this.id2window[t];l&&l.setText&&typeof i=="string"?(l.setText(i),this.undofiles.push(t)):this.project.updateFile(t,i)}undoStep(){var t=this.undofiles.pop(),i=this.id2window[t];i&&i.undoStep?i.undoStep():bootbox.alert("No more steps to undo.")}updateAllOpenWindows(t){for(var i in this.id2window){var l=this.id2window[i];l&&l.setText&&t.getItem(i).then(f=>{this.updateFile(i,f)})}}findWindowWithFilePrefix(t){t=Rt(ut(t));for(var i in this.id2createfn)if(!(i.toLowerCase().endsWith(".h")||i.toLowerCase().endsWith(".inc")||i.toLowerCase().endsWith(".bas"))&&Rt(ut(i))==t)return i;return null}};var vl=`$NAME
=====

[Open this project in 8bitworkshop](http://8bitworkshop.com/redir.html?platform=$PLATFORM&githubURL=$GITHUBURL&file=$MAINFILE).
`;function Oi(){for(var s={},t=0;t<localStorage.length;t++){var i=localStorage.key(t);if(i.startsWith("__repo__")){var l=JSON.parse(localStorage.getItem(i)),f=i.substring("__repo__".length);s[f]=l}}return s}function Ji(s){var t=s.split("/",8);return t.length<5||t[0]!="https:"||t[2]!="github.com"||t[5]&&t[5]!="tree"?null:{user:t[3],repo:t[4],repopath:t[3]+"/"+t[4],branch:t[6],subtreepath:t[7]}}var xo=class{constructor(t,i,l,f){this.githubCons=t,this.githubToken=i,this.store=l,this.project=f,this.recreateGithub()}recreateGithub(){this.github=new this.githubCons({token:this.githubToken})}login(){if(this.githubToken&&this.githubToken.length)return new Promise((i,l)=>{i()});var t=new firebase.auth.GithubAuthProvider;return t.addScope("repo"),firebase.auth().signInWithPopup(t).then(i=>{this.githubToken=i.credential.accessToken;var l=i.user;this.recreateGithub(),document.cookie="__github_key="+this.githubToken+";path=/;max-age=31536000",console.log("Stored GitHub OAUTH key")})}logout(){return this.githubToken&&this.githubToken.length?firebase.auth().signOut().then(()=>{document.cookie="__github_key=;path=/;max-age=0",this.githubToken=null,this.recreateGithub()}):new Promise((t,i)=>{t()})}isFileIgnored(t){return t=t.toUpperCase(),!!(t.startsWith("LICENSE")||t.startsWith("README")||t.startsWith("."))}async getGithubSession(t){var i=Ji(t);if(!i)throw new Error("Please enter a valid GitHub URL.");var l=Oi()[i.repopath],f=i.branch||l&&l.branch,g=this.github.repos(i.user,i.repo);try{f=(await g.fetch()).defaultBranch||"master"}catch(_){console.log("could not fetch default branch: "+_),f="main"}console.log("branch =",f);var y={url:t,user:i.user,reponame:i.repo,repopath:i.repopath,branch:f,subtreepath:i.subtreepath,prefix:"",repo:g,platform_id:this.project?this.project.platform_id:l?l.platform_id:null};return y}getGithubHEADTree(t){var i;return this.getGithubSession(t).then(l=>(i=l,i.repo.git.refs.heads(i.branch).fetch())).then(l=>(i.head=l,i.sha=l.object.sha,i.repo.git.trees(i.sha).fetch())).then(l=>{if(i.subtreepath){for(let f of l.tree)if(f.type=="tree"&&f.path==i.subtreepath&&f.sha)return i.repo.git.trees(f.sha).fetch();throw Error("Cannot find subtree '"+i.subtreepath+"' in tree "+l.sha)}return l}).then(l=>(i.tree=l,i))}bind(t,i){var l="__repo__"+t.repopath;if(i){var f={url:t.url,branch:t.branch,platform_id:t.platform_id,mainPath:t.mainPath,sha:t.sha};console.log("storing",f),localStorage.setItem(l,JSON.stringify(f))}else localStorage.removeItem(l)}import(t){var i;return this.getGithubSession(t).then(l=>(i=l,i.repo.contents("README.md").read())).catch(l=>(console.log(l),console.log("no README.md found"),i.repo.fetch().then(f=>""))).then(l=>{var f;if(f=/8bitworkshop.com[^)]+file=([^)&]+)/.exec(l),f&&f[1]&&(console.log("main path: '"+f[1]+"'"),i.mainPath=f[1]),f=/8bitworkshop.com[^)]+platform=([A-Za-z0-9._\-]+)/.exec(l),f){if(console.log("platform id: '"+f[1]+"'"),i.platform_id&&!i.platform_id.startsWith(f[1]))throw Error("Platform mismatch: Repository is "+f[1]+", you have "+i.platform_id+" selected.");i.platform_id=f[1]}return this.bind(i,!0),i})}pull(t,i){var l;return this.getGithubHEADTree(t).then(f=>{l=f;let g=[];return l.paths=[],l.tree.tree.forEach(y=>{if(console.log(y.path,y.type,y.size),l.paths.push(y.path),y.type=="blob"&&!this.isFileIgnored(y.path)){var _=l.repo.git.blobs(y.sha).fetch().then(C=>{var O=l.prefix+y.path,ie=y.size,xe=C.encoding,B=C.content;if(C.encoding=="base64"){var z=Pn(atob(B)),Z=gi(y.path,z);B=Z?z:qi(z)}return C.size!=B.length&&(B=B.slice(0,C.size)),(i||this.store).setItem(O,B)});g.push(_)}else console.log("ignoring "+y.path)}),Promise.all(g)}).then(f=>l)}importAndPull(t){return this.import(t).then(i=>this.pull(t))}publish(t,i,l,f){var g,y=this.project.platform_id,_=this.project.stripLocalPath(this.project.mainPath);return this.github.user.repos.create({name:t,description:i,private:f,auto_init:!1,license_template:l}).then(C=>{g=C;var O=vl;O=O.replace(/\$NAME/g,encodeURIComponent(t)),O=O.replace(/\$PLATFORM/g,encodeURIComponent(y)),O=O.replace(/\$GITHUBURL/g,encodeURIComponent(g.htmlUrl)),O=O.replace(/\$MAINFILE/g,encodeURIComponent(_));var ie={message:"8bitworkshop: updated metadata in README.md",content:btoa(O)};return g.contents("README.md").add(ie)}).then(()=>this.getGithubSession(g.htmlUrl))}commit(t,i,l){var f;return i||(i="updated from 8bitworkshop.com"),this.getGithubHEADTree(t).then(g=>{if(f=g,f.subtreepath)throw Error("Sorry, right now you can only commit files to the root directory of a repository.");return Promise.all(l.map(y=>typeof y.data=="string"?f.repo.git.blobs.create({content:y.data,encoding:"utf-8"}):f.repo.git.blobs.create({content:btoa(kn(y.data)),encoding:"base64"})))}).then(g=>f.repo.git.trees.create({tree:l.map((y,_)=>({path:y.path,mode:"100644",type:"blob",sha:g[_].sha})),base_tree:f.tree.sha})).then(g=>f.repo.git.commits.create({message:i,tree:g.sha,parents:[f.head.object.sha]})).then(g=>f.repo.commits(g.sha).fetch()).then(g=>(f.commit=g,f))}push(t){return t.head.update({sha:t.commit.sha}).then(i=>t)}deleteRepository(t){return this.getGithubSession(t).then(i=>i.repo.remove())}};var Qi=window.matchMedia&&window.matchMedia("only screen and (max-width: 760px)").matches;function Ca(s,t){var i=s.charCoords({line:t,ch:0},"local").top,l=s.getScrollerElement().offsetHeight/2;s.scrollTo(null,i-l-5)}function Pa(s,t){var i=document.createElement("span");return i.setAttribute("class",t),i.appendChild(document.createTextNode(s)),i}var Ln=64,yl=200,Eo={default:{theme:"mbo"},"6502":{isAsm:!0},z80:{isAsm:!0},jsasm:{isAsm:!0},gas:{isAsm:!0},vasm:{isAsm:!0},nasm:{isAsm:!0},inform6:{theme:"cobalt"},markdown:{lineWrap:!0},fastbasic:{noGutters:!0},basic:{noLineNumbers:!0,noGutters:!0},qbasic:{noLineNumbers:!0,noGutters:!0},pascal:{theme:"mbo"},ecs:{theme:"mbo",isAsm:!0},c:{theme:"mbo"}},ka={input:null},Zi=class{constructor(t,i){this.updateTimer=null;this.dirtylisting=!0;this.errormsgs=[];this.errorwidgets=[];this.errormarks=[];this.refreshDelayMsec=300;this.path=t,this.mode=i}createDiv(t){var i=document.createElement("div");i.setAttribute("class","editor"),t.appendChild(i);var l=me.getFile(this.path),f=l&&this.mode=="verilog"&&/__asm\b([\s\S]+?)\b__endasm\b/.test(l);return this.newEditor(i,f),l&&(this.setText(l),this.editor.setSelection({line:0,ch:0},{line:0,ch:0},{scroll:!0})),this.setupEditor(),me.getToolForFilename(this.path).startsWith("remote:")&&(this.refreshDelayMsec=1e3),i}setVisible(t){t&&this.editor.focus()}newEditor(t,i){var l=Eo[this.mode]||Eo.default,f=i||l.isAsm,g=!!l.lineWrap,y=l.theme||Eo.default.theme,_=!l.noLineNumbers&&!Qi;re.embed&&(_=!1,f=!1);var C=["CodeMirror-linenumbers","gutter-offset","gutter-info"];f&&(C=["CodeMirror-linenumbers","gutter-offset","gutter-bytes","gutter-clock","gutter-info"]),(l.noGutters||Qi)&&(C=["gutter-info"]),this.editor=CodeMirror(t,{theme:y,lineNumbers:_,matchBrackets:!0,tabSize:8,indentAuto:!0,lineWrapping:g,gutters:C})}editorChanged(){clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>{me.updateFile(this.path,this.editor.getValue())},this.refreshDelayMsec),this.markHighlight&&(this.markHighlight.clear(),this.markHighlight=null)}setupEditor(){this.editor.on("changes",(t,i)=>{this.editorChanged()}),this.editor.on("cursorActivity",t=>{this.inspectUnderCursor()}),this.editor.on("gutterClick",(t,i)=>{this.toggleBreakpoint(i)}),this.editor.setOption("mode",this.mode),this.editor.on("beforeChange",(t,i)=>{ka.input&&i.text&&(i.text=i.text.map(ka.input))})}inspectUnderCursor(){var t=this.editor.getCursor(!0),i=this.editor.getCursor(!1);if(t.line==i.line&&t.ch<i.ch&&i.ch-t.ch<80){var l=this.editor.getSelection();this.inspect(l)}else this.inspect(null)}inspect(t){var i;if(k.inspect&&(i=k.inspect(t)),this.inspectWidget&&(this.inspectWidget.clear(),this.inspectWidget=null),i){var l=Pa(i,"tooltipinfoline"),f=this.editor.getCursor().line;this.inspectWidget=this.editor.addLineWidget(f,l,{above:!1})}}setText(t){var i,l,f=this.editor.getValue();f!=t&&(this.editor.setValue(t),f==""&&this.editor.clearHistory())}insertText(t){var i=this.editor.getCursor();this.editor.replaceRange(t,i,i)}highlightLines(t,i){var l="hilite-span",f={className:l,inclusiveLeft:!0};this.markHighlight=this.editor.markText({line:t,ch:0},{line:i,ch:0},f),this.editor.scrollIntoView({from:{line:t,ch:0},to:{line:i,ch:0}})}replaceSelection(t,i,l){this.editor.setSelection(this.editor.posFromIndex(t),this.editor.posFromIndex(i)),this.editor.replaceSelection(l)}getValue(){return this.editor.getValue()}getPath(){return this.path}addError(t){if(!t.path||this.path.endsWith(t.path)){var i=this.editor.lineCount(),l=t.line-1;if((isNaN(l)||l<0||l>=i)&&(l=0),this.addErrorMarker(l,t.msg),t.start!=null){var f={className:"mark-error",inclusiveLeft:!0},g={line:l,ch:t.end?t.start:t.start-1},y={line:l,ch:t.end?t.end:t.start},_=this.editor.markText(g,y,f);this.errormarks.push(_)}}}addErrorMarker(t,i){var l=document.createElement("div");l.setAttribute("class","tooltipbox tooltiperror"),l.appendChild(document.createTextNode("\u24CD")),this.editor.setGutterMarker(t,"gutter-info",l),this.errormsgs.push({line:t,msg:i}),$(l).mouseover(f=>{this.expandErrors()})}addErrorLine(t,i){var l=Pa(i,"tooltiperrorline");this.errorwidgets.push(this.editor.addLineWidget(t,l))}expandErrors(){for(var t;t=this.errormsgs.shift();)this.addErrorLine(t.line,t.msg)}markErrors(t){this.clearErrors(),t=t.slice(0,yl);for(var i of t)this.addError(i)}clearErrors(){for(this.dirtylisting=!0,this.editor.clearGutter("gutter-info"),this.errormsgs=[];this.errorwidgets.length;)this.errorwidgets.shift().clear();for(;this.errormarks.length;)this.errormarks.shift().clear()}getSourceFile(){return this.sourcefile}updateListing(){this.clearErrors(),this.editor.clearGutter("gutter-bytes"),this.editor.clearGutter("gutter-offset"),this.editor.clearGutter("gutter-clock");var t=this.sourcefile.lines||[];for(var i of t)if(i.offset>=0&&this.setGutter("gutter-offset",i.line-1,wr(i.offset&65535,4)),i.insns){var l=i.insns.length>9?"...":i.insns;if(this.setGutter("gutter-bytes",i.line-1,l),i.iscode){if(i.cycles)this.setGutter("gutter-clock",i.line-1,i.cycles+"");else if(k.getOpcodeMetadata){var f=parseInt(i.insns.split(" ")[0],16),g=k.getOpcodeMetadata(f,i.offset);if(g&&g.minCycles){var y=g.minCycles+"";this.setGutter("gutter-clock",i.line-1,y)}}}}}setGutter(t,i,l){var f=this.editor.lineInfo(i);if(!(f&&f.gutterMarkers&&f.gutterMarkers[t])){var g=document.createTextNode(l);this.editor.setGutterMarker(i,t,g)}}setGutterBytes(t,i){this.setGutter("gutter-bytes",t-1,i)}setTimingResult(t){if(this.editor.clearGutter("gutter-bytes"),this.sourcefile!=null)for(let g of Object.keys(this.sourcefile.line2offset)){let y=this.sourcefile.line2offset[g],_=t.pc2clockrange[y];var i=_&&_.minclocks,l=_&&_.maxclocks;if(i>=0&&l>=0){var f;l==i?f=i+"":f=i+"-"+l,l==t.MAX_CLOCKS&&(f+="+"),this.setGutterBytes(parseInt(g),f)}}}setCurrentLine(t,i){var l=k.isBlocked&&k.isBlocked(),f=_=>{var C=document.createElement("div"),O=l?"currentpc-marker-blocked":"currentpc-marker";C.classList.add(O),C.appendChild(document.createTextNode("\u25B6")),this.editor.setGutterMarker(_.line-1,"gutter-info",C)};if(this.clearCurrentLine(i),t){f(t),i&&this.editor.setCursor({line:t.line-1,ch:t.start||0},{scroll:!0});var g=l?"currentpc-span-blocked":"currentpc-span",y={className:g,inclusiveLeft:!0};t.start||t.end?this.markCurrentPC=this.editor.markText({line:t.line-1,ch:t.start},{line:t.line-1,ch:t.end||t.start+1},y):this.markCurrentPC=this.editor.markText({line:t.line-1,ch:0},{line:t.line,ch:0},y),this.currentDebugLine=t}}clearCurrentLine(t){this.currentDebugLine&&(this.editor.clearGutter("gutter-info"),t&&this.editor.setSelection(this.editor.getCursor()),this.currentDebugLine=null),this.markCurrentPC&&(this.markCurrentPC.clear(),this.markCurrentPC=null)}getActiveLine(){if(this.sourcefile){var t=Or&&Or.c;if(!t&&k.getCPUState&&!k.isRunning()&&(t=k.getCPUState()),t){var i=t&&(t.EPC||t.PC),l=this.sourcefile.findLineForOffset(i,Ln);return l}}}refreshDebugState(t){this.clearCurrentLine(t);var i=this.getActiveLine();i&&this.setCurrentLine(i,t)}refreshListing(){var t=me.getListingForFile(this.path);t&&t.sourcefile&&t.sourcefile!==this.sourcefile&&(this.sourcefile=t.sourcefile,this.dirtylisting=!0),!(!this.sourcefile||!this.dirtylisting)&&(this.updateListing(),this.dirtylisting=!1)}refresh(t){this.refreshListing(),this.refreshDebugState(t)}tick(){this.refreshDebugState(!1)}getLine(t){return this.editor.getLine(t-1)}getCurrentLine(){return this.editor.getCursor().line+1}getCursorPC(){for(var t=this.getCurrentLine();this.sourcefile&&t>=0;){var i=this.sourcefile.line2offset[t];if(i>=0)return i;t--}return-1}undoStep(){this.editor.execCommand("undo")}toggleBreakpoint(t){if(this.sourcefile!=null){var i=this.sourcefile.line2offset[t+1];en(i)}}},To=1024,Ra=class{getDisasmView(){return this.disasmview}createDiv(t){var i=document.createElement("div");return i.setAttribute("class","editor"),t.appendChild(i),this.newEditor(i),i}newEditor(t){this.disasmview=CodeMirror(t,{mode:"z80",theme:"cobalt",tabSize:8,readOnly:!0,styleActiveLine:!0})}refresh(t){let i=Or||k.saveState(),l=i.c?i.c.PC:0,f=0,g=0,y=k.debugSymbols&&k.debugSymbols.addr2symbol||{},_=(ie,xe)=>{let B="",z=0;for(;z<xe;){let Z=ie+z|0,Te=k.disassemble(Z,k.readAddress.bind(k)),V="",M="";for(let N=0;N<Te.nbytes;N++)V+=wr(k.readAddress(Z+N));for(;V.length<14;)V+=" ";let H=Te.line;if(y&&Te.isaddr&&(H=H.replace(/([^#])[$]([0-9A-F]+)/,(N,...G)=>{let o=parseInt(G[1],16),Ee=y[o];return Ee?G[0]+Ee:(Ee=y[o-1],Ee?G[0]+Ee+"+1":N)})),y){let N=y[Z];N&&(M="; "+N)}B+=wr(Z,4)+"	"+Cn(V,14)+"	"+Cn(H,30)+M+`
`,Z==l&&(g=f),f++,z+=Te.nbytes||1}return B};var C=l<0?l-To:Math.max(0,l-To);let O=_(C,l-C)+_(l,To);this.disasmview.setValue(O),t&&this.disasmview.setCursor(g,0),Ca(this.disasmview,g)}getCursorPC(){var t=this.disasmview.getCursor().line;if(t>=0){var i=this.disasmview.getLine(t).trim().split(/\s+/);if(i&&i.length>=1){var l=parseInt(i[0],16);if(l>=0)return l}}return-1}},Ao=class extends Ra{constructor(t){super();this.path=t}refreshListing(){var t=me.getListingForFile(this.path);this.assemblyfile=t&&(t.assemblyfile||t.sourcefile)}refresh(t){if(this.refreshListing(),!!this.assemblyfile){var i=this.assemblyfile.text,l=this.getDisasmView();if(l.setValue(i),!!k.saveState){var f=Or||k.saveState(),g=f.c?f.c.EPC||f.c.PC:0;if(g>=0&&this.assemblyfile){var y=this.assemblyfile.findLineForOffset(g,Ln);y&&(t&&l.setCursor(y.line-1,0),Ca(l,y.line-1))}}}}};var So=class{constructor(t,i){this.recreateOnResize=!0;this.path=t,this.data=i}createDiv(t){return this.vlist=new ma(t),this.vlist.create(t,this.data.length+15>>4,this.getMemoryLineAt.bind(this)),this.vlist.maindiv}getMemoryLineAt(t){for(var i=t*16,l=0,f=16,g=wr(i+l,4)+" ",y=0;y<l;y++)g+="   ";l>8&&(g+=" ");for(var y=l;y<f;y++){var _=this.data[i+y];y==8&&(g+=" "),g+=" "+(_>=0?wr(_,2):"  ")}return{text:g}}refresh(){this.vlist.refresh()}getPath(){return this.path}};function In(){let s=$(".modal-backdrop");s.length>1&&s.slice(0,-1).remove(),$(".modal-backdrop").each(function(){let t=$(this);$(".modal.in, .modal.show").length===0&&(t.remove(),$("body").removeClass("modal-open"))})}function pe(s){s?(In(),St(0),$("#pleaseWaitModal").modal("show")):(St(1),$("#pleaseWaitModal").modal("hide"),setTimeout(()=>{In()},350))}function St(s){$("#pleaseWaitProgressBar").css("width",s*100+"%").show()}function ae(s){pe(!1),setTimeout(()=>{In(),bootbox.alert({title:'<span class="glyphicon glyphicon-alert" aria-hidden="true"></span> Alert',message:Fi.sanitize(s)})},350)}function tt(s){pe(!1),setTimeout(()=>{In(),bootbox.alert(Fi.sanitize(s))},350)}function Da(s){throw ae(s),new Error(s)}function bl(){if(window.GA4_TRACKING_ID)return window.GA4_TRACKING_ID;if(typeof gtag!="undefined"&&window.dataLayer){let s=window.dataLayer;for(let t=0;t<s.length;t++)if(s[t][0]==="config"&&s[t][1])return s[t][1]}return null}function je(s,t,i,l){if(typeof gtag!="undefined"){let f={event_category:s,event_label:i};l!==void 0&&(f.value=l),gtag("event",t,f)}}function La(s){if(typeof gtag!="undefined"){let t=bl();t?gtag("config",t,{page_path:s}):gtag("event","page_view",{page_path:s})}}var Po;async function bi(){if(!Po){await Kt("lib/octokat.js"),await Kt("https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"),await Kt("https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"),await Kt("config.js");var s=yi("__github_key");Po=new xo(Octokat,s,Mr(),Lt()),console.log("loaded github service")}return Po}function tn(){var s=(Ve||"").split("/");return s.length!=2?(ae("You are not in a GitHub repository. Choose one from the pulldown, or Import or Publish one."),null):"https://github.com/"+s[0]+"/"+s[1]}async function Fn(s,t){var i,l=Ji(s);if(!l){ae("Could not parse Github URL.");return}var f=Oi()[l.repopath];if(!(f&&!confirm("You've already imported "+l.repopath+" -- do you want to replace all local files?"))){pe(!0);var g=Ki(l.repopath);St(.25);var y=await bi();return y.import(s).then(_=>(i=_,St(.75),y.pull(s,g))).then(_=>{pe(!1),je("sync","import",s),xr(t,{repo:l.repopath})}).catch(_=>{pe(!1),console.log(_),ae("Could not import "+s+"."+_)})}}async function Ia(s){var t=await bi();t.login().then(()=>{tt("You are signed in to Github.")}).catch(i=>{ae("Could not sign in."+i)})}async function Fa(s){var t=await bi();t.logout().then(()=>{tt("You are logged out of Github.")})}function Oa(s){var t=$("#importGithubModal"),i=$("#importGithubButton");t.modal("show"),i.off("click").on("click",()=>{var l=$("#importGithubURL").val()+"";t.modal("hide"),Fn(l,!1)})}function Ma(s){if(!(Ve&&!confirm("This project ("+Lt().mainPath+") is already bound to a Github repository. Do you want to re-publish to a new repository? (You can instead choose 'Push Changes' to update files in the existing repository.)"))){var t=$("#publishGithubModal"),i=$("#publishGithubButton");$("#githubRepoName").val(ut(Rt(Lt().mainPath))),t.modal("show"),i.off("click").on("click",async()=>{var l=$("#githubRepoName").val()+"",f=$("#githubRepoDesc").val()+"",g=$("#githubRepoPrivate").val()=="private",y=$("#githubRepoLicense").val()+"",_;if(!l){ae("You did not enter a project name.");return}t.modal("hide"),pe(!0);var C=await bi();C.login().then(()=>(St(.25),C.publish(l,f,y,g))).then(O=>(_=O,St(.5),$a("initial import from 8bitworkshop.com"))).then(()=>{je("sync","publish",g?"":l),Fn(_.url,!1)}).catch(O=>{pe(!1),console.log(O),ae("Could not publish GitHub repository: "+O)})})}}function Na(s){var t=tn();if(!!t){var i=$("#pushGithubModal"),l=$("#pushGithubButton");i.modal("show"),l.off("click").on("click",()=>{var f=$("#githubCommitMsg").val()+"";i.modal("hide"),$a(f)})}}function ja(s){var t=tn();!t||bootbox.confirm("Pull from repository and replace all local files? Any changes you've made will be overwritten.",async i=>{if(i){pe(!0);var l=await bi();l.pull(t).then(f=>{pe(!1),ye.updateAllOpenWindows(Mr())})}})}function wl(s){return new Promise((t,i)=>{var l=s.commit.files;if(console.log(l),l.length==0){pe(!1),tt("No files changed.");return}var f="";for(var g of l)f+=Fi.sanitize(g.filename)+": "+g.status,(g.additions||g.deletions||g.changes)&&(f+=" ("+g.additions+" additions, "+g.deletions+" deletions, "+g.changes+" changes)"),f+="<br/>";bootbox.confirm(f,y=>{y?t(s):pe(!1)})})}async function $a(s){var t=tn();if(!!t){var i=[];for(var l in Lt().filedata){var f=Lt().stripLocalPath(l),g=Lt().filedata[l];f&&g&&i.push({path:f,data:g})}if(Qe()instanceof Uint8Array){let _="bin/"+Ge()+".rom";i.push({path:_,data:Qe()})}pe(!0);var y=await bi();return y.login().then(()=>(St(.5),y.commit(t,s,i))).then(_=>wl(_)).then(_=>y.push(_)).then(_=>(pe(!1),tt("Pushed files to "+t),_)).catch(_=>{pe(!1),console.log(_),ae("Could not push GitHub repository: "+_)})}}function Ua(){var s=tn();!s||bootbox.prompt("<p>Are you sure you want to delete this repository ("+Fi.sanitize(s)+") from browser storage?</p><p>All changes since last commit will be lost.</p><p>Type DELETE to proceed.<p>",t=>{t.trim().toUpperCase()=="DELETE"&&_l()})}async function _l(){var s=tn();pe(!0);let t=await bi(),i=await t.getGithubSession(s);t.bind(i,!1),await Mr().keys().then(l=>Promise.all(l.map(f=>Mr().removeItem(f)))),pe(!1),xr(!1,{repo:"/"})}var xl="https://api.retrogamecoders.com",Wa=class{constructor(t=xl){this.authToken=null;this.baseUrl=t,this.authToken=yi("__rgc_api_token")}getToken(){return this.authToken}setToken(t){this.authToken=t,t?Yi("__rgc_api_token",t,365):Yi("__rgc_api_token","",-1)}isAuthenticated(){return!!this.authToken}async apiRequest(t,i={}){let l=`${this.baseUrl}${t}`,f=so({"Content-Type":"application/json",Accept:"application/json"},i.headers);this.authToken&&(f.Authorization=`Bearer ${this.authToken}`);let g;try{console.log("API Request:",i.method||"GET",l),g=await fetch(l,da(so({},i),{headers:f})),console.log("API Response:",g.status,g.statusText)}catch(_){let C=_.message||"Network error";if(console.error("API Request failed:",_),C.includes("Failed to fetch")||C.includes("NetworkError")){let O=window.location.origin,ie=O.includes("localhost")||O.includes("127.0.0.1"),xe="";ie?xe=`
\u26A0\uFE0F You're running on localhost (${O})
The API server needs to allow requests from localhost for local development.

Add to your API server CORS configuration:
- Access-Control-Allow-Origin: ${O}
- Or for development: Access-Control-Allow-Origin: *

`:xe=`The API server at ${this.baseUrl} needs to allow requests from:
${O}

`;let B=`Cannot connect to API server.

URL: ${l}
Origin: ${O}
Error: ${C}

This is likely a CORS (Cross-Origin Resource Sharing) issue.
`+xe+`Please check:
- CORS headers are configured on the API server
- The API server allows requests from your IDE domain (including localhost for development)
- Check browser console (F12) for more details
- Check Network tab to see the actual request/response`;throw new Error(B)}throw new Error(`Network error: ${C}`)}if(!g.ok){let _=`HTTP ${g.status}: ${g.statusText}`;try{let C=await g.json();C.message?_=C.message:C.error?_=C.error:typeof C=="string"&&(_=C)}catch(C){try{let O=await g.text();O&&(_=O)}catch(O){}}throw new Error(_)}let y=g.headers.get("content-type");if(y&&y.includes("application/json")){let _=await g.text();return _?JSON.parse(_):null}return null}async register(t,i,l,f){let g={name:t,email:i,password:l};f!==void 0&&(g.password_confirmation=f);let y=await this.apiRequest("/api/auth/register",{method:"POST",body:JSON.stringify(g)});return y.token&&this.setToken(y.token),y}async login(t,i){let l=await this.apiRequest("/api/auth/login",{method:"POST",body:JSON.stringify({email:t,password:i})});return l.token&&this.setToken(l.token),l}async getUser(){return this.apiRequest("/api/auth/user")}async updateUser(t){return this.apiRequest("/api/auth/user",{method:"PUT",body:JSON.stringify(t)})}async logout(){try{await this.apiRequest("/api/auth/logout",{method:"POST"})}finally{this.setToken(null)}}async forgotPassword(t){return this.apiRequest("/api/auth/password/forgot",{method:"POST",body:JSON.stringify({email:t})})}async resetPassword(t,i,l){return this.apiRequest("/api/auth/password/reset",{method:"POST",body:JSON.stringify({token:t,email:i,password:l})})}async socialLogin(t,i){let l=await this.apiRequest(`/api/auth/social/${t}`,{method:"POST",body:JSON.stringify({token:i})});return l.token&&this.setToken(l.token),l}async getProjects(){return this.apiRequest("/api/projects")}async getProject(t){return this.apiRequest(`/api/projects/${t}`)}async createProject(t){return this.apiRequest("/api/projects",{method:"POST",body:JSON.stringify({title:t.title,description:t.description||null,public:t.public!==void 0?t.public:!1})})}async updateProject(t,i){return this.apiRequest(`/api/projects/${t}`,{method:"PUT",body:JSON.stringify(i)})}async deleteProject(t){return this.apiRequest(`/api/projects/${t}`,{method:"DELETE"})}async getProjectFiles(t){return this.apiRequest(`/api/projects/${t}/files`)}async getFiles(){return this.apiRequest("/api/files")}async getFile(t){return this.apiRequest(`/api/files/${t}`)}async createFile(t){return this.apiRequest("/api/files",{method:"POST",body:JSON.stringify({title:t.title,content:t.content,filetype:t.filetype||null,language:t.language||null,project_id:t.project_id||null,public:t.public!==void 0?t.public:!1})})}async updateFile(t,i){return this.apiRequest(`/api/files/${t}`,{method:"PUT",body:JSON.stringify(i)})}async deleteFile(t){return this.apiRequest(`/api/files/${t}`,{method:"DELETE"})}async getFileRevisions(t){return this.apiRequest(`/api/files/${t}/revisions`)}async revertFile(t,i){return this.apiRequest(`/api/files/${t}/revert/${i}`,{method:"POST"})}async pushProjectFiles(t,i,l){let f=await this.getProjectFiles(t),g={};for(let _ of f)g[_.title]=_;let y={};for(let[_,C]of Object.entries(i)){let O=_,ie=typeof C=="string"?C:new TextDecoder().decode(C),xe=l==null?void 0:l[_];g[O]?y[_]=await this.updateFile(g[O].id,{content:ie,filetype:xe}):y[_]=await this.createFile({title:O,content:ie,filetype:xe,project_id:t})}return y}async pullProjectFiles(t){var f;let i=await this.getProjectFiles(t);console.log("pullProjectFiles: Got",i.length,"files from API");let l={};for(let g of i)console.log("pullProjectFiles: Processing file",g.title,"content length:",((f=g.content)==null?void 0:f.length)||0),l[g.title]=g.content;return console.log("pullProjectFiles: Returning",Object.keys(l).length,"files:",Object.keys(l)),l}};var ko=null;function Er(){return ko||(ko=new Wa),ko}var rn=null,El=null;function On(s){if(!te||!k)return;let t=s.toLowerCase().substring(s.lastIndexOf(".")),l={".bas":"basic",".c":"c",".h":"c",".asm":"asm",".s":"asm",".prg":"prg",".rom":"rom",".bin":"bin",".txt":"text",".json":"json",".png":"png",".jpg":"jpg",".jpeg":"jpeg",".gif":"gif"}[t]||t.substring(1);return`${te}/${l}`}function Ro(s){El=s,rn=s?s.id:null}async function Ha(){let s=$("#registerApiModal"),t=$("#registerApiButton");s.modal("show"),t.off("click").on("click",async()=>{let i=($("#registerApiName").val()+"").trim(),l=($("#registerApiEmail").val()+"").trim(),f=($("#registerApiPassword").val()+"").trim(),g=($("#registerApiConfirmPassword").val()+"").trim();if($("#registerApiPassword, #registerApiConfirmPassword").removeClass("is-invalid"),!i||!l||!f||!g){ae("Please fill in all fields."),f||$("#registerApiPassword").addClass("is-invalid"),g||$("#registerApiConfirmPassword").addClass("is-invalid");return}if(f.length<8){ae("Password must be at least 8 characters."),$("#registerApiPassword").addClass("is-invalid");return}if(f!==g){ae("Passwords do not match. Please check and try again."),$("#registerApiPassword").addClass("is-invalid"),$("#registerApiConfirmPassword").addClass("is-invalid");return}s.modal("hide"),pe(!0);try{let _=await Er().register(i,l,f,g);pe(!1),tt(`Welcome ${_.user.name}! You are now registered and logged in.`),je("api","register","success"),s.modal("hide"),nn()}catch(y){pe(!1),ae("Registration failed: "+y.message),je("api","register","error")}})}async function Ba(){let s=$("#loginApiModal"),t=$("#loginApiButton");s.modal("show"),t.off("click").on("click",async()=>{let i=$("#loginApiEmail").val()+"",l=$("#loginApiPassword").val()+"";if(!i||!l){ae("Please enter email and password.");return}s.modal("hide"),pe(!0);try{let g=await Er().login(i,l);pe(!1),tt(`Welcome back, ${g.user.name}!`),je("api","login","success"),nn()}catch(f){pe(!1),ae("Login failed: "+f.message),je("api","login","error")}})}async function Ga(){if(Mi(),!!confirm("Are you sure you want to logout?")){pe(!0);try{await Er().logout(),Ro(null),pe(!1),tt("You have been logged out."),je("api","logout","success"),nn()}catch(s){pe(!1),ae("Logout failed: "+s.message)}}}function Tl(s){function t(V,M){let H=V[0],F=V[1],N=V[2],G=V[3];H=l(H,F,N,G,M[0],7,-680876936),G=l(G,H,F,N,M[1],12,-389564586),N=l(N,G,H,F,M[2],17,606105819),F=l(F,N,G,H,M[3],22,-1044525330),H=l(H,F,N,G,M[4],7,-176418897),G=l(G,H,F,N,M[5],12,1200080426),N=l(N,G,H,F,M[6],17,-1473231341),F=l(F,N,G,H,M[7],22,-45705983),H=l(H,F,N,G,M[8],7,1770035416),G=l(G,H,F,N,M[9],12,-1958414417),N=l(N,G,H,F,M[10],17,-42063),F=l(F,N,G,H,M[11],22,-1990404162),H=l(H,F,N,G,M[12],7,1804603682),G=l(G,H,F,N,M[13],12,-40341101),N=l(N,G,H,F,M[14],17,-1502002290),F=l(F,N,G,H,M[15],22,1236535329),H=f(H,F,N,G,M[1],5,-165796510),G=f(G,H,F,N,M[6],9,-1069501632),N=f(N,G,H,F,M[11],14,643717713),F=f(F,N,G,H,M[0],20,-373897302),H=f(H,F,N,G,M[5],5,-701558691),G=f(G,H,F,N,M[10],9,38016083),N=f(N,G,H,F,M[15],14,-660478335),F=f(F,N,G,H,M[4],20,-405537848),H=f(H,F,N,G,M[9],5,568446438),G=f(G,H,F,N,M[14],9,-1019803690),N=f(N,G,H,F,M[3],14,-187363961),F=f(F,N,G,H,M[8],20,1163531501),H=f(H,F,N,G,M[13],5,-1444681467),G=f(G,H,F,N,M[2],9,-51403784),N=f(N,G,H,F,M[7],14,1735328473),F=f(F,N,G,H,M[12],20,-1926607734),H=g(H,F,N,G,M[5],4,-378558),G=g(G,H,F,N,M[8],11,-2022574463),N=g(N,G,H,F,M[11],16,1839030562),F=g(F,N,G,H,M[14],23,-35309556),H=g(H,F,N,G,M[1],4,-1530992060),G=g(G,H,F,N,M[4],11,1272893353),N=g(N,G,H,F,M[7],16,-155497632),F=g(F,N,G,H,M[10],23,-1094730640),H=g(H,F,N,G,M[13],4,681279174),G=g(G,H,F,N,M[0],11,-358537222),N=g(N,G,H,F,M[3],16,-722521979),F=g(F,N,G,H,M[6],23,76029189),H=g(H,F,N,G,M[9],4,-640364487),G=g(G,H,F,N,M[12],11,-421815835),N=g(N,G,H,F,M[15],16,530742520),F=g(F,N,G,H,M[2],23,-995338651),H=y(H,F,N,G,M[0],6,-198630844),G=y(G,H,F,N,M[7],10,1126891415),N=y(N,G,H,F,M[14],15,-1416354905),F=y(F,N,G,H,M[5],21,-57434055),H=y(H,F,N,G,M[12],6,1700485571),G=y(G,H,F,N,M[3],10,-1894986606),N=y(N,G,H,F,M[10],15,-1051523),F=y(F,N,G,H,M[1],21,-2054922799),H=y(H,F,N,G,M[8],6,1873313359),G=y(G,H,F,N,M[15],10,-30611744),N=y(N,G,H,F,M[6],15,-1560198380),F=y(F,N,G,H,M[13],21,1309151649),H=y(H,F,N,G,M[4],6,-145523070),G=y(G,H,F,N,M[11],10,-1120210379),N=y(N,G,H,F,M[2],15,718787259),F=y(F,N,G,H,M[9],21,-343485551),V[0]=_(H,V[0]),V[1]=_(F,V[1]),V[2]=_(N,V[2]),V[3]=_(G,V[3])}function i(V,M,H,F,N,G){return M=_(_(M,V),_(F,G)),_(M<<N|M>>>32-N,H)}function l(V,M,H,F,N,G,o){return i(M&H|~M&F,V,M,N,G,o)}function f(V,M,H,F,N,G,o){return i(M&F|H&~F,V,M,N,G,o)}function g(V,M,H,F,N,G,o){return i(M^H^F,V,M,N,G,o)}function y(V,M,H,F,N,G,o){return i(H^(M|~F),V,M,N,G,o)}function _(V,M){return V+M&4294967295}function C(V){let M="0123456789abcdef",H="";for(let F=0;F<4;F++)H+=M.charAt(V>>F*8+4&15)+M.charAt(V>>F*8&15);return H}let O=[];for(let V=0;V<s.length;V++){let M=s.charCodeAt(V);if(M<128)O.push(M);else if(M<2048)O.push(192|M>>6),O.push(128|M&63);else if(M<55296||M>=57344)O.push(224|M>>12),O.push(128|M>>6&63),O.push(128|M&63);else{V++;let H=s.charCodeAt(V),F=65536+((M&1023)<<10|H&1023);O.push(240|F>>18),O.push(128|F>>12&63),O.push(128|F>>6&63),O.push(128|F&63)}}let ie=[],xe=[],B;for(B=0;B<O.length;B++)ie[B>>2]|=(O[B]&255)<<B%4*8;ie[B>>2]|=128<<B%4*8;let z=(B+8>>6)+1,Z=new Array(z*16);for(B=0;B<z*16;B++)Z[B]=ie[B]||0;Z[z*16-2]=O.length*8;let Te=[1732584193,-271733879,-1732584194,271733878];for(B=0;B<Z.length;B+=16)xe=Z.slice(B,B+16),t(Te,xe);return C(Te[0])+C(Te[1])+C(Te[2])+C(Te[3])}async function Al(s,t){if(t.avatar_url){s.attr("src",t.avatar_url);return}if(t.email){let y=t.email.trim().toLowerCase(),C=`https://www.gravatar.com/avatar/${Tl(y)}?s=64&d=404&r=pg`;if(await Sl(C)){s.attr("src",C);return}}let i=t.name.toLowerCase().replace(/\s+/g,"-"),l=t.name.split(" ").map(y=>y[0]).join("").toUpperCase().substring(0,2),f=`https://api.dicebear.com/7.x/initials/svg?seed=${encodeURIComponent(i)}&size=64&backgroundColor=9305eb,a799ff,d6ccf7,99ffff&fontSize=40`;s.attr("src",f);let g=new Image;g.onerror=()=>{let y=document.createElement("canvas");y.width=32,y.height=32;let _=y.getContext("2d");if(_){let C=["#9305eb","#a799ff","#d6ccf7","#99ffff"],O=t.name.charCodeAt(0)%C.length;_.fillStyle=C[O],_.fillRect(0,0,32,32),_.fillStyle="#fff",_.font="bold 12px Arial",_.textAlign="center",_.textBaseline="middle",_.fillText(l,16,16)}s.attr("src",y.toDataURL())},g.src=f}function Sl(s){return new Promise(t=>{let i=new Image;i.onload=()=>t(!0),i.onerror=()=>t(!1),i.src=s,setTimeout(()=>t(!1),2e3)})}async function nn(){let s=Er(),t=s.isAuthenticated();if($("#apiAuthButtons").toggle(!t),$("#apiUserAvatar").toggle(t),["#item_api_projects","#item_api_create_project","#item_api_push","#item_api_pull"].forEach(l=>{let f=$(l),g=f.parent("li");t?(f.removeClass("disabled"),g.removeClass("disabled"),f.css("opacity","1").css("pointer-events","auto")):(f.addClass("disabled"),g.addClass("disabled"),f.css("opacity","0.65").css("pointer-events","none"))}),t)try{let l=await s.getUser();$("#apiUserName").text(l.name),$("#apiUserEmail").text(l.email);let f=$("#apiAvatarImg");await Al(f,l)}catch(l){console.error("Failed to get user info:",l)}}function Mi(){$("#apiUserMenu").hide(),$(document).off("click.apiMenu")}function za(){$("#apiUserMenu").toggle(),$(document).on("click.apiMenu",function(t){$(t.target).closest("#apiUserAvatar").length||Mi()})}async function qa(){Mi();let s=Er();if(!s.isAuthenticated()){ae("Please login first.");return}let t=$("#createApiProjectModal"),i=$("#createApiProjectButton"),l=Ge();l&&$("#createApiProjectTitle").val(ut(l)),t.modal("show"),i.off("click").on("click",async()=>{let f=$("#createApiProjectTitle").val()+"",g=$("#createApiProjectDescription").val()+"",y=$("#createApiProjectPublic").is(":checked");if(!f){ae("Please enter a project title.");return}t.modal("hide"),t.one("hidden.bs.modal",async()=>{pe(!0);try{let _=await s.createProject({title:f,description:g||void 0,public:y});Ro(_),St(.5);let C=Lt(),O={},ie={};for(let[B,z]of Object.entries(C.filedata))if(z&&!B.startsWith("bin/")){O[B]=z;let Z=On(B);Z&&(ie[B]=Z)}let xe=Qe();if(xe instanceof Uint8Array){let B=Ge();if(B){let z=`bin/${B}.rom`;O[z]=xe;let Z=On(z);Z&&(ie[z]=Z)}}St(.8),await s.pushProjectFiles(_.id,O,ie),pe(!1),tt(`Project "${_.title}" published successfully! Files pushed to server.`),je("api","project","create"),je("api","sync","push")}catch(_){pe(!1),ae("Failed to publish project: "+_.message),je("api","project","create_error")}})})}async function Va(){Mi();let s=Er();if(!s.isAuthenticated()){ae("Please login first.");return}pe(!0);try{let t=await s.getProjects();if(pe(!1),t.length===0){tt("You don't have any projects yet. Create one to get started!");return}Cl(t)}catch(t){pe(!1),ae("Failed to load projects: "+t.message)}}function Cl(s){let t='<div class="list-group">';for(let i of s)t+=`<a href="#" class="list-group-item list-group-item-action" data-project-id="${i.id}">
      <h5 class="mb-1">${i.title}</h5>
      <p class="mb-1">${i.description||"No description"}</p>
      <small>${i.public?"Public":"Private"}</small>
    </a>`;t+="</div>",bootbox.dialog({title:"Select a Project",message:t,buttons:{cancel:{label:"Cancel",className:"btn-secondary"}}}),setTimeout(()=>{$(".bootbox .list-group-item").off("click").on("click",function(i){i.preventDefault();let l=$(this).data("project-id"),f=s.find(g=>g.id===l);f&&(bootbox.hideAll(),Pl(f))})},100)}async function Pl(s){pe(!0);try{Ro(s);let i=await Er().pullProjectFiles(s.id),l=Lt();console.log("bindToApiProject: Got",Object.keys(i).length,"files:",Object.keys(i));let f=null;for(let[y,_]of Object.entries(i)){if(y.startsWith("bin/")&&(y.endsWith(".rom")||y.endsWith(".prg"))){console.log("bindToApiProject: Skipping compiled binary file",y,"- these are generated from source");continue}console.log("bindToApiProject: Updating file",y,"content type:",typeof _,"length:",typeof _=="string"?_.length:"binary"),await l.updateFileInStore(y,_),l.filedata[y]=_,ye.updateFile(y,_),!f&&!y.startsWith("bin/")&&(y.endsWith(".bas")||y.endsWith(".c")||y.endsWith(".asm")||y.endsWith(".prg"))&&(f=y)}Jr();let g=null;if(f&&!l.mainPath)console.log("bindToApiProject: Setting main file to",f),l.setMainFile(f),g=f;else if(f&&l.mainPath!==f)console.log("bindToApiProject: Updating main file from",l.mainPath,"to",f),l.setMainFile(f),g=f;else if(Object.keys(i).length>0&&!f){let y=Object.keys(i)[0];l.mainPath||(console.log("bindToApiProject: Setting main file to first file",y),l.setMainFile(y),g=y)}else l.mainPath&&(g=l.mainPath);g&&(ye.createOrShow(g),xr(!1,{file:g,platform:te})),pe(!1),tt(`Synced with project "${s.title}". Files pulled from server.`),je("api","project","bind")}catch(t){pe(!1),ae("Failed to sync with project: "+t.message)}}async function Ya(){Mi();let s=Er();if(!s.isAuthenticated()){ae("Please login first.");return}if(!rn){ae("No project selected. Please create or select a project first.");return}let t=$("#pushApiModal"),i=$("#pushApiButton");t.modal("show"),i.off("click").on("click",async()=>{if(!($("#pushApiCommitMsg").val()+"")){ae("Please enter a commit message.");return}t.modal("hide"),t.one("hidden.bs.modal",async()=>{pe(!0),St(.3);try{let f=Lt(),g={},y={};for(let[C,O]of Object.entries(f.filedata))if(O&&!C.startsWith("bin/")){g[C]=O;let ie=On(C);ie&&(y[C]=ie)}let _=Qe();if(_ instanceof Uint8Array){let O=`bin/${Ge()}.rom`;g[O]=_;let ie=On(O);ie&&(y[O]=ie)}St(.6),await s.pushProjectFiles(rn,g,y),pe(!1),tt("Files pushed to server successfully!"),je("api","sync","push")}catch(f){pe(!1),ae("Failed to push files: "+f.message),je("api","sync","push_error")}})})}async function Xa(){Mi();let s=Er();if(!s.isAuthenticated()){ae("Please login first.");return}if(!rn){ae("No project selected. Please create or select a project first.");return}if(!!confirm("Pull from server and replace all local files? Any unsaved changes will be overwritten.")){pe(!0);try{let t=await s.pullProjectFiles(rn);console.log("_pullFromApi: Got",Object.keys(t).length,"files:",Object.keys(t));let i=Lt();for(let[l,f]of Object.entries(t)){if(l.startsWith("bin/")&&(l.endsWith(".rom")||l.endsWith(".prg"))){console.log("_pullFromApi: Skipping compiled binary file",l,"- these are generated from source");continue}console.log("_pullFromApi: Updating file",l,"content type:",typeof f,"length:",typeof f=="string"?f.length:"binary"),await i.updateFileInStore(l,f),i.filedata[l]=f,ye.updateFile(l,f)}Jr(),pe(!1),tt(`Files pulled from server successfully! (${Object.keys(t).length} files)`),je("api","sync","pull")}catch(t){pe(!1),console.error("_pullFromApi: Error:",t),ae("Failed to pull files: "+t.message),je("api","sync","pull_error")}}}var Do=class{constructor(t){this.options=t,this.sampleRate=44100,this.soundData=[],this.tapData=[67,54,52,45,84,65,80,69,45,82,65,87,1,0,0,0,0,0,0,0]}getWAVHeader(){let t=new Uint8Array(44),i=new DataView(t.buffer);return i.setUint32(0,1380533830,!1),i.setUint32(4,44+this.soundData.length,!0),i.setUint32(8,1463899717,!1),i.setUint32(12,1718449184,!1),i.setUint32(16,16,!0),i.setUint16(20,1,!0),i.setUint16(22,1,!0),i.setUint32(24,this.sampleRate,!0),i.setUint32(28,this.sampleRate*2,!0),i.setUint16(32,1,!0),i.setUint16(34,8,!0),i.setUint32(36,1684108385,!1),i.setUint32(40,this.soundData.length,!0),t}addSilence(t){let i=Math.floor(this.sampleRate*t);for(let f=0;f<i;f++)this.soundData.push(0);let l=at.CLOCK_RATE*t;this.tapData.push(0),this.tapData.push(l&255),this.tapData.push(l>>8&255),this.tapData.push(l>>16&255)}addCycle(t){this.tapData.push(t);let i=Math.floor(this.sampleRate*at.TAP_LENGTH_IN_SECONDS*t);for(let l=0;l<i;l++){let f;this.options.sine_wave?f=-Math.sin(l/i*2*Math.PI):l<i/2?f=-1:f=1,this.options.invert_waveform&&(f=-f),this.soundData.push(Math.round(128+f*127))}}updateTAPHeader(){let t=this.tapData.length-20;this.tapData[16]=t&255,this.tapData[17]=t>>8&255,this.tapData[18]=t>>16&255,this.tapData[19]=t>>24&255}getTAPData(){return this.updateTAPHeader(),new Uint8Array(this.tapData)}getSoundData(){let t=this.getWAVHeader(),i=new Uint8Array(t.length+this.soundData.length);return i.set(t,0),i.set(new Uint8Array(this.soundData),t.length),i}},rt=class{constructor(t,i){this.options=i,this.checksum=0,this.data=new Uint8Array(0),this.filenameData=this.makeFilename(t),this.startAddress=0,this.endAddress=0,this.fileType=rt.FILE_TYPE_NONE,this.waveFile=null}makeFilename(t){let i=[],l=32;t=t.toUpperCase();for(let f=0;f<rt.FILENAME_BUFFER_SIZE;f++)if(t.length<=f)i.push(l);else{let g=t.charCodeAt(f);i.push(g)}return i}setContent(t){this.data=t.data,this.startAddress=t.startAddress,this.endAddress=t.startAddress+t.data.length,this.fileType=t.type}generateSound(t){this.waveFile=t,this.addHeader(!1),this.addHeader(!0),t.addSilence(.1),this.addFile()}addTapCycle(t){this.waveFile.addCycle(t)}addBit(t){t===0?(this.addTapCycle(rt.SHORT_PULSE),this.addTapCycle(rt.MEDIUM_PULSE)):(this.addTapCycle(rt.MEDIUM_PULSE),this.addTapCycle(rt.SHORT_PULSE))}addDataMarker(t){t?(this.addTapCycle(rt.LONG_PULSE),this.addTapCycle(rt.MEDIUM_PULSE)):(this.addTapCycle(rt.LONG_PULSE),this.addTapCycle(rt.SHORT_PULSE))}resetChecksum(){this.checksum=0}addByteFrame(t,i){let l=1;for(let f=0;f<8;f++){let g=(t&1<<f)!=0?1:0;this.addBit(g),l^=g}this.addBit(l),this.addDataMarker(i),this.checksum^=t}addLeader(t){let i;t===rt.LEADER_TYPE_HEADER?i=27136:t===rt.LEADER_TYPE_CONTENT?i=6656:i=79;for(let l=0;l<i;l++)this.addTapCycle(rt.SHORT_PULSE)}addSyncChain(t){let i;t?i=9:i=137;let l=9;for(;l>0;)this.addByteFrame(i,!0),i-=1,l-=1}addData(){for(let t=0;t<this.data.length;t++)this.addByteFrame(this.data[t],!0)}addFilename(){for(let t=0;t<this.filenameData.length;t++)this.addByteFrame(this.filenameData[t],!0)}addHeader(t){t?this.addLeader(rt.LEADER_TYPE_REPEATED):this.addLeader(rt.LEADER_TYPE_HEADER),this.addDataMarker(!0),this.addSyncChain(t),this.resetChecksum(),this.addByteFrame(this.fileType,!0),this.addByteFrame(this.startAddress&255,!0),this.addByteFrame((this.startAddress&65280)>>8,!0),this.addByteFrame(this.endAddress&255,!0),this.addByteFrame((this.endAddress&65280)>>8,!0),this.addFilename();for(let i=0;i<rt.NUMBER_OF_PADDING_BYTES;i++)this.addByteFrame(rt.PADDING_CHARACTER,!0);this.addByteFrame(this.checksum,!1)}addFile(){let t=!1;for(let i=0;i<2;i++)t?this.addLeader(rt.LEADER_TYPE_REPEATED):this.addLeader(rt.LEADER_TYPE_CONTENT),this.addDataMarker(!0),this.addSyncChain(t),this.resetChecksum(),this.addData(),this.addByteFrame(this.checksum,!1),t=!0;this.addLeader(1)}},at=rt;at.CLOCK_RATE=985248,at.TAP_LENGTH_IN_SECONDS=8/rt.CLOCK_RATE,at.FILENAME_BUFFER_SIZE=16,at.FILE_TYPE_NONE=0,at.FILE_TYPE_RELOCATABLE=1,at.FILE_TYPE_SEQUENTIAL=2,at.FILE_TYPE_NON_RELOCATABLE=3,at.LEADER_TYPE_HEADER=0,at.LEADER_TYPE_CONTENT=1,at.LEADER_TYPE_REPEATED=2,at.NUMBER_OF_PADDING_BYTES=171,at.PADDING_CHARACTER=32,at.SHORT_PULSE=48,at.MEDIUM_PULSE=66,at.LONG_PULSE=86;var ur=uo(gl());function Ka(s){return Qe()==null?(ae("Please fix errors before sharing."),!0):Qe()instanceof Uint8Array?(kl(),Kt("lib/liblzg.js").then(()=>{var t=ha(window.Module,Array.from(Qe()));window.Module=null;var i=btoa(kn(t)),l={p:te,r:i},f=$.param(l),g=Rl(f,"player.html"),y='<iframe width=640 height=600 src="'+g+'">';$("#embedLinkTextarea").text(g),$("#embedIframeTextarea").text(y),$("#embedLinkModal").modal("show"),$("#embedAdviceWarnAll").hide(),$("#embedAdviceWarnIE").hide(),g.length>=65536?$("#embedAdviceWarnAll").show():g.length>=5120&&$("#embedAdviceWarnIE").show()}),!0):(ae("Can't share a Verilog executable yet. (It's not actually a ROM...)"),!0)}function kl(){console.log("clipboard"),import("./clipboard-2SP4SJIP.js").then(s=>{let t=s.default;new t(".btn")})}function Rl(s,t){console.log(s);var i=window.location,l=i.pathname.replace("index.html",""),f=i.host=="8bitworkshop.com"?"https:":i.protocol,g=f+"//"+i.host+l+t+"?"+s;return g}function Dl(s){var i;var t=(i=Co())==null?void 0:i.code_start;Kt("lib/c2t.js").then(()=>{var l="",f=function(B){l+=B+`
`},g=window.c2t({noInitialRun:!0,print:f,printErr:f}),y=g.FS,_=Ge()+".bin",C=Ge()+".wav";y.writeFile(_,Qe(),{encoding:"binary"});var O=["-2bc",_+","+t.toString(16),C];g.callMain(O);var ie=y.readFile(C,{encoding:"binary"});if(ie){var xe=new Blob([ie],{type:"audio/wav"});(0,ur.saveAs)(xe,C),l+="Then connect your audio output to the cassette input, turn up the volume, and play the audio file.",tt(l)}})}function Ll(s){Kt("lib/makewav.js").then(()=>{let t="",i=function(_){t+=_+`
`};var l=ut(Ge());let f=l+".bin",g=l+".wav";window.makewav({noInitialRun:!1,print:i,printErr:i,arguments:["-ts","-f0","-v10",f],preRun:_=>{_.FS.writeFile(f,Qe(),{encoding:"binary"})}}).ready.then(_=>{let C=[f];_.run(C),console.log(t);let ie=_.FS.readFile(g,{encoding:"binary"});if(ie){let xe=new Blob([ie],{type:"audio/wav"});(0,ur.saveAs)(xe,g),t+=`
Connect your audio output to the SuperCharger input, turn up the volume, and play the audio file.`,tt(t)}})})}function Il(s){var t=ut(Ge());let i=t+".tap",l=new at(t),f=new Do({sine_wave:!0}),g=Qe(),y=g[0]+g[1]*256;g=g.slice(2),l.setContent({data:g,startAddress:y,type:at.FILE_TYPE_NON_RELOCATABLE}),l.generateSound(f);let _=f.getTAPData();if(_){let C=new Blob([_],{type:"application/octet-stream"});(0,ur.saveAs)(C,i)}}function Lo(){switch(Dt(te)){case"vcs":return Ll;case"apple2":return Dl;case"c64":return Il}}function Ja(s){if(Qe()==null)return ae("Please fix errors before exporting."),!0;var t=Lo();if(t===void 0)return ae("Cassette export is not supported on this platform."),!0;t(s)}function Io(s){if(console.log("_downloadROMImage called, platform:",te),console.log("getCurrentOutput():",Qe()),console.log("platform.getDownloadFile exists:",!!k.getDownloadFile),Qe()==null)return ae("Please finish compiling with no errors before downloading ROM."),!0;var t=ut(Ge());if(k.getDownloadFile){var i=k.getDownloadFile();if(console.log("platform.getDownloadFile() returned:",i),i){var t=ut(Ge());console.log("Downloading file:",t+i.extension),(0,ur.saveAs)(i.blob,t+i.extension),je("download","rom",te)}else console.log("getDownloadFile() returned null/undefined"),ae("No downloadable file available. Make sure you have compiled a program.")}else if(Qe()instanceof Uint8Array){var l=new Blob([Qe()],{type:"application/octet-stream"}),f=k.getROMExtension&&k.getROMExtension(Qe())||"-"+Dt(te)+".bin";console.log("Using fallback download, suffix:",f),(0,ur.saveAs)(l,t+f),je("download","rom",te)}else ae(`The "${te}" platform doesn't have downloadable ROMs.`)}function Qa(s){if(console.log("_downloadDiskImage called, platform:",te),Qe()==null)return ae("Please finish compiling with no errors before downloading disk."),!0;if(k.getDownloadDiskFile){var t=k.getDownloadDiskFile();if(console.log("platform.getDownloadDiskFile() returned:",t),t){var i=ut(Ge());console.log("Downloading disk:",i+t.extension),(0,ur.saveAs)(t.blob,i+t.extension),je("download","disk",te)}else console.log("getDownloadDiskFile() returned null/undefined"),ae("No downloadable disk available. Make sure you have compiled a program.")}else ae(`The "${te}" platform doesn't support disk downloads.`)}function Za(s){var t=ye.getCurrentText();if(!t)return!1;var i=new Blob([t],{type:"text/plain;charset=utf-8"});(0,ur.saveAs)(i,Oo(),{autoBom:!1}),je("download","source",te)}async function es(){let s=(await import("./jszip.min-QZ4ZBVAS.js")).default;return new s}async function ts(s){var t=await es();Lt().iterateFiles((i,l)=>{l&&t.file(Rt(i),l)}),t.generateAsync({type:"blob"}).then(i=>{(0,ur.saveAs)(i,Ge()+"-"+Dt(te)+".zip"),je("download","zip",te)})}function rs(s){let t=k.getDebugSymbolFile&&k.getDebugSymbolFile();if(!t){ae("This project does not have debug information.");return}var i=ut(Ge());(0,ur.saveAs)(t.blob,i+t.extension,{autoBom:!1})}async function is(s){var t=await es(),i=await Mr().keys();pe(!0);try{var l=0;await Promise.all(i.map(g=>Mr().getItem(g).then(y=>{St(l++/(i.length+1)),y&&t.file(g,y)})));var f=await t.generateAsync({type:"blob"});(0,ur.saveAs)(f,Dt(te)+"-all.zip")}finally{pe(!1)}}var Fo=!1;function Fl(){var s=document.getElementById("canvas");if(s)return s;var t=document.getElementById("c64-chips-screen");if(t){var i=t.querySelector("canvas");if(i)return i}var l=document.getElementById("vic20-chips-screen");if(l){var f=l.querySelector("canvas");if(f)return f}var g=document.getElementById("javatari-screen");if(g){var y=g.querySelector("canvas");if(y)return y}var _=document.getElementById("emuscreen");if(_){var C=_.querySelector("canvas");if(C)return C}var O=$("#emulator").find("canvas")[0];return O||null}function ns(){Fo||Kt("lib/gif.js").then(()=>{var s=Fl();if(!s){ae("Could not find canvas element to record video! Video recording is not supported for iframe-based emulators (e.g., BBC Micro).");return}var t=0;s.style&&s.style.transform&&(s.style.transform.indexOf("rotate(-90deg)")>=0?t=-1:s.style.transform.indexOf("rotate(90deg)")>=0&&(t=1));var i=new GIF({workerScript:"lib/gif.worker.js",workers:4,quality:10,rotate:t}),l=$("#videoPreviewImage");i.on("progress",C=>{St(C)}),i.on("finished",C=>{l.attr("src",URL.createObjectURL(C)),pe(!1),k.resume(),$("#videoPreviewModal").modal("show")});var f=20,g=300,y=0;console.log("Recording video",s),$("#emulator").css("backgroundColor","#cc3333");var _=()=>{y++>g?(console.log("Rendering video"),$("#emulator").css("backgroundColor","inherit"),pe(!0),k.pause(),i.render(),Fo=!1):(i.addFrame(s,{delay:f,copy:!0}),setTimeout(_,f),Fo=!0)};_()})}var iu=ml(),_i=ws(),re=fo(window.location.search||"?"),te,Qt,Ve,k,me,ye,xi=null,Go=!1,Or,$n,zo,cn=$("#controls_top"),ze,Mt,qo,Ei,Un,Gt,Ut=!0,_s="retrogamecoders_auto_compile";function nu(){let s=yi(_s);return s!==null?s==="true":!0}function ou(s){Yi(_s,s.toString(),365)}var fn=Ii(re.electron),Nt=Ii(re.embed),dn,pn,Wn=!1,Ni=!1,Hn=null,xs=null,Vo=!1,Es="c.PC == 0x6000";function Mr(){return Gt}function Lt(){return me}function Qe(){return Ei}function Co(){return $n}var au={dasm:"6502",acme:"6502",cc65:"text/x-csrc",ca65:"6502",nesasm:"6502",kickass:"6502",z80asm:"z80",sdasz80:"z80",sdcc:"text/x-csrc",verilator:"verilog",jsasm:"z80",zmac:"z80",bataribasic:"bataribasic",markdown:"markdown",js:"javascript",xasm6809:"z80",cmoc:"text/x-csrc",yasm:"gas",smlrc:"text/x-csrc",inform6:"inform6",fastbasic:"fastbasic",basic:"basic",c64basic:"c64basic",silice:"verilog",wiz:"text/x-wiz",none:"text/x-csrc",vasmarm:"vasm",armips:"vasm",ecs:"ecs","remote:llvm-mos":"text/x-csrc",cc7800:"text/x-csrc",armtcc:"text/x-csrc",oscar64:"text/x-csrc",bbcbasic:"basic"},su={dasm:"https://raw.githubusercontent.com/sehugg/dasm/master/doc/dasm.txt",cc65:"https://cc65.github.io/doc/cc65.html",ca65:"https://cc65.github.io/doc/ca65.html",sdcc:"http://sdcc.sourceforge.net/doc/sdccman.pdf",verilator:"https://www.veripool.org/ftp/verilator_doc.pdf",fastbasic:"https://github.com/dmsc/fastbasic/blob/master/manual.md",bataribasic:"help/bataribasic/manual.html",wiz:"https://github.com/wiz-lang/wiz/blob/master/readme.md#wiz",silice:"https://github.com/sylefeb/Silice",zmac:"https://raw.githubusercontent.com/sehugg/zmac/master/doc.txt",cmoc:"http://perso.b2b2c.ca/~sarrazip/dev/cmoc.html","remote:llvm-mos":"https://llvm-mos.org/wiki/Welcome",acme:"https://raw.githubusercontent.com/sehugg/acme/main/docs/QuickRef.txt"};function lu(){return new Worker(`./gen/worker/bundle.js?t=${Date.now()}`)}var fr=function(){try{let t="__some_random_key_you_are_not_going_to_use__";localStorage.setItem(t,t);var s=localStorage.getItem(t)==t;return localStorage.removeItem(t),s}catch(t){return!1}}(),Ts=class{setLastPreset(t){fr&&!Nt&&(Ve&&te&&!fn?localStorage.setItem("__lastrepo_"+te,Ve):localStorage.removeItem("__lastrepo_"+te),localStorage.setItem("__lastplatform",te),localStorage.setItem("__lastid_"+Qt,t))}unsetLastPreset(){fr&&!Nt&&(delete re.file,localStorage.removeItem("__lastid_"+Qt))}getLastPreset(){return fr&&!Nt&&localStorage.getItem("__lastid_"+Qt)}getLastPlatformID(){return fr&&!Nt&&localStorage.getItem("__lastplatform")}getLastRepoID(t){return fr&&!Nt&&t&&localStorage.getItem("__lastrepo_"+t)}shouldCompleteTour(){return!1}completedTour(){fr&&!Nt&&localStorage.setItem("8bitworkshop.hello","true")}},Ti=new Ts;function Yo(s,t){navigator.storage&&navigator.storage.persist&&navigator.storage.persist().then(i=>{console.log("requestPersistPermission =",i),i&&s&&!t&&tt("Your browser says it will persist your local file edits, but you may want to back up your work anyway.")})}function uu(){return Un?Un.title||Un.name||me.mainPath||"ROM":me.mainPath||"ROM"}async function cu(){var s=new vo(te);return fn?(console.log("using electron with local filesystem",alternateLocalFilesystem),new Xi(s,alternateLocalFilesystem)):re.localfs!=null?new Xi(s,await _u(re.localfs)):new Xi(s,new yo(Gt))}async function fu(){var s=await cu(),t=lu();me=new bo(t,te,k,s),me.remoteTool=re.tool||null,ye=new _o($("#workspace")[0],me),me.callbackBuildResult=i=>{Pu(i)},me.callbackBuildStatus=i=>{du(i)},window.worker=t}function du(s){s?cn.addClass("is-busy"):cn.removeClass("is-busy"),$("#compile_spinner").css("visibility",s?"visible":"hidden")}function Xo(s,t){var i=document.createElement("li"),l=document.createElement("a");return l.setAttribute("class","dropdown-item"),l.setAttribute("href","#"),l.setAttribute("data-wndid",s),s==ye.getActiveID()&&$(l).addClass("dropdown-item-checked"),l.appendChild(document.createTextNode(t)),i.appendChild(l),{li:i,a:l}}function Jr(){var s=$("#windowMenuList").empty(),t=!1;function i(C,O,ie){t&&(s.append(document.createElement("hr")),t=!1);let{li:xe,a:B}=Xo(C,O);if(s.append(xe),ie){var z=(Z,Te)=>{s.find("a").removeClass("dropdown-item-checked"),$(B).addClass("dropdown-item-checked")};ye.setCreateFunc(C,ie),ye.setShowFunc(C,z),$(B).click(Z=>{ye.createOrShow(C),Hn=C})}}function l(C){var O=k.getToolForFilename(C);O=="dasm"&&C.endsWith(".h")&&Ge().endsWith(".c")&&(O="cc65");var ie=O&&au[O];return new Zi(C,ie)}function f(C){i(C,Rt(C),()=>{var O=me.getFile(C);if(typeof O=="string")return l(C);if(O instanceof Uint8Array)return new So(C,O)})}f(me.mainPath),me.iterateFiles((C,O)=>{O&&C!=me.mainPath&&f(C)}),t=!0;var g=me.getListings();if(g)for(var y in g){var _=g[y];(_.assemblyfile&&_.assemblyfile.text||_.sourcefile&&_.sourcefile.text||_.text)&&i(y,Rt(y),C=>new Ao(C))}t=!0}function pu(s,t){if(t){var i=re.highlight.split(","),l=parseInt(i[0])-1,f=parseInt(i[1])-1,g=ye.createOrShow(s);g.highlightLines(l,f)}}function As(s){Jr(),ye.createOrShow(s),me.setMainFile(s),pu(s,re.highlight)}async function hu(s){me.mainPath=s,Ti.setLastPreset(s);var t=await me.loadFiles([s]);if(t&&t.length)As(s);else{var i=await mu(s);me.filedata[s]=i||`
`,As(s),re.newfile?Yo(!0,!0):tt('Could not find file "'+s+'". Loading default file.'),delete re.newfile,vn()}}function Ko(s){if(s=="/")re={repo:"/"};else if(s.indexOf("://")>=0){var t=Ji(s);t&&(re={repo:t.repopath})}else re.platform=te,re.file=s;xr()}async function mu(s){var t=k.getToolForFilename(s);try{return await $.get("presets/"+Dt(te)+"/skeleton."+t,"text")}catch(i){ae("Could not load skeleton for "+te+"/"+t+"; using blank file")}}function Jo(s){return s.indexOf(" ")>=0?(ae("No spaces in filenames, please."),!1):!0}function Bn(){setTimeout(()=>{let s=document.querySelector(".bootbox.modal");s&&(s.removeAttribute("aria-hidden"),s.setAttribute("aria-hidden","false"),console.log("Fixed modal aria-hidden attribute"))},100)}function gu(s){return bootbox.prompt({title:"Enter the name of your new main source file.",placeholder:"newfile"+k.getDefaultExtension(),callback:t=>{if(t&&t.trim().length>0){if(!Jo(t))return;t.indexOf(".")<0&&(t+=k.getDefaultExtension());var i=t;je("workspace","file","new"),re.newfile="1",Ko(i)}}}),Bn(),!0}function vu(s){let t=$('<input type="file" multiple accept="*" style="display:none">'),i=t[0];t.change(l=>{yu(i.files)}),t.click()}function yu(s){console.log(s);var t=0;function i(){var l=s[t++];if(!l)console.log("Done uploading",t),t>2?(tt("Files uploaded."),setTimeout(hn,1e3)):(re.file=s[0].name,bootbox.confirm({message:"Open '"+_i.sanitize(re.file)+"' as main project file?",buttons:{confirm:{label:"Open As New Project"},cancel:{label:"Include/Link With Project Later"}},callback:y=>{y?xr():setTimeout(hn,1e3)}})),je("workspace","file","upload");else{var f=l.name,g=new FileReader;g.onload=function(y){var _=y.target.result,C=new Uint8Array(_);gi(f,C)||(C=qi(C).replace(`\r
`,`
`)),ye.updateFile(f,C),console.log("Uploaded "+f+" "+C.length+" bytes"),i()},g.readAsArrayBuffer(l)}}s&&i()}async function bu(s){var t=window.showDirectoryPicker;t||ae("This browser can't open local files on your computer, yet. Try Chrome.");var i=await t(),l=i.name,f="__localfs__"+l,g={handle:i},y=Bo.createInstance({name:f,version:2});await y.setItem(f,g),re={localfs:l},xr(!0)}async function wu(s){return new Promise((t,i)=>{bootbox.prompt(_i.sanitize(s),l=>{t(l)})}).then(t=>(Bn(),t))}async function _u(s){let t={mode:"readwrite"};var i="__localfs__"+s,l=Bo.createInstance({name:i,version:2}),f=await l.getItem(i),g=f.handle;console.log(f,g);var y=await g.queryPermission(t);if(console.log(y),y!=="granted"&&(await wu("Request permissions to access filesystem?"),y=await g.requestPermission(t)),y!=="granted"){ae("Could not get permission to access filesystem.");return}return{getFileData:async _=>{console.log("getFileData",_);let C=await g.getFileHandle(_,{create:!1});console.log("getFileData",C);let O=await C.getFile();console.log("getFileData",O);let ie=await(gi(_)?O.binary():O.text());return console.log(C,O,ie),ie},setFileData:async(_,C)=>{}}}function Ge(){return Rt(me.mainPath)}function Oo(){return Rt(ye.getActiveID())}function xu(s){var t=ye.getActive();if(t&&t.setText){var i=ye.getActiveID();$.get("presets/"+Dt(te)+"/"+i,l=>{bootbox.confirm("Reset '"+_i.sanitize(i)+"' to default?",f=>{f&&t.setText(l)})},"text").fail(()=>{Ve?ae("Can only revert built-in examples. If you want to revert all files, You can pull from the repository."):ae("Can only revert built-in examples.")})}else ae("Cannot revert the active window. Please choose a text file.")}function Eu(s){var t=ye.getActive();if(t&&t.getPath){var i=ye.getActiveID();bootbox.confirm("Delete '"+_i.sanitize(i)+"'?",l=>{l&&Gt.removeItem(i).then(()=>{re.file==i?(Ti.unsetLastPreset(),xr()):(hn(),tt("Deleted "+i))})})}else ae("Cannot delete the active window.")}function Tu(s){var t=ye.getActive();if(t&&t.getPath&&me.getFile(t.getPath())){var i=ye.getActiveID();bootbox.prompt({title:"Rename '"+_i.sanitize(i)+"' to?",value:i,callback:l=>{var f=me.getFile(t.getPath());if(l&&l!=i&&f){if(!Jo(l))return;Gt.removeItem(i).then(()=>Gt.setItem(l,f)).then(()=>{hn(),alert("Renamed "+i+" to "+l),i==me.mainPath&&Ko(l)})}}}),Bn()}else ae("Cannot rename the active window.")}function Au(s){let t={},i,l=k.getPresets?k.getPresets():[];for(var f=0;f<l.length;f++){var g=l[f],y=g.chapter?g.chapter+". "+g.name:g.name,_=g.id==me.mainPath;g.category?i=$("<optgroup />").attr("label","Examples: "+g.category).appendTo(s):i||(i=$("<optgroup />").attr("label","Examples").appendTo(s)),i.append($("<option />").val(g.id).text(y).attr("selected",_?"selected":null)),_&&(Un=g),t[g.id]=y}return t}function Su(s){if(fr&&!fn){var t=0,i=Oi();if(i){let f=$("<optgroup />").attr("label","Repositories").appendTo(s);for(let g in i){var l=i[g];l.platform_id&&Dt(l.platform_id)==Dt(te)&&f.append($("<option />").val(l.url).text(l.url.substring(l.url.indexOf("/"))))}}}}async function Ss(s,t,i,l){let f=await Gt.keys();f||(f=[]);let g;for(var y=0;y<f.length;y++){let _=f[y];if(_.startsWith(i)&&!l[_]){g||(g=$("<optgroup />").attr("label",t).appendTo(s));let C=_.substring(i.length);g.append($("<option />").val(_).text(C).attr("selected",_==me.mainPath?"selected":null))}}}function Cs(s){s.css("visibility","visible");var t=me.mainPath;s.val()!=t&&s.append($("<option />").val(t).text(t).attr("selected","selected"))}async function hn(){var s=$("#preset_select").empty();if(Ve)s.append($("<option />").val("/").text("Leave Repository")),$("#repo_name").text(Rt(Ve)+"/").show(),await Ss(s,Ve,"",{}),Cs(s);else{Su(s);var t=Au(s);await Ss(s,"Local Files","",t),Cs(s)}s.off("change").change(function(i){Ko($(this).val().toString())})}function Cu(s){var t=$("<p/>");if(s.path!=null){var i=s.line?s.label?`(${s.path} @ ${s.label})`:`(${s.path}:${s.line})`:`(${s.path})`,l=$("<a/>").text(i),f=s.path;f==Ge()&&(f=me.mainPath),ye.isWindow(f)&&l.click(g=>{var y=ye.createOrShow(f);y instanceof Zi&&y.setCurrentLine(s,!0)}),t.append(l),t.append("&nbsp;")}return t.append($("<span/>").text(s.msg)),t}function Ps(){$("#error_alert").hide(),Vo=!1}function Qo(s,t){var i=$("#error_alert_msg").empty();for(var l of s.slice(0,10))i.append(Cu(l));$("#error_alert").show(),Vo=t,$("#error_alert").attr("tabindex","-1"),$("#error_alert").css("outline","none"),setTimeout(()=>{let f=document.querySelector(".CodeMirror textarea");f&&f.focus()},100)}function ks(s,t){if(t!=null){var i={msg:t,line:0};s instanceof ho&&s.$loc&&(i=Object.create(s.$loc),i.msg=t,console.log(i)),Qo([i],!0)}}async function Pu(s){if("errors"in s&&s.errors.length>0)cn.addClass("has-errors"),ye.setErrors(s.errors),Jr(),Qo(s.errors,!1),je("compile","error",te,s.errors.length.toString());else{if(cn.removeClass("has-errors"),ye.setErrors(null),Ps(),s==null||"unchanged"in s&&s.unchanged||!("output"in s))return;k.debugSymbols=new ga(s.symbolmap,s.debuginfo),$n=s.params;var t=s.output;if(t!=null)try{ji(),Os(),await k.loadROM(uu(),t),Ei=t,qo||Nr(),yc(),je("compile","success",te,t.length.toString())}catch(i){console.log(i),cn.addClass("has-errors"),ks(i,i+""),Ei=null,Jr();return}Jr(),ye.refresh(!1)}}async function ku(){if(k.loadBIOS){var s=te+".rom",t=await Gt.getItem(s);t instanceof Uint8Array?(console.log("loading BIOS",s,t.length+" bytes"),k.loadBIOS(s,t)):console.log("BIOS file must be binary",s)}}function Rs(){var s=$("#mem_info");s.hide(),dn=null}function mn(s){if(!!va(k)){var t=$("#mem_info"),i=$("#mem_info_msg"),l=k.getDebugCategories();l&&!pn&&(pn=l[0]);var f=s&&k.getDebugInfo(pn,s);if(typeof f=="string"){var g=dn?pa(dn,f):f;t.show(),i.html(g);var y=$('<div class="mem_info_links">'),_=O=>{var ie=$("<a>"+O+"</a>");O==pn&&ie.addClass("selected"),ie.click(xe=>{pn=O,dn=null,mn(Or)}),y.append(ie),y.append("<span> </span>")};for(var C of l)_(C);i.append("<br>"),i.append(y),dn=f}else Rs()}}function Gn(s,t){$("#debug_bar, #run_bar").find("button").removeClass("btn_active").removeClass("btn_stopped"),$("#dbg_"+s).addClass("btn_"+t)}function Zo(){return k&&Ei!=null}function dr(){return Zo()?!0:(ae("Can't do this until build successfully completes."),!1)}function Ru(s){if(Hn&&Hn.startsWith("#")||["toline","restart","tovsync","stepover"].includes(xs)||!k.disassemble)return;let t=me.getListings(),i="#disasm",l=256;if(t){let f=s.c?s.c.EPC||s.c.PC:0;for(let g in t){let y=t[g],_=y.assemblyfile||y.sourcefile,C=me.filename2path[g]||g;if(_==y.sourcefile&&(C=ye.findWindowWithFilePrefix(g)),ye.isWindow(C)){let O=_&&_.findLineForOffset(f,Ln);if(O){let ie=_.lines[O.line+1];if(!ie||f<ie.offset){let xe=f-O.offset;xe<l&&(i=C,l=xe)}}}}}ye.createOrShow(i,!0)}function zn(s){Or=s,mn(s),Ru(s),ye.refresh(!0),Wn=!0}function Ds(s){k.setupDebug&&(k.setupDebug((t,i)=>{zn(t),Gn(s||"pause","stopped"),i&&Qo([{msg:"STOPPED: "+i,line:0}],!0)}),xs=s)}function _r(s){!dr()||(ta(),Ds(s),s&&Gn(s,"active"))}function Qr(){k&&k.isRunning()&&(k.pause(),console.log("Paused")),Gn("pause","stopped")}function Du(){!dr()||(ji(),Qr(),qo=!0)}function Nr(){k.isRunning()||(k.resume(),console.log("Resumed")),Gn("go","active"),Vo&&Ps()}function Ls(){!dr()||(ji(),k.isRunning()||ye.refresh(!1),Nr(),qo=!1,Hn=null)}function Lu(){!dr()||(_r("step"),k.step())}function Iu(){!dr()||(_r("stepover"),k.stepOver())}function Fu(){!dr()||(_r("tovsync"),k.runToVsync())}function Is(){var s=ye.getActive();return s&&s.getCursorPC&&s.getCursorPC()}function en(s){!dr()||!(s>=0)||(_r("toline"),console.log("Run to",s.toString(16)),k.runToPC?k.runToPC(s):k.runEval(t=>t.PC==s))}function Ou(){k.restartAtPC(Is())?Ls():ae("Could not restart program at selected line.")}function Mu(){en(Is())}function Nu(){!dr()||(_r("stepout"),k.runUntilReturn())}function ju(){!dr()||(_r("stepback"),k.stepBack())}function ji(){Or=null,k.clearDebug&&k.clearDebug(),Ds(),mn()}function ea(){k.reset(),Os()}function $u(){!dr()||(ji(),ea(),Nr())}function Uu(){if(!!dr()){var s=Ni;ta(),k.setupDebug&&k.runEval?(ji(),Nr(),ea(),_r("restart"),k.runEval(t=>!0)):(ea(),Nr()),s&&Ms()}}function Wu(){var s=$("#debugExprModal"),t=$("#debugExprSubmit");$("#debugExprInput").val(Es),$("#debugExprExamples").text(Hu()),s.modal("show"),t.off("click").on("click",()=>{var i=$("#debugExprInput").val()+"";s.modal("hide"),Bu(i)})}function Hu(){var s=k.saveState&&k.saveState(),t=s.c;console.log(t,s);var i="";return t.PC&&(i+="c.PC == 0x"+wr(t.PC)+`
`),t.SP&&(i+="c.SP < 0x"+wr(t.SP)+`
`),t.HL&&(i+=`c.HL == 0x4000
`),k.readAddress&&(i+=`this.readAddress(0x1234) == 0x0
`),k.readVRAMAddress&&(i+=`this.readVRAMAddress(0x1234) != 0x80
`),k.getRasterScanline&&(i+=`this.getRasterScanline() > 222
`),i}function Bu(s){var t=new Function("c","return ("+s+");").bind(k);_r(),k.runEval(t),Es=s}function Fs(){k.isRunning()?(ye.tick(),Wn=!1):Wn||(ye.tick(),Wn=!0),setTimeout(Fs,100)}function gn(s){k.setFrameRate(s),s>.01?$("#fps_label").text(s.toFixed(2)):$("#fps_label").text("1/"+Math.round(1/s))}function Gu(){var s=k.getFrameRate();s=s/2,s>1e-5&&gn(s)}function zu(){var s=k.getFrameRate();s=Math.min(60,s*2),gn(s)}function qu(){gn(60/65536)}function Vu(){Nr(),gn(60)}function Yu(){ye.refresh(!1);var s=ye.getActive();if(s.getSourceFile&&s.setTimingResult){var t=k.newCodeAnalyzer();t.showLoopTimingForPC(0),s.setTimingResult(t)}}function ta(){Ni&&(k.setRecorder(null),$("#dbg_record").removeClass("btn_recording"),$("#replaydiv").hide(),Rs(),Ni=!1)}function Os(){Ni&&Mt.reset()}function Ms(){Mt.reset(),k.setRecorder(Mt),$("#dbg_record").addClass("btn_recording"),$("#replaydiv").show(),Ni=!0}function Xu(){Ni?ta():Ms()}function jr(s,t,i){var l=ye.getActive();l&&l.insertText?(bootbox.prompt({title:"Add "+_i.sanitize(s)+" File to Project",value:"filename"+_i.sanitize(t),callback:f=>{if(f&&f.trim().length>0){if(!Jo(f))return;var g=f,y=`
`+i(f)+`
`;me.loadFiles([g]).then(_=>{_&&_.length?ae(f+" already exists; including anyway"):me.updateFile(g,`
`),l.insertText(y),Jr()})}}}),Bn()):ae("Can't insert text in this window -- switch back to main file")}function Ku(){var s=Ge(),t=k.getToolForFilename(s);s.endsWith(".c")||t=="sdcc"||t=="cc65"||t=="cmoc"||t=="smlrc"?jr("Header",".h",i=>'#include "'+i+'"'):t=="dasm"||t=="zmac"?jr("Include",".inc",i=>'	include "'+i+'"'):t=="ca65"||t=="sdasz80"||t=="vasm"||t=="armips"?jr("Include",".inc",i=>'	.include "'+i+'"'):t=="verilator"?jr("Verilog",".v",i=>'`include "'+i+'"'):t=="wiz"?jr("Include",".wiz",i=>'import "'+i+'";'):t=="ecs"?jr("Include",".ecs",i=>'import "'+i+'"'):t=="acme"?jr("Include",".acme",i=>'!src "'+i+'"'):ae("Can't add include file to this project type ("+t+")")}function Ju(){var s=Ge(),t=k.getToolForFilename(s);s.endsWith(".c")||t=="sdcc"||t=="cc65"||t=="cmoc"||t=="smlrc"?jr("Linked C (or .s)",".c",i=>'//#link "'+i+'"'):s.endsWith("asm")||s.endsWith(".s")||t=="ca65"||t=="lwasm"?jr("Linked ASM",".inc",i=>';#link "'+i+'"'):ae("Can't add linked file to this project type ("+t+")")}function Ns(){Ut=!Ut,ou(Ut),window.autoCompileEnabled=Ut,js(),console.log("Auto-compile",Ut?"enabled":"disabled")}function Qu(){me&&me.mainPath&&(console.log("Manual build and run triggered"),window.isManualCompilation=!0,me.sendBuild(),setTimeout(()=>{window.isManualCompilation=!1},1e3))}function js(){let s=document.getElementById("auto_compile_checkbox"),t=document.getElementById("auto_compile_toggle"),i=document.getElementById("manual_build_btn"),l=document.getElementById("auto_compile_status");s&&(s.checked=!!Ut),t&&t.setAttribute("title",Ut?"Auto-Compile Enabled (Ctrl+Alt+C)":"Auto-Compile Disabled (Ctrl+Alt+C)"),l&&(Ut?(l.textContent="Auto-Compile: ON",l.style.color="#5cb85c"):(l.textContent="Auto-Compile: OFF",l.style.color="#b0b0b0")),i&&(Ut?i.style.display="none":i.style.display="inline-block")}function Zu(){ze=new ya($("#toolbar")[0],null),ze.grp.prop("id","run_bar"),ze.add("ctrl+alt+r","Reset","glyphicon-refresh",$u).prop("id","dbg_reset"),ze.add("ctrl+alt+,","Pause","glyphicon-pause",Du).prop("id","dbg_pause"),ze.add("ctrl+alt+.","Resume","glyphicon-play",Ls).prop("id","dbg_go"),k.restartAtPC&&ze.add("ctrl+alt+/","Restart at Cursor","glyphicon-play-circle",Ou).prop("id","dbg_restartatline"),ze.newGroup(),ze.grp.prop("id","compile_bar"),ze.add("ctrl+alt+c","Toggle Auto-Compile",null,Ns);let s=$('<span id="auto_compile_toggle" class="auto-compile-switch" />').appendTo(ze.grp),t=$('<label class="switch" />').appendTo(s),i=$('<input type="checkbox" id="auto_compile_checkbox" />').appendTo(t),l=$('<span class="slider round"></span>').appendTo(t);if(i.on("change",()=>{Ns()}),$('<span class="auto-compile-status">Auto-Compile: ON</span>').appendTo(ze.grp).prop("id","auto_compile_status"),ze.add("ctrl+alt+m","Build and Run","glyphicon-play",Qu).prop("id","manual_build_btn"),ze.newGroup(),ze.grp.prop("id","debug_bar"),k.runEval&&ze.add("ctrl+alt+e","Reset and Debug","glyphicon-fast-backward",Uu).prop("id","dbg_restart"),k.stepBack&&ze.add("ctrl+alt+b","Step Backwards","glyphicon-step-backward",ju).prop("id","dbg_stepback"),k.step&&ze.add("ctrl+alt+s","Single Step","glyphicon-step-forward",Lu).prop("id","dbg_step"),k.stepOver&&ze.add("ctrl+alt+t","Step Over","glyphicon-hand-right",Iu).prop("id","dbg_stepover"),k.runUntilReturn&&ze.add("ctrl+alt+o","Step Out of Subroutine","glyphicon-hand-up",Nu).prop("id","dbg_stepout"),k.runToVsync&&ze.add("ctrl+alt+n","Next Frame/Interrupt","glyphicon-forward",Fu).prop("id","dbg_tovsync"),(k.runEval||k.runToPC)&&!te.startsWith("verilog")&&ze.add("ctrl+alt+l","Run To Line","glyphicon-save",Mu).prop("id","dbg_toline"),ze.newGroup(),ze.grp.prop("id","xtra_bar"),js(),$(".dropdown-menu").collapse({toggle:!1}),$("#item_new_file").click(gu),$("#item_upload_file").click(vu),$("#item_open_directory").click(bu),$("#item_github_login").click(Ia),$("#item_github_logout").click(Fa),$("#item_github_import").click(Oa),$("#item_github_publish").click(Ma),$("#item_github_push").click(Na),$("#item_github_pull").click(ja),$("#item_repo_delete").click(Ua),$("#apiLoginButton").click(Ba),$("#apiRegisterButton").click(Ha),$("#apiUserAvatar").click(_=>{_.stopPropagation(),za()}),$("#item_api_logout").click(_=>{_.preventDefault(),Ga()}),$("#item_api_projects").click(_=>{_.preventDefault(),!$(_.target).hasClass("disabled")&&Va()}),$("#item_api_create_project").click(_=>{_.preventDefault(),!$(_.target).hasClass("disabled")&&qa()}),$("#item_api_push").click(_=>{_.preventDefault(),!$(_.target).hasClass("disabled")&&Ya()}),$("#item_api_pull").click(_=>{_.preventDefault(),!$(_.target).hasClass("disabled")&&Xa()}),$("#item_share_file").click(Ka),$("#item_reset_file").click(xu),$("#item_rename_file").click(Tu),$("#item_delete_file").click(Eu),k.runEval?$("#item_debug_expr").click(Wu).show():$("#item_debug_expr").hide(),$("#item_download_rom").click(Io),$("#item_download_disk").click(Qa),$("#item_download_file").click(Za),$("#item_download_zip").click(ts),k.getDownloadDiskFile?$("#item_download_disk").show():$("#item_download_disk").hide(),k.getDebugSymbolFile?$("#item_download_sym").click(rs):$("#item_download_sym").hide(),$("#item_download_allzip").click(is),$("#item_record_video").click(ns),Lo()?$("#item_export_cassette").click(Ja):$("#item_export_cassette").hide(),k.setFrameRate&&k.getFrameRate&&($("#dbg_slower").click(Gu),$("#dbg_faster").click(zu),$("#dbg_slowest").click(qu),$("#dbg_fastest").click(Vu)),$("#item_addfile_include").click(Ku),$("#item_addfile_link").click(Ju),$("#item_request_persist").click(()=>Yo(!0,!1)),Fs(),k.newCodeAnalyzer&&ze.add(null,"Analyze CPU Timing","glyphicon-time",Yu),k.setRecorder&&k.advance&&ec(),k.showHelp){let{li:_,a:C}=Xo("help__"+te,zo+" Help");$("#help_menu").append(_),$(C).click(()=>window.open(k.showHelp(),"_8bws_help"))}let g=k.getToolForFilename(Ge()),y=su[g];if(y){let{li:_,a:C}=Xo("help__"+g,g+" Help");$("#help_menu").append(_),$(C).click(()=>window.open(y,"_8bws_help"))}}function ec(){var s=$("#replayslider"),t=$("#clockslider"),i=$("#replay_frame"),l=$("#replay_clock");k.advanceFrameClock||$("#clockdiv").hide();var f=()=>{i.text(Mt.lastSeekFrame+""),l.text(Mt.lastSeekStep+"")},g=C=>{Qr();var O=parseInt(s.val().toString()),ie=parseInt(t.val().toString());Mt.loadFrame(O,ie)>=0&&(t.attr("min",0),t.attr("max",Mt.lastStepCount),f(),zn(k.saveState()))},y=C=>{Qr(),Mt.loadFrame(C)>=0&&(s.val(C),f(),zn(k.saveState()))},_=C=>{Qr();var O=parseInt(s.val().toString());Mt.loadFrame(O,C)>=0&&(t.val(C),f(),zn(k.saveState()))};Mt.callbackStateChanged=()=>{s.attr("min",0),s.attr("max",Mt.numFrames()),s.val(Mt.currentFrame()),t.val(Mt.currentStep()),f(),mn(k.saveState())},s.on("input",g),t.on("input",g),$("#replay_min").click(()=>{y(1)}),$("#replay_max").click(()=>{y(Mt.numFrames())}),$("#replay_back").click(()=>{y(parseInt(s.val().toString())-1)}),$("#replay_fwd").click(()=>{y(parseInt(s.val().toString())+1)}),$("#clock_back").click(()=>{_(parseInt(t.val().toString())-1)}),$("#clock_fwd").click(()=>{_(parseInt(t.val().toString())+1)}),$("#replay_bar").show(),ze.add("ctrl+alt+0","Start/Stop Replay Recording","glyphicon-record",Xu).prop("id","dbg_record")}function tc(){try{var s=window.screen.orientation||window.screen.msOrientation||window.screen.mozOrientation||null;if(s){if(s.type.indexOf("landscape")!==-1)return!0;if(s.type.indexOf("portrait")!==-1)return!1}if("orientation"in window){var t=window.orientation;if(t===0||t===180)return!1;if(t===90||t===270)return!0}}catch(i){}return window.innerWidth>window.innerHeight}async function rc(){if(Ti.shouldCompleteTour()){await Kt("lib/bootstrap-tourist.js");var s=te.startsWith("vcs"),t=[{element:"#platformsMenuButton",placement:"right",title:"Platform Selector",content:`You're currently on the "<b>`+te+'</b>" platform. You can choose a different one from the menu.'},{element:"#preset_select",title:"Project Selector",content:"You can choose different code examples, create your own files, or import projects from GitHub."},{element:"#workspace",title:"Code Editor",content:s?"Type your 6502 assembly code into the editor, and it'll be assembled in real-time.":"Type your source code into the editor, and it'll be compiled in real-time."},{element:"#emulator",placement:"left",title:"Emulator",content:"We'll load your compiled code into the emulator whenever you make changes."},{element:"#debug_bar",placement:"bottom",title:"Debug Tools",content:"Use these buttons to set breakpoints, single step through code, pause/resume, and use debugging tools."},{element:"#dropdownMenuButton",title:"Main Menu",content:"Click the menu to create new files, download your code, or share your work with others."},{element:"#sidebar",title:"Sidebar",content:"Pull right to expose the sidebar. It lets you switch between source files, view assembly listings, and use other tools like Disassembler, Memory Browser, and Asset Editor."}];tc()||t.unshift({element:"#controls_top",placement:"bottom",title:"Portrait mode detected",content:"This site works best on desktop browsers. For best results, rotate your device to landscape orientation."}),window.location.host.endsWith("8bitworkshop.com")&&(t.unshift({element:"#dropdownMenuButton",placement:"right",title:"Cookie Consent",content:'Before we start, we should tell you that this website stores cookies and other data in your browser. You can review our <a href="/privacy.html" target="_new">privacy policy</a>.'}),t.push({element:"#booksMenuButton",placement:"left",title:"Books",content:"Get some books that explain how to program all of this stuff, and write some games!"})),fn&&(t.unshift({element:"#dropdownMenuButton",placement:"right",title:"Developer Analytics",content:"BTW, we send stack traces to sentry.io when exceptions are thrown. Hope that's ok."}),t.unshift({element:"#dropdownMenuButton",placement:"right",title:"Welcome to 8bitworkshop Desktop!",content:'The directory "~/8bitworkshop" contains all of your file edits and built ROM images. You can create new projects under the platform directories (e.g. "c64/myproject")'}));var i=new Tour({autoscroll:!1,steps:t,onEnd:()=>{Ti.completedTour()}});setTimeout(()=>{i.start()},2500)}}function qn(s){var t=(s.message||s.error||s)+"";if(t.indexOf("QuotaExceededError")>=0)Yo(!1,!1);else{var i=s.error||s.reason;i!=null&&i instanceof ho&&$s(i)}}function $s(s){console.log("haltEmulation"),Qr(),gc(s)}function ic(){window.addEventListener("error",qn),window.addEventListener("unhandledrejection",qn)}function Us(){window.removeEventListener("error",qn),window.removeEventListener("unhandledrejection",qn)}function xr(s,t){t&&(re=t),Us(),s?window.location.replace("?"+$.param(re)):window.location.href="?"+$.param(re)}function vn(){te&&(re.platform=te),delete re[""],history.replaceState({},"","?"+$.param(re))}function nc(){var s=!1;document.addEventListener("visibilitychange",()=>{document.visibilityState=="hidden"&&k&&k.isRunning()?(Qr(),s=!0):document.visibilityState=="visible"&&s&&(Nr(),s=!1)}),$(window).on("focus",()=>{s&&(Nr(),s=!1)}),$(window).on("blur",()=>{k&&k.isRunning()&&(Qr(),s=!0)}),$(window).on("orientationchange",()=>{k&&k.resize&&setTimeout(k.resize.bind(k),200)})}function oc(){var s=$(document).find(".emucontrols-"+vi(te));te.endsWith(".mame")&&s.show();var t=$("#emulator").find("canvas");t&&(t.on("focus",()=>{te!=="apple2e"&&k&&k.isRunning&&k.isRunning()&&(s.fadeIn(200),k.pause(),k.resume())}),t.on("blur",()=>{s.fadeOut(200)}))}function ac(){window.ga&&($(".dropdown-item").click(s=>{s.target&&s.target.id&&je("menu",s.target.id)}),La(location.pathname+"?platform="+te+(Ve?"&repo="+Ve:"&file="+re.file)))}async function sc(){if(!po[te])throw Error("Invalid platform '"+te+"'.");let s=$("#emuscreen")[0],t=fo(re.options||"");k=new po[te](s,t),pc(),Mt=new ba(k);let i=k.getPresets?k.getPresets():[];if(!re.file){var l=Ti.getLastPreset(),f=l||(Ve?null:i[0].id);re.file=f||"DEFAULT",f||ae("There is no default main file for this project. Try selecting one from the pulldown.")}te=="vcs"&&re.file.startsWith("examples/")&&!re.file.endsWith(".a")&&(re.file+=".a"),vn(),ic(),ac(),je("platform","select",te),await k.start(),await ku(),await fu(),xi&&(me.filedata[xi.filename]=xi.content,me.mainPath=xi.filename,re.file=xi.filename,xi=null),await hu(re.file),k.sourceFileFetch=g=>me.filedata[g],Go&&me&&me.mainPath&&(Go=!1,setTimeout(()=>{me&&me.mainPath&&(console.log("Auto-compiling URL-loaded file:",me.mainPath),me.sendBuild())},300)),Ut=nu(),window.autoCompileEnabled=Ut,console.log("Auto-compile state loaded from cookie:",Ut?"enabled":"disabled"),Zu(),nc(),oc(),Nt?lc():(hn(),uc(),rc()),Ws(),nn()}function lc(){$("#dropdownMenuButton").hide(),$("#platformsMenuButton").hide(),$("#booksMenuButton").hide()}function uc(){vi(te)=="nes"?$(".book-nes").addClass("book-active"):vi(te)=="vcs"?$(".book-vcs").addClass("book-active"):vi(te)=="verilog"?$(".book-verilog").addClass("book-active"):vi(te)=="c64"?$(".book-c64").addClass("book-active"):k.getToolForFilename(Ge())=="sdcc"&&$(".book-arcade").addClass("book-active")}function Ws(){setTimeout(()=>{$("#controls_dynamic").css("visibility","inherit")},250)}function Hs(){var s="workspace-split3-"+te;Nt&&(s="embed-"+s);var t;te.startsWith("vcs")?t=[0,50,50]:Nt||Qi?t=[0,55,45]:t=[12,44,44];var i=fr&&localStorage.getItem(s);if(i)try{t=JSON.parse(i)}catch(f){console.log(f)}var l=iu(["#sidebar","#workspace","#emulator"],{sizes:t,minSize:[0,250,250],onDrag:()=>{k&&k.resize&&k.resize()},onDragEnd:()=>{fr&&localStorage.setItem(s,JSON.stringify(l.getSizes())),ye&&ye.resize()}})}async function cc(s){if(!te){ae("Platform must be specified when using url parameter. Please add ?platform=XXX to the URL.");return}try{let i=new URL(s);if(i.protocol!=="http:"&&i.protocol!=="https:"){ae("Only http and https URLs are supported. Invalid URL: "+s);return}}catch(i){ae("Invalid URL format: "+s+". Please provide a valid http:// or https:// URL.");return}pe(!0);let t;re.filename?t=re.filename:(t=Rt(s),(!t||t===s)&&(t="loaded"+(te==="c64"||te==="bbc"||te==="vic20"?".bas":".c"))),console.log("Loading file from URL:",s),console.log("Using filename:",t),Vi(s,async i=>{try{if(!i){ae("Could not load file from URL: "+s+`

Possible reasons:
- File not found (404)
- CORS restrictions
- Network error
- Invalid URL`),pe(!1);return}let l;if(i instanceof Uint8Array)try{l=qi(i)}catch(f){ae("Could not decode file as text. Binary files are not supported in this phase."),pe(!1);return}else l=i;console.log("Loaded "+l.length+" bytes from URL"),xi={filename:t,content:l},Go=!0,delete re.url,delete re.filename,re.file=t,vn(),pe(!1),await ra()}catch(l){console.error("Error loading from URL:",l),ae("Error loading file from URL: "+s+`

`+l.message),pe(!1)}},"text")}function fc(s){let t=Ii(re.ignore)||Nt;pe(!0),Vi(s,async i=>{if(i){var l=Rt(s);console.log("Importing "+i.length+" bytes as "+l);try{var f=await Gt.getItem(l);pe(!1),f!=null&&t||(f==null||confirm("Replace existing file '"+l+"'?"))&&await Gt.setItem(l,i),delete re.importURL,re.file=l,vn(),ra()}finally{pe(!1)}}else ae("Could not load source code from URL: "+s),pe(!1)},"text")}async function dc(){var s=Ii(re.ignore),t=Ii(re.force);Nt?s=!t:t=!1;for(var i=0;i<20;i++){let f=re["file"+i+"_name"],g=re["file"+i+"_data"];if(f==null||g==null)break;var l=await Gt.getItem(f);if(!(s&&l)){let y=g;re["file"+i+"_type"]=="binary"&&(y=Pn(atob(y))),(!l||t||confirm("Replace existing file '"+f+"'?"))&&await Gt.setItem(f,y)}i==0&&(re.file=f),delete re["file"+i+"_name"],delete re["file"+i+"_data"],delete re["file"+i+"_type"]}delete re.ignore,delete re.force,vn()}function pc(){var s=k.getPlatformName&&k.getPlatformName(),t=$('a[href="?platform='+te+'"]');t.length&&(t.addClass("dropdown-item-checked"),s=s||t.text()||s),zo=s||te,$(".platform_name").text(zo)}function Bs(){if(te=re.platform||Ti.getLastPlatformID(),Ve=re.repo,!re.repo&&!re.file&&(Ve=Ti.getLastRepoID(te)),fr&&Ve&&Ve!=="/"){var s=Oi()[Ve];s&&(console.log(te,re,s),re.repo=Ve,s.platform_id&&!re.platform&&(re.platform=te=s.platform_id),s.mainPath&&!re.file&&(re.file=s.mainPath))}else Ve="",delete re.repo;te||(Nt&&Da("The 'platform' must be specified when embed=1"),te=re.platform="c64")}async function Gs(){if(re.githubURL){Fn(re.githubURL,!0);return}if(re.url){if(!re.platform){ae(`Platform must be specified when using url parameter. Please add ?platform=XXX&url=... to the URL.

Example: ?platform=c64&url=https://example.com/game.bas`);return}Bs(),Hs(),Qt=Ve||Dt(te),Nt&&(Qt=(document.referrer||document.location.href)+Qt),Gt=Ki(Qt),await cc(re.url);return}if(Bs(),Hs(),Qt=Ve||Dt(te),Nt&&(Qt=(document.referrer||document.location.href)+Qt),Gt=Ki(Qt),re.importURL){fc(re.importURL);return}re.file0_name&&await dc(),ra()}async function ra(){try{let t=te.includes("")?te:vi(te);var s=await wa(t);console.log("starting platform",te),await sc(),document.title=document.title+" ["+te+"] - "+(Ve?"["+Ve+"] - ":"")+me.mainPath}catch(t){console.log(t),ae('Platform "'+te+'" failed to load.')}finally{Ws()}}var ia="__use_https";function zs(s){document.cookie=ia+"="+s+";domain=8bitworkshop.com;path=/;max-age=315360000"}function hc(){var s=yi(ia);if(typeof s=="string")return!!s;var t=fr&&!localStorage.getItem("__lastplatform")?1:0;return zs(t),!!t}function mc(){bootbox.confirm('<p>Do you want to force the browser to use HTTPS from now on?</p><p>WARNING: This will make all of your local files unavailable, so you should "Download All Changes" first for each platform where you have done work.</p><p>You can go back to HTTP by setting the "'+ia+'" cookie to 0.</p>',s=>{s&&(zs(1),qs())})}function qs(){window.location.protocol=="http:"&&window.location.host=="8bitworkshop.com"&&(hc()?(Us(),window.location.replace(window.location.href.replace(/^http:/,"https:"))):$("#item_switch_https").click(mc).show())}qs();function Dd(s,t){k.writeFile(s,t)}function Ld(s){return k.readFile(s)}function Id(){return k.saveState()}function gc(s){var t=s&&s.message||t;ks(s,t),ye.refresh(!1),k.saveState&&mn(k.saveState())}async function vc(s){var t=me.filedata[s];t!=null&&(ye.updateFile(s,await alternateLocalFilesystem.getFileData(s)),console.log("updating file",s))}function yc(){if(fn&&Ei instanceof Uint8Array){var s=ut(Ge()),t=k.getROMExtension&&k.getROMExtension(Ei)||"-"+Dt(te)+".bin";alternateLocalFilesystem.setFileData(`bin/${s}${t}`,Ei)}}function bc(s){var t=ye.getActive();if(t instanceof Zi){var i=t.editor.getSearchCursor(s);i.findNext()&&t.editor.setSelection(i.pos.to,i.pos.from)}}function wc(){let s=!1;new IntersectionObserver((i,l)=>{for(var f of i)f.isIntersecting&&!s&&(Gs(),s=!0),f.intersectionRatio==0&&Zo()&&k.isRunning()&&Qr(),f.intersectionRatio>0&&Zo()&&!k.isRunning()&&Nr()},{}).observe($("#emulator")[0])}typeof process=="undefined"&&(Nt&&typeof IntersectionObserver=="function"?wc():Gs());function _c(){window.autoCompileEnabled=Ut,window.IDE={platform:k,platform_id:te,current_project:me,projectWindows:ye,qs:re,store_id:Qt,repo_id:Ve,lastDebugState:Or,autoCompileEnabled:Ut,getCurrentProject:Lt,getCurrentMainFilename:Ge,getCurrentEditorFilename:Oo,getCurrentOutput:Qe,getPlatformStore:Mr,haltEmulation:$s,gotoNewLocation:xr,setFrameRateUI:gn,setupBreakpoint:_r,runToPC:en,clearBreakpoint:ji,reloadWorkspaceFile:vc,highlightSearch:bc,_downloadROMImage:Io,loadROM:s=>{let t=s||Qe();if(!t){console.error("\u274C No compiled output available. Please compile your project first.");return}if(!(t instanceof Uint8Array)){console.error("\u274C Output is not binary data:",typeof t);return}console.log("\u2705 Loading ROM with",t.length,"bytes"),k.loadROM(Ge(),t)},getApple2API:()=>{if(!k)return console.error("\u274C No platform loaded"),null;if(te!=="apple2e")return console.error("\u274C Not on Apple IIe platform. Current platform:",te),null;if(typeof k.getApple2API!="function")return console.error("\u274C Platform does not have getApple2API method"),null;let s=k.getApple2API();if(!s)return console.error("\u274C getApple2API returned null. Emulator may not be ready yet."),console.log("\u{1F4A1} Try waiting a moment and check if the emulator is loaded."),null;console.log("\u2705 Apple2 API available!"),console.log(`\u{1F4A1} Try: api.type('PRINT "HELLO"\\r') or api.reset()`),console.log("\u{1F4A1} Or: const apple2 = api.apple2; apple2.reset();"),console.log("\u{1F4A1} Load disk:"),console.log("   // Option 1: Use stored disk (after loading a program)"),console.log("   const diskUrl = await api.createDiskBlobUrl();"),console.log("   api.Apple2.doLoadHTTP(1, diskUrl);"),console.log("   // Option 2: Provide disk data"),console.log("   const diskData = await api.getCurrentDiskData();"),console.log("   const diskUrl = await api.createDiskBlobUrl(diskData);"),console.log("   api.Apple2.doLoadHTTP(1, diskUrl);"),console.log("   // Note: Returns server URL with .dsk extension for doLoadHTTP");try{let t=s.apple2;t?(console.log("\u2705 apple2 instance accessible"),console.log("   Running?",t.isRunning()),console.log("   Ready?",t.ready)):console.warn("\u26A0\uFE0F apple2 instance is null")}catch(t){console.error("\u274C Error accessing apple2:",t)}return s},breakApple2:()=>{let s=window.IDE.getApple2API();if(!s){console.error("\u274C API not available");return}typeof s.break=="function"?(s.break(),console.log("\u2705 Sent BRK (Ctrl+C) to interrupt program")):console.error("\u274C break() method not available")},testApple2API:()=>{let s=window.IDE.getApple2API();if(!s){console.error("\u274C API not available");return}console.log("\u{1F9EA} Testing Apple2 API...");let t=s.apple2;if(!t){console.error("\u274C apple2 instance not available");return}console.log("\u2705 apple2 instance found");let i=t.isRunning();console.log("   Running?",i),i||(console.log("   Starting emulator..."),t.run(),setTimeout(()=>{console.log("   Running now?",t.isRunning())},200));let l=s.getIO();if(!l){console.error("\u274C IO not available");return}console.log("\u2705 IO available"),console.log("   setKeyBuffer?",typeof l.setKeyBuffer=="function"),console.log("\u{1F9EA} Testing type() method...");let f=s.type('PRINT "TEST"\r');return console.log("   Result:",f),{api:s,apple2:t,io:l,isRunning:i}},debugCompilation:()=>{console.log("=== DEBUGGING COMPILATION OUTPUT ===");let s=Qe();if(s?(console.log("\u2705 Current output found:",s),console.log("Current output length:",s.length),s.length>0&&(console.log("First 32 bytes (hex):",Array.from(s.slice(0,32)).map(t=>t.toString(16).padStart(2,"0")).join(" ")),console.log("First 32 bytes (decimal):",Array.from(s.slice(0,32)).join(" ")))):console.log("\u274C No current output found"),typeof $n!="undefined"?console.log("\u2705 Compilation parameters found:",$n):console.log("\u274C No compilation parameters found"),k?(console.log("\u2705 Platform found:",k.getName?k.getName():"Unknown"),k.debugSymbols&&console.log("\u2705 Debug symbols found:",k.debugSymbols)):console.log("\u274C No platform found"),window.worker){if(console.log("\u2705 Worker found"),window.worker.store){console.log("\u2705 Store found");let t=Object.keys(window.worker.store.workfs||{});console.log("Files in virtual file system:",t);for(let i of t){let l=window.worker.store.workfs[i];if(console.log(`File: ${i} (${l.data.length} bytes)`),l.data.length>0){let f=Array.from(l.data.slice(0,16));console.log(`  First 16 bytes: ${f.map(g=>g.toString(16).padStart(2,"0")).join(" ")}`)}}}}else console.log("\u274C No worker found")}},console.log("IDE variables exposed globally. Access via window.IDE"),console.log("Use window.IDE.loadROM() to load the current compiled output"),console.log("Use window.IDE.debugCompilation() to debug compilation output"),te==="apple2e"&&(console.log("Use window.IDE.getApple2API() to access Apple2 emulator API"),console.log(`Example: const api = window.IDE.getApple2API(); api.type('PRINT "HELLO"\\r');`),console.log("Access Apple2 object: const api = window.IDE.getApple2API(); api.Apple2.doLoadHTTP(1, url);"),console.log("Break program: window.IDE.breakApple2() or api.break()"),console.log("Load binary via URL: const api = window.IDE.getApple2API(); api.defaultLoadHttp(blobUrl);"))}setTimeout(_c,1e3);export{ka as a,re as b,te as c,Qt as d,Ve as e,k as f,me as g,ye as h,Or as i,Mr as j,Lt as k,Qe as l,Co as m,Jr as n,Ge as o,Oo as p,_r as q,en as r,ji as s,gn as t,$s as u,xr as v,Hs as w,Bs as x,Gs as y,Dd as z,Ld as A,Id as B,gc as C,vc as D,bc as E};
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */
//# sourceMappingURL=chunk-PRATNX6J.js.map
