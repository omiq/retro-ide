import{a as oa,b as Ln,c as Vs}from"./chunk-T4FRG4BA.js";import{a as aa,b as sa,c as qs}from"./chunk-AW7BSDLQ.js";import{t as na,u as ia}from"./chunk-CO72NYTV.js";import{$ as ra,B as Vt,C as ro,D as Rn,E as Bn,F as ta,H as no,R as io,b as vi,d as It,e as to,f as _t,g as gr,k as Jo,m as bi,n as yi,o as wi,p as pn,q as ea,v as Ei,w as Ft,x as mn}from"./chunk-KXQZZRQB.js";import{c as jn,d as Ji,e as eo}from"./chunk-WAARL7ET.js";var ao=Ji((la,oo)=>{(function(s){if(typeof la=="object"&&typeof oo!="undefined")oo.exports=s();else if(typeof define=="function"&&define.amd)define([],s);else{var r;typeof window!="undefined"?r=window:typeof global!="undefined"?r=global:typeof self!="undefined"?r=self:r=this,r.localforage=s()}})(function(){var s,r,o;return function f(h,E,C){function P(ae,Ie){if(!E[ae]){if(!h[ae]){var G=typeof jn=="function"&&jn;if(!Ie&&G)return G(ae,!0);if(L)return L(ae,!0);var W=new Error("Cannot find module '"+ae+"'");throw W.code="MODULE_NOT_FOUND",W}var Y=E[ae]={exports:{}};h[ae][0].call(Y.exports,function(_e){var re=h[ae][1][_e];return P(re||_e)},Y,Y.exports,f,h,E,C)}return E[ae].exports}for(var L=typeof jn=="function"&&jn,q=0;q<C.length;q++)P(C[q]);return P}({1:[function(f,h,E){(function(C){"use strict";var P=C.MutationObserver||C.WebKitMutationObserver,L;if(P){var q=0,ae=new P(_e),Ie=C.document.createTextNode("");ae.observe(Ie,{characterData:!0}),L=function(){Ie.data=q=++q%2}}else if(!C.setImmediate&&typeof C.MessageChannel!="undefined"){var G=new C.MessageChannel;G.port1.onmessage=_e,L=function(){G.port2.postMessage(0)}}else"document"in C&&"onreadystatechange"in C.document.createElement("script")?L=function(){var We=C.document.createElement("script");We.onreadystatechange=function(){_e(),We.onreadystatechange=null,We.parentNode.removeChild(We),We=null},C.document.documentElement.appendChild(We)}:L=function(){setTimeout(_e,0)};var W,Y=[];function _e(){W=!0;for(var We,at,ke=Y.length;ke;){for(at=Y,Y=[],We=-1;++We<ke;)at[We]();ke=Y.length}W=!1}h.exports=re;function re(We){Y.push(We)===1&&!W&&L()}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(f,h,E){"use strict";var C=f(1);function P(){}var L={},q=["REJECTED"],ae=["FULFILLED"],Ie=["PENDING"];h.exports=G;function G(i){if(typeof i!="function")throw new TypeError("resolver must be a function");this.state=Ie,this.queue=[],this.outcome=void 0,i!==P&&re(this,i)}G.prototype.catch=function(i){return this.then(null,i)},G.prototype.then=function(i,pe){if(typeof i!="function"&&this.state===ae||typeof pe!="function"&&this.state===q)return this;var J=new this.constructor(P);if(this.state!==Ie){var Re=this.state===ae?i:pe;Y(J,Re,this.outcome)}else this.queue.push(new W(J,i,pe));return J};function W(i,pe,J){this.promise=i,typeof pe=="function"&&(this.onFulfilled=pe,this.callFulfilled=this.otherCallFulfilled),typeof J=="function"&&(this.onRejected=J,this.callRejected=this.otherCallRejected)}W.prototype.callFulfilled=function(i){L.resolve(this.promise,i)},W.prototype.otherCallFulfilled=function(i){Y(this.promise,this.onFulfilled,i)},W.prototype.callRejected=function(i){L.reject(this.promise,i)},W.prototype.otherCallRejected=function(i){Y(this.promise,this.onRejected,i)};function Y(i,pe,J){C(function(){var Re;try{Re=pe(J)}catch(Ke){return L.reject(i,Ke)}Re===i?L.reject(i,new TypeError("Cannot resolve promise with itself")):L.resolve(i,Re)})}L.resolve=function(i,pe){var J=We(_e,pe);if(J.status==="error")return L.reject(i,J.value);var Re=J.value;if(Re)re(i,Re);else{i.state=ae,i.outcome=pe;for(var Ke=-1,Le=i.queue.length;++Ke<Le;)i.queue[Ke].callFulfilled(pe)}return i},L.reject=function(i,pe){i.state=q,i.outcome=pe;for(var J=-1,Re=i.queue.length;++J<Re;)i.queue[J].callRejected(pe);return i};function _e(i){var pe=i&&i.then;if(i&&(typeof i=="object"||typeof i=="function")&&typeof pe=="function")return function(){pe.apply(i,arguments)}}function re(i,pe){var J=!1;function Re(Ye){J||(J=!0,L.reject(i,Ye))}function Ke(Ye){J||(J=!0,L.resolve(i,Ye))}function Le(){pe(Ke,Re)}var fe=We(Le);fe.status==="error"&&Re(fe.value)}function We(i,pe){var J={};try{J.value=i(pe),J.status="success"}catch(Re){J.status="error",J.value=Re}return J}G.resolve=at;function at(i){return i instanceof this?i:L.resolve(new this(P),i)}G.reject=ke;function ke(i){var pe=new this(P);return L.reject(pe,i)}G.all=De;function De(i){var pe=this;if(Object.prototype.toString.call(i)!=="[object Array]")return this.reject(new TypeError("must be an array"));var J=i.length,Re=!1;if(!J)return this.resolve([]);for(var Ke=new Array(J),Le=0,fe=-1,Ye=new this(P);++fe<J;)Tt(i[fe],fe);return Ye;function Tt(wr,pt){pe.resolve(wr).then(Er,function(mt){Re||(Re=!0,L.reject(Ye,mt))});function Er(mt){Ke[pt]=mt,++Le===J&&!Re&&(Re=!0,L.resolve(Ye,Ke))}}}G.race=rt;function rt(i){var pe=this;if(Object.prototype.toString.call(i)!=="[object Array]")return this.reject(new TypeError("must be an array"));var J=i.length,Re=!1;if(!J)return this.resolve([]);for(var Ke=-1,Le=new this(P);++Ke<J;)fe(i[Ke]);return Le;function fe(Ye){pe.resolve(Ye).then(function(Tt){Re||(Re=!0,L.resolve(Le,Tt))},function(Tt){Re||(Re=!0,L.reject(Le,Tt))})}}},{"1":1}],3:[function(f,h,E){(function(C){"use strict";typeof C.Promise!="function"&&(C.Promise=f(2))}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(f,h,E){"use strict";var C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};function P(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}function L(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch(d){return}}var q=L();function ae(){try{if(!q||!q.open)return!1;var d=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),b=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!d||b)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch(p){return!1}}function Ie(d,b){d=d||[],b=b||{};try{return new Blob(d,b)}catch(x){if(x.name!=="TypeError")throw x;for(var p=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,_=new p,S=0;S<d.length;S+=1)_.append(d[S]);return _.getBlob(b.type)}}typeof Promise=="undefined"&&f(3);var G=Promise;function W(d,b){b&&d.then(function(p){b(null,p)},function(p){b(p)})}function Y(d,b,p){typeof b=="function"&&d.then(b),typeof p=="function"&&d.catch(p)}function _e(d){return typeof d!="string"&&(console.warn(d+" used as a key, but it is not a string."),d=String(d)),d}function re(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var We="local-forage-detect-blob-support",at=void 0,ke={},De=Object.prototype.toString,rt="readonly",i="readwrite";function pe(d){for(var b=d.length,p=new ArrayBuffer(b),_=new Uint8Array(p),S=0;S<b;S++)_[S]=d.charCodeAt(S);return p}function J(d){return new G(function(b){var p=d.transaction(We,i),_=Ie([""]);p.objectStore(We).put(_,"key"),p.onabort=function(S){S.preventDefault(),S.stopPropagation(),b(!1)},p.oncomplete=function(){var S=navigator.userAgent.match(/Chrome\/(\d+)/),x=navigator.userAgent.match(/Edge\//);b(x||!S||parseInt(S[1],10)>=43)}}).catch(function(){return!1})}function Re(d){return typeof at=="boolean"?G.resolve(at):J(d).then(function(b){return at=b,at})}function Ke(d){var b=ke[d.name],p={};p.promise=new G(function(_,S){p.resolve=_,p.reject=S}),b.deferredOperations.push(p),b.dbReady?b.dbReady=b.dbReady.then(function(){return p.promise}):b.dbReady=p.promise}function Le(d){var b=ke[d.name],p=b.deferredOperations.pop();if(p)return p.resolve(),p.promise}function fe(d,b){var p=ke[d.name],_=p.deferredOperations.pop();if(_)return _.reject(b),_.promise}function Ye(d,b){return new G(function(p,_){if(ke[d.name]=ke[d.name]||ze(),d.db)if(b)Ke(d),d.db.close();else return p(d.db);var S=[d.name];b&&S.push(d.version);var x=q.open.apply(q,S);b&&(x.onupgradeneeded=function(F){var N=x.result;try{N.createObjectStore(d.storeName),F.oldVersion<=1&&N.createObjectStore(We)}catch(B){if(B.name==="ConstraintError")console.warn('The database "'+d.name+'" has been upgraded from version '+F.oldVersion+" to version "+F.newVersion+', but the storage "'+d.storeName+'" already exists.');else throw B}}),x.onerror=function(F){F.preventDefault(),_(x.error)},x.onsuccess=function(){var F=x.result;F.onversionchange=function(N){N.target.close()},p(F),Le(d)}})}function Tt(d){return Ye(d,!1)}function wr(d){return Ye(d,!0)}function pt(d,b){if(!d.db)return!0;var p=!d.db.objectStoreNames.contains(d.storeName),_=d.version<d.db.version,S=d.version>d.db.version;if(_&&(d.version!==b&&console.warn('The database "'+d.name+`" can't be downgraded from version `+d.db.version+" to version "+d.version+"."),d.version=d.db.version),S||p){if(p){var x=d.db.version+1;x>d.version&&(d.version=x)}return!0}return!1}function Er(d){return new G(function(b,p){var _=new FileReader;_.onerror=p,_.onloadend=function(S){var x=btoa(S.target.result||"");b({__local_forage_encoded_blob:!0,data:x,type:d.type})},_.readAsBinaryString(d)})}function mt(d){var b=pe(atob(d.data));return Ie([b],{type:d.type})}function Qr(d){return d&&d.__local_forage_encoded_blob}function Kr(d){var b=this,p=b._initReady().then(function(){var _=ke[b._dbInfo.name];if(_&&_.dbReady)return _.dbReady});return Y(p,d,d),p}function $e(d){Ke(d);for(var b=ke[d.name],p=b.forages,_=0;_<p.length;_++){var S=p[_];S._dbInfo.db&&(S._dbInfo.db.close(),S._dbInfo.db=null)}return d.db=null,Tt(d).then(function(x){return d.db=x,pt(d)?wr(d):x}).then(function(x){d.db=b.db=x;for(var F=0;F<p.length;F++)p[F]._dbInfo.db=x}).catch(function(x){throw fe(d,x),x})}function gt(d,b,p,_){_===void 0&&(_=1);try{var S=d.db.transaction(d.storeName,b);p(null,S)}catch(x){if(_>0&&(!d.db||x.name==="InvalidStateError"||x.name==="NotFoundError"))return G.resolve().then(function(){if(!d.db||x.name==="NotFoundError"&&!d.db.objectStoreNames.contains(d.storeName)&&d.version<=d.db.version)return d.db&&(d.version=d.db.version+1),wr(d)}).then(function(){return $e(d).then(function(){gt(d,b,p,_-1)})}).catch(p);p(x)}}function ze(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function xn(d){var b=this,p={db:null};if(d)for(var _ in d)p[_]=d[_];var S=ke[p.name];S||(S=ze(),ke[p.name]=S),S.forages.push(b),b._initReady||(b._initReady=b.ready,b.ready=Kr);var x=[];function F(){return G.resolve()}for(var N=0;N<S.forages.length;N++){var B=S.forages[N];B!==b&&x.push(B._initReady().catch(F))}var z=S.forages.slice(0);return G.all(x).then(function(){return p.db=S.db,Tt(p)}).then(function(H){return p.db=H,pt(p,b._defaultConfig.version)?wr(p):H}).then(function(H){p.db=S.db=H,b._dbInfo=p;for(var te=0;te<z.length;te++){var de=z[te];de!==b&&(de._dbInfo.db=p.db,de._dbInfo.version=p.version)}})}function Ue(d,b){var p=this;d=_e(d);var _=new G(function(S,x){p.ready().then(function(){gt(p._dbInfo,rt,function(F,N){if(F)return x(F);try{var B=N.objectStore(p._dbInfo.storeName),z=B.get(d);z.onsuccess=function(){var H=z.result;H===void 0&&(H=null),Qr(H)&&(H=mt(H)),S(H)},z.onerror=function(){x(z.error)}}catch(H){x(H)}})}).catch(x)});return W(_,b),_}function xr(d,b){var p=this,_=new G(function(S,x){p.ready().then(function(){gt(p._dbInfo,rt,function(F,N){if(F)return x(F);try{var B=N.objectStore(p._dbInfo.storeName),z=B.openCursor(),H=1;z.onsuccess=function(){var te=z.result;if(te){var de=te.value;Qr(de)&&(de=mt(de));var Ae=d(de,te.key,H++);Ae!==void 0?S(Ae):te.continue()}else S()},z.onerror=function(){x(z.error)}}catch(te){x(te)}})}).catch(x)});return W(_,b),_}function Zr(d,b,p){var _=this;d=_e(d);var S=new G(function(x,F){var N;_.ready().then(function(){return N=_._dbInfo,De.call(b)==="[object Blob]"?Re(N.db).then(function(B){return B?b:Er(b)}):b}).then(function(B){gt(_._dbInfo,i,function(z,H){if(z)return F(z);try{var te=H.objectStore(_._dbInfo.storeName);B===null&&(B=void 0);var de=te.put(B,d);H.oncomplete=function(){B===void 0&&(B=null),x(B)},H.onabort=H.onerror=function(){var Ae=de.error?de.error:de.transaction.error;F(Ae)}}catch(Ae){F(Ae)}})}).catch(F)});return W(S,p),S}function Jr(d,b){var p=this;d=_e(d);var _=new G(function(S,x){p.ready().then(function(){gt(p._dbInfo,i,function(F,N){if(F)return x(F);try{var B=N.objectStore(p._dbInfo.storeName),z=B.delete(d);N.oncomplete=function(){S()},N.onerror=function(){x(z.error)},N.onabort=function(){var H=z.error?z.error:z.transaction.error;x(H)}}catch(H){x(H)}})}).catch(x)});return W(_,b),_}function vt(d){var b=this,p=new G(function(_,S){b.ready().then(function(){gt(b._dbInfo,i,function(x,F){if(x)return S(x);try{var N=F.objectStore(b._dbInfo.storeName),B=N.clear();F.oncomplete=function(){_()},F.onabort=F.onerror=function(){var z=B.error?B.error:B.transaction.error;S(z)}}catch(z){S(z)}})}).catch(S)});return W(p,d),p}function _n(d){var b=this,p=new G(function(_,S){b.ready().then(function(){gt(b._dbInfo,rt,function(x,F){if(x)return S(x);try{var N=F.objectStore(b._dbInfo.storeName),B=N.count();B.onsuccess=function(){_(B.result)},B.onerror=function(){S(B.error)}}catch(z){S(z)}})}).catch(S)});return W(p,d),p}function Xt(d,b){var p=this,_=new G(function(S,x){if(d<0){S(null);return}p.ready().then(function(){gt(p._dbInfo,rt,function(F,N){if(F)return x(F);try{var B=N.objectStore(p._dbInfo.storeName),z=!1,H=B.openKeyCursor();H.onsuccess=function(){var te=H.result;if(!te){S(null);return}d===0||z?S(te.key):(z=!0,te.advance(d))},H.onerror=function(){x(H.error)}}catch(te){x(te)}})}).catch(x)});return W(_,b),_}function Nt(d){var b=this,p=new G(function(_,S){b.ready().then(function(){gt(b._dbInfo,rt,function(x,F){if(x)return S(x);try{var N=F.objectStore(b._dbInfo.storeName),B=N.openKeyCursor(),z=[];B.onsuccess=function(){var H=B.result;if(!H){_(z);return}z.push(H.key),H.continue()},B.onerror=function(){S(B.error)}}catch(H){S(H)}})}).catch(S)});return W(p,d),p}function Mr(d,b){b=re.apply(this,arguments);var p=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||p.name,d.storeName=d.storeName||p.storeName);var _=this,S;if(!d.name)S=G.reject("Invalid arguments");else{var x=d.name===p.name&&_._dbInfo.db,F=x?G.resolve(_._dbInfo.db):Tt(d).then(function(N){var B=ke[d.name],z=B.forages;B.db=N;for(var H=0;H<z.length;H++)z[H]._dbInfo.db=N;return N});d.storeName?S=F.then(function(N){if(!!N.objectStoreNames.contains(d.storeName)){var B=N.version+1;Ke(d);var z=ke[d.name],H=z.forages;N.close();for(var te=0;te<H.length;te++){var de=H[te];de._dbInfo.db=null,de._dbInfo.version=B}var Ae=new G(function(Pe,Oe){var Fe=q.open(d.name,B);Fe.onerror=function(Et){var fn=Fe.result;fn.close(),Oe(Et)},Fe.onupgradeneeded=function(){var Et=Fe.result;Et.deleteObjectStore(d.storeName)},Fe.onsuccess=function(){var Et=Fe.result;Et.close(),Pe(Et)}});return Ae.then(function(Pe){z.db=Pe;for(var Oe=0;Oe<H.length;Oe++){var Fe=H[Oe];Fe._dbInfo.db=Pe,Le(Fe._dbInfo)}}).catch(function(Pe){throw(fe(d,Pe)||G.resolve()).catch(function(){}),Pe})}}):S=F.then(function(N){Ke(d);var B=ke[d.name],z=B.forages;N.close();for(var H=0;H<z.length;H++){var te=z[H];te._dbInfo.db=null}var de=new G(function(Ae,Pe){var Oe=q.deleteDatabase(d.name);Oe.onerror=function(){var Fe=Oe.result;Fe&&Fe.close(),Pe(Oe.error)},Oe.onblocked=function(){console.warn('dropInstance blocked for database "'+d.name+'" until all open connections are closed')},Oe.onsuccess=function(){var Fe=Oe.result;Fe&&Fe.close(),Ae(Fe)}});return de.then(function(Ae){B.db=Ae;for(var Pe=0;Pe<z.length;Pe++){var Oe=z[Pe];Le(Oe._dbInfo)}}).catch(function(Ae){throw(fe(d,Ae)||G.resolve()).catch(function(){}),Ae})})}return W(S,b),S}var Qt={_driver:"asyncStorage",_initStorage:xn,_support:ae(),iterate:xr,getItem:Ue,setItem:Zr,removeItem:Jr,clear:vt,length:_n,key:Xt,keys:Nt,dropInstance:Mr};function _r(){return typeof openDatabase=="function"}var lt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",st="~~local_forage_type~",Tr=/^~~local_forage_type~([^~]+)~/,Kt="__lfsc__:",Or=Kt.length,ut="arbf",Zt="blob",jt="si08",Z="ui08",Be="uic8",Jt="si16",en="si32",tn="ur16",Nr="ui32",Sr="fl32",er="fl64",ft=Or+ut.length,St=Object.prototype.toString;function nt(d){var b=d.length*.75,p=d.length,_,S=0,x,F,N,B;d[d.length-1]==="="&&(b--,d[d.length-2]==="="&&b--);var z=new ArrayBuffer(b),H=new Uint8Array(z);for(_=0;_<p;_+=4)x=lt.indexOf(d[_]),F=lt.indexOf(d[_+1]),N=lt.indexOf(d[_+2]),B=lt.indexOf(d[_+3]),H[S++]=x<<2|F>>4,H[S++]=(F&15)<<4|N>>2,H[S++]=(N&3)<<6|B&63;return z}function Bt(d){var b=new Uint8Array(d),p="",_;for(_=0;_<b.length;_+=3)p+=lt[b[_]>>2],p+=lt[(b[_]&3)<<4|b[_+1]>>4],p+=lt[(b[_+1]&15)<<2|b[_+2]>>6],p+=lt[b[_+2]&63];return b.length%3==2?p=p.substring(0,p.length-1)+"=":b.length%3==1&&(p=p.substring(0,p.length-2)+"=="),p}function ur(d,b){var p="";if(d&&(p=St.call(d)),d&&(p==="[object ArrayBuffer]"||d.buffer&&St.call(d.buffer)==="[object ArrayBuffer]")){var _,S=Kt;d instanceof ArrayBuffer?(_=d,S+=ut):(_=d.buffer,p==="[object Int8Array]"?S+=jt:p==="[object Uint8Array]"?S+=Z:p==="[object Uint8ClampedArray]"?S+=Be:p==="[object Int16Array]"?S+=Jt:p==="[object Uint16Array]"?S+=tn:p==="[object Int32Array]"?S+=en:p==="[object Uint32Array]"?S+=Nr:p==="[object Float32Array]"?S+=Sr:p==="[object Float64Array]"?S+=er:b(new Error("Failed to get type for BinaryArray"))),b(S+Bt(_))}else if(p==="[object Blob]"){var x=new FileReader;x.onload=function(){var F=st+d.type+"~"+Bt(this.result);b(Kt+Zt+F)},x.readAsArrayBuffer(d)}else try{b(JSON.stringify(d))}catch(F){console.error("Couldn't convert value into a JSON string: ",d),b(null,F)}}function Wr(d){if(d.substring(0,Or)!==Kt)return JSON.parse(d);var b=d.substring(ft),p=d.substring(Or,ft),_;if(p===Zt&&Tr.test(b)){var S=b.match(Tr);_=S[1],b=b.substring(S[0].length)}var x=nt(b);switch(p){case ut:return x;case Zt:return Ie([x],{type:_});case jt:return new Int8Array(x);case Z:return new Uint8Array(x);case Be:return new Uint8ClampedArray(x);case Jt:return new Int16Array(x);case tn:return new Uint16Array(x);case en:return new Int32Array(x);case Nr:return new Uint32Array(x);case Sr:return new Float32Array(x);case er:return new Float64Array(x);default:throw new Error("Unkown type: "+p)}}var Hr={serialize:ur,deserialize:Wr,stringToBuffer:nt,bufferToString:Bt};function Cr(d,b,p,_){d.executeSql("CREATE TABLE IF NOT EXISTS "+b.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],p,_)}function Wt(d){var b=this,p={db:null};if(d)for(var _ in d)p[_]=typeof d[_]!="string"?d[_].toString():d[_];var S=new G(function(x,F){try{p.db=openDatabase(p.name,String(p.version),p.description,p.size)}catch(N){return F(N)}p.db.transaction(function(N){Cr(N,p,function(){b._dbInfo=p,x()},function(B,z){F(z)})},F)});return p.serializer=Hr,S}function bt(d,b,p,_,S,x){d.executeSql(p,_,S,function(F,N){N.code===N.SYNTAX_ERR?F.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[b.storeName],function(B,z){z.rows.length?x(B,N):Cr(B,b,function(){B.executeSql(p,_,S,x)},x)},x):x(F,N)},x)}function fr(d,b){var p=this;d=_e(d);var _=new G(function(S,x){p.ready().then(function(){var F=p._dbInfo;F.db.transaction(function(N){bt(N,F,"SELECT * FROM "+F.storeName+" WHERE key = ? LIMIT 1",[d],function(B,z){var H=z.rows.length?z.rows.item(0).value:null;H&&(H=F.serializer.deserialize(H)),S(H)},function(B,z){x(z)})})}).catch(x)});return W(_,b),_}function Tn(d,b){var p=this,_=new G(function(S,x){p.ready().then(function(){var F=p._dbInfo;F.db.transaction(function(N){bt(N,F,"SELECT * FROM "+F.storeName,[],function(B,z){for(var H=z.rows,te=H.length,de=0;de<te;de++){var Ae=H.item(de),Pe=Ae.value;if(Pe&&(Pe=F.serializer.deserialize(Pe)),Pe=d(Pe,Ae.key,de+1),Pe!==void 0){S(Pe);return}}S()},function(B,z){x(z)})})}).catch(x)});return W(_,b),_}function ct(d,b,p,_){var S=this;d=_e(d);var x=new G(function(F,N){S.ready().then(function(){b===void 0&&(b=null);var B=b,z=S._dbInfo;z.serializer.serialize(b,function(H,te){te?N(te):z.db.transaction(function(de){bt(de,z,"INSERT OR REPLACE INTO "+z.storeName+" (key, value) VALUES (?, ?)",[d,H],function(){F(B)},function(Ae,Pe){N(Pe)})},function(de){if(de.code===de.QUOTA_ERR){if(_>0){F(ct.apply(S,[d,B,p,_-1]));return}N(de)}})})}).catch(N)});return W(x,p),x}function xe(d,b,p){return ct.apply(this,[d,b,p,1])}function $t(d,b){var p=this;d=_e(d);var _=new G(function(S,x){p.ready().then(function(){var F=p._dbInfo;F.db.transaction(function(N){bt(N,F,"DELETE FROM "+F.storeName+" WHERE key = ?",[d],function(){S()},function(B,z){x(z)})})}).catch(x)});return W(_,b),_}function Mn(d){var b=this,p=new G(function(_,S){b.ready().then(function(){var x=b._dbInfo;x.db.transaction(function(F){bt(F,x,"DELETE FROM "+x.storeName,[],function(){_()},function(N,B){S(B)})})}).catch(S)});return W(p,d),p}function rn(d){var b=this,p=new G(function(_,S){b.ready().then(function(){var x=b._dbInfo;x.db.transaction(function(F){bt(F,x,"SELECT COUNT(key) as c FROM "+x.storeName,[],function(N,B){var z=B.rows.item(0).c;_(z)},function(N,B){S(B)})})}).catch(S)});return W(p,d),p}function Ur(d,b){var p=this,_=new G(function(S,x){p.ready().then(function(){var F=p._dbInfo;F.db.transaction(function(N){bt(N,F,"SELECT key FROM "+F.storeName+" WHERE id = ? LIMIT 1",[d+1],function(B,z){var H=z.rows.length?z.rows.item(0).key:null;S(H)},function(B,z){x(z)})})}).catch(x)});return W(_,b),_}function tr(d){var b=this,p=new G(function(_,S){b.ready().then(function(){var x=b._dbInfo;x.db.transaction(function(F){bt(F,x,"SELECT key FROM "+x.storeName,[],function(N,B){for(var z=[],H=0;H<B.rows.length;H++)z.push(B.rows.item(H).key);_(z)},function(N,B){S(B)})})}).catch(S)});return W(p,d),p}function rr(d){return new G(function(b,p){d.transaction(function(_){_.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(S,x){for(var F=[],N=0;N<x.rows.length;N++)F.push(x.rows.item(N).name);b({db:d,storeNames:F})},function(S,x){p(x)})},function(_){p(_)})})}function nn(d,b){b=re.apply(this,arguments);var p=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||p.name,d.storeName=d.storeName||p.storeName);var _=this,S;return d.name?S=new G(function(x){var F;d.name===p.name?F=_._dbInfo.db:F=openDatabase(d.name,"","",0),d.storeName?x({db:F,storeNames:[d.storeName]}):x(rr(F))}).then(function(x){return new G(function(F,N){x.db.transaction(function(B){function z(Ae){return new G(function(Pe,Oe){B.executeSql("DROP TABLE IF EXISTS "+Ae,[],function(){Pe()},function(Fe,Et){Oe(Et)})})}for(var H=[],te=0,de=x.storeNames.length;te<de;te++)H.push(z(x.storeNames[te]));G.all(H).then(function(){F()}).catch(function(Ae){N(Ae)})},function(B){N(B)})})}):S=G.reject("Invalid arguments"),W(S,b),S}var dt={_driver:"webSQLStorage",_initStorage:Wt,_support:_r(),iterate:Tn,getItem:fr,setItem:xe,removeItem:$t,clear:Mn,length:rn,key:Ur,keys:tr,dropInstance:nn};function jr(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(d){return!1}}function on(d,b){var p=d.name+"/";return d.storeName!==b.storeName&&(p+=d.storeName+"/"),p}function Sn(){var d="_localforage_support_test";try{return localStorage.setItem(d,!0),localStorage.removeItem(d),!1}catch(b){return!0}}function Br(){return!Sn()||localStorage.length>0}function Cn(d){var b=this,p={};if(d)for(var _ in d)p[_]=d[_];return p.keyPrefix=on(d,b._defaultConfig),Br()?(b._dbInfo=p,p.serializer=Hr,G.resolve()):G.reject()}function Ht(d){var b=this,p=b.ready().then(function(){for(var _=b._dbInfo.keyPrefix,S=localStorage.length-1;S>=0;S--){var x=localStorage.key(S);x.indexOf(_)===0&&localStorage.removeItem(x)}});return W(p,d),p}function an(d,b){var p=this;d=_e(d);var _=p.ready().then(function(){var S=p._dbInfo,x=localStorage.getItem(S.keyPrefix+d);return x&&(x=S.serializer.deserialize(x)),x});return W(_,b),_}function An(d,b){var p=this,_=p.ready().then(function(){for(var S=p._dbInfo,x=S.keyPrefix,F=x.length,N=localStorage.length,B=1,z=0;z<N;z++){var H=localStorage.key(z);if(H.indexOf(x)===0){var te=localStorage.getItem(H);if(te&&(te=S.serializer.deserialize(te)),te=d(te,H.substring(F),B++),te!==void 0)return te}}});return W(_,b),_}function nr(d,b){var p=this,_=p.ready().then(function(){var S=p._dbInfo,x;try{x=localStorage.key(d)}catch(F){x=null}return x&&(x=x.substring(S.keyPrefix.length)),x});return W(_,b),_}function sn(d){var b=this,p=b.ready().then(function(){for(var _=b._dbInfo,S=localStorage.length,x=[],F=0;F<S;F++){var N=localStorage.key(F);N.indexOf(_.keyPrefix)===0&&x.push(N.substring(_.keyPrefix.length))}return x});return W(p,d),p}function ln(d){var b=this,p=b.keys().then(function(_){return _.length});return W(p,d),p}function ne(d,b){var p=this;d=_e(d);var _=p.ready().then(function(){var S=p._dbInfo;localStorage.removeItem(S.keyPrefix+d)});return W(_,b),_}function w(d,b,p){var _=this;d=_e(d);var S=_.ready().then(function(){b===void 0&&(b=null);var x=b;return new G(function(F,N){var B=_._dbInfo;B.serializer.serialize(b,function(z,H){if(H)N(H);else try{localStorage.setItem(B.keyPrefix+d,z),F(x)}catch(te){(te.name==="QuotaExceededError"||te.name==="NS_ERROR_DOM_QUOTA_REACHED")&&N(te),N(te)}})})});return W(S,p),S}function j(d,b){if(b=re.apply(this,arguments),d=typeof d!="function"&&d||{},!d.name){var p=this.config();d.name=d.name||p.name,d.storeName=d.storeName||p.storeName}var _=this,S;return d.name?S=new G(function(x){d.storeName?x(on(d,_._defaultConfig)):x(d.name+"/")}).then(function(x){for(var F=localStorage.length-1;F>=0;F--){var N=localStorage.key(F);N.indexOf(x)===0&&localStorage.removeItem(N)}}):S=G.reject("Invalid arguments"),W(S,b),S}var ee={_driver:"localStorageWrapper",_initStorage:Cn,_support:jr(),iterate:An,getItem:an,setItem:w,removeItem:ne,clear:Ht,length:ln,key:nr,keys:sn,dropInstance:j},Ce=function(b,p){return b===p||typeof b=="number"&&typeof p=="number"&&isNaN(b)&&isNaN(p)},Ze=function(b,p){for(var _=b.length,S=0;S<_;){if(Ce(b[S],p))return!0;S++}return!1},Ge=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"},Ve={},yt={},Lt={INDEXEDDB:Qt,WEBSQL:dt,LOCALSTORAGE:ee},Je=[Lt.INDEXEDDB._driver,Lt.WEBSQL._driver,Lt.LOCALSTORAGE._driver],Ar=["dropInstance"],$r=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ar),li={description:"",driver:Je.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ui(d,b){d[b]=function(){var p=arguments;return d.ready().then(function(){return d[b].apply(d,p)})}}function un(){for(var d=1;d<arguments.length;d++){var b=arguments[d];if(b)for(var p in b)b.hasOwnProperty(p)&&(Ge(b[p])?arguments[0][p]=b[p].slice():arguments[0][p]=b[p])}return arguments[0]}var fi=function(){function d(b){P(this,d);for(var p in Lt)if(Lt.hasOwnProperty(p)){var _=Lt[p],S=_._driver;this[p]=S,Ve[S]||this.defineDriver(_)}this._defaultConfig=un({},li),this._config=un({},this._defaultConfig,b),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return d.prototype.config=function(p){if((typeof p=="undefined"?"undefined":C(p))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var _ in p){if(_==="storeName"&&(p[_]=p[_].replace(/\W/g,"_")),_==="version"&&typeof p[_]!="number")return new Error("Database version must be a number.");this._config[_]=p[_]}return"driver"in p&&p.driver?this.setDriver(this._config.driver):!0}else return typeof p=="string"?this._config[p]:this._config},d.prototype.defineDriver=function(p,_,S){var x=new G(function(F,N){try{var B=p._driver,z=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!p._driver){N(z);return}for(var H=$r.concat("_initStorage"),te=0,de=H.length;te<de;te++){var Ae=H[te],Pe=!Ze(Ar,Ae);if((Pe||p[Ae])&&typeof p[Ae]!="function"){N(z);return}}var Oe=function(){for(var fn=function(di){return function(){var Ui=new Error("Method "+di+" is not implemented by the current driver"),On=G.reject(Ui);return W(On,arguments[arguments.length-1]),On}},kr=0,ci=Ar.length;kr<ci;kr++){var cn=Ar[kr];p[cn]||(p[cn]=fn(cn))}};Oe();var Fe=function(fn){Ve[B]&&console.info("Redefining LocalForage driver: "+B),Ve[B]=p,yt[B]=fn,F()};"_support"in p?p._support&&typeof p._support=="function"?p._support().then(Fe,N):Fe(!!p._support):Fe(!0)}catch(Et){N(Et)}});return Y(x,_,S),x},d.prototype.driver=function(){return this._driver||null},d.prototype.getDriver=function(p,_,S){var x=Ve[p]?G.resolve(Ve[p]):G.reject(new Error("Driver not found."));return Y(x,_,S),x},d.prototype.getSerializer=function(p){var _=G.resolve(Hr);return Y(_,p),_},d.prototype.ready=function(p){var _=this,S=_._driverSet.then(function(){return _._ready===null&&(_._ready=_._initDriver()),_._ready});return Y(S,p,p),S},d.prototype.setDriver=function(p,_,S){var x=this;Ge(p)||(p=[p]);var F=this._getSupportedDrivers(p);function N(){x._config.driver=x.driver()}function B(te){return x._extend(te),N(),x._ready=x._initStorage(x._config),x._ready}function z(te){return function(){var de=0;function Ae(){for(;de<te.length;){var Pe=te[de];return de++,x._dbInfo=null,x._ready=null,x.getDriver(Pe).then(B).catch(Ae)}N();var Oe=new Error("No available storage method found.");return x._driverSet=G.reject(Oe),x._driverSet}return Ae()}}var H=this._driverSet!==null?this._driverSet.catch(function(){return G.resolve()}):G.resolve();return this._driverSet=H.then(function(){var te=F[0];return x._dbInfo=null,x._ready=null,x.getDriver(te).then(function(de){x._driver=de._driver,N(),x._wrapLibraryMethodsWithReady(),x._initDriver=z(F)})}).catch(function(){N();var te=new Error("No available storage method found.");return x._driverSet=G.reject(te),x._driverSet}),Y(this._driverSet,_,S),this._driverSet},d.prototype.supports=function(p){return!!yt[p]},d.prototype._extend=function(p){un(this,p)},d.prototype._getSupportedDrivers=function(p){for(var _=[],S=0,x=p.length;S<x;S++){var F=p[S];this.supports(F)&&_.push(F)}return _},d.prototype._wrapLibraryMethodsWithReady=function(){for(var p=0,_=$r.length;p<_;p++)ui(this,$r[p])},d.prototype.createInstance=function(p){return new d(p)},d}(),wt=new fi;h.exports=wt},{"3":3}]},{},[4])(4)})});var ha=Ji((da,Ti)=>{(function(s,r){"use strict";typeof Ti=="object"&&typeof Ti.exports=="object"?Ti.exports=s.document?r(s,!0):function(o){if(!o.document)throw new Error("jQuery requires a window with a document");return r(o)}:r(s)})(typeof window!="undefined"?window:da,function(s,r){"use strict";var o=[],f=Object.getPrototypeOf,h=o.slice,E=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},C=o.push,P=o.indexOf,L={},q=L.toString,ae=L.hasOwnProperty,Ie=ae.toString,G=Ie.call(Object),W={},Y=function(t){return typeof t=="function"&&typeof t.nodeType!="number"&&typeof t.item!="function"},_e=function(t){return t!=null&&t===t.window},re=s.document,We={type:!0,src:!0,nonce:!0,noModule:!0};function at(e,t,n){n=n||re;var a,l,u=n.createElement("script");if(u.text=e,t)for(a in We)l=t[a]||t.getAttribute&&t.getAttribute(a),l&&u.setAttribute(a,l);n.head.appendChild(u).parentNode.removeChild(u)}function ke(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?L[q.call(e)]||"object":typeof e}var De="3.7.1",rt=/HTML$/i,i=function(e,t){return new i.fn.init(e,t)};i.fn=i.prototype={jquery:De,constructor:i,length:0,toArray:function(){return h.call(this)},get:function(e){return e==null?h.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=i.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return i.each(this,e)},map:function(e){return this.pushStack(i.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(i.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(i.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:C,sort:o.sort,splice:o.splice},i.extend=i.fn.extend=function(){var e,t,n,a,l,u,c=arguments[0]||{},v=1,g=arguments.length,T=!1;for(typeof c=="boolean"&&(T=c,c=arguments[v]||{},v++),typeof c!="object"&&!Y(c)&&(c={}),v===g&&(c=this,v--);v<g;v++)if((e=arguments[v])!=null)for(t in e)a=e[t],!(t==="__proto__"||c===a)&&(T&&a&&(i.isPlainObject(a)||(l=Array.isArray(a)))?(n=c[t],l&&!Array.isArray(n)?u=[]:!l&&!i.isPlainObject(n)?u={}:u=n,l=!1,c[t]=i.extend(T,u,a)):a!==void 0&&(c[t]=a));return c},i.extend({expando:"jQuery"+(De+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!e||q.call(e)!=="[object Object]"?!1:(t=f(e),t?(n=ae.call(t,"constructor")&&t.constructor,typeof n=="function"&&Ie.call(n)===G):!0)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){at(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,a=0;if(pe(e))for(n=e.length;a<n&&t.call(e[a],a,e[a])!==!1;a++);else for(a in e)if(t.call(e[a],a,e[a])===!1)break;return e},text:function(e){var t,n="",a=0,l=e.nodeType;if(!l)for(;t=e[a++];)n+=i.text(t);return l===1||l===11?e.textContent:l===9?e.documentElement.textContent:l===3||l===4?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return e!=null&&(pe(Object(e))?i.merge(n,typeof e=="string"?[e]:e):C.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:P.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!rt.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,a=0,l=e.length;a<n;a++)e[l++]=t[a];return e.length=l,e},grep:function(e,t,n){for(var a,l=[],u=0,c=e.length,v=!n;u<c;u++)a=!t(e[u],u),a!==v&&l.push(e[u]);return l},map:function(e,t,n){var a,l,u=0,c=[];if(pe(e))for(a=e.length;u<a;u++)l=t(e[u],u,n),l!=null&&c.push(l);else for(u in e)l=t(e[u],u,n),l!=null&&c.push(l);return E(c)},guid:1,support:W}),typeof Symbol=="function"&&(i.fn[Symbol.iterator]=o[Symbol.iterator]),i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){L["[object "+t+"]"]=t.toLowerCase()});function pe(e){var t=!!e&&"length"in e&&e.length,n=ke(e);return Y(e)||_e(e)?!1:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function J(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Re=o.pop,Ke=o.sort,Le=o.splice,fe="[\\x20\\t\\r\\n\\f]",Ye=new RegExp("^"+fe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+fe+"+$","g");i.contains=function(e,t){var n=t&&t.parentNode;return e===n||!!(n&&n.nodeType===1&&(e.contains?e.contains(n):e.compareDocumentPosition&&e.compareDocumentPosition(n)&16))};var Tt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function wr(e,t){return t?e==="\0"?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}i.escapeSelector=function(e){return(e+"").replace(Tt,wr)};var pt=re,Er=C;(function(){var e,t,n,a,l,u=Er,c,v,g,T,I,O=i.expando,k=0,U=0,ue=hi(),Te=hi(),ge=hi(),ht=hi(),it=function(m,y){return m===y&&(l=!0),0},cr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",dr="(?:\\\\[\\da-fA-F]{1,6}"+fe+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ee="\\["+fe+"*("+dr+")(?:"+fe+"*([*^$|!~]?=)"+fe+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+dr+"))|)"+fe+"*\\]",dn=":("+dr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ee+")*)|.*)\\)|)",Se=new RegExp(fe+"+","g"),Xe=new RegExp("^"+fe+"*,"+fe+"*"),Wn=new RegExp("^"+fe+"*([>+~]|"+fe+")"+fe+"*"),Vi=new RegExp(fe+"|>"),hr=new RegExp(dn),Hn=new RegExp("^"+dr+"$"),pr={ID:new RegExp("^#("+dr+")"),CLASS:new RegExp("^\\.("+dr+")"),TAG:new RegExp("^("+dr+"|[*])"),ATTR:new RegExp("^"+Ee),PSEUDO:new RegExp("^"+dn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+fe+"*(even|odd|(([+-]|)(\\d*)n|)"+fe+"*(?:([+-]|)"+fe+"*(\\d+)|))"+fe+"*\\)|)","i"),bool:new RegExp("^(?:"+cr+")$","i"),needsContext:new RegExp("^"+fe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+fe+"*((?:-\\d)?\\d*)"+fe+"*\\)|)(?=[^-]|$)","i")},zr=/^(?:input|select|textarea|button)$/i,Gr=/^h\d$/i,zt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qi=/[+~]/,Dr=new RegExp("\\\\[\\da-fA-F]{1,6}"+fe+"?|\\\\([^\\r\\n\\f])","g"),Rr=function(m,y){var A="0x"+m.slice(1)-65536;return y||(A<0?String.fromCharCode(A+65536):String.fromCharCode(A>>10|55296,A&1023|56320))},Hs=function(){Vr()},Us=mi(function(m){return m.disabled===!0&&J(m,"fieldset")},{dir:"parentNode",next:"legend"});function js(){try{return c.activeElement}catch(m){}}try{u.apply(o=h.call(pt.childNodes),pt.childNodes),o[pt.childNodes.length].nodeType}catch(m){u={apply:function(y,A){Er.apply(y,h.call(A))},call:function(y){Er.apply(y,h.call(arguments,1))}}}function Me(m,y,A,R){var M,V,X,ie,Q,be,le,ce=y&&y.ownerDocument,ye=y?y.nodeType:9;if(A=A||[],typeof m!="string"||!m||ye!==1&&ye!==9&&ye!==11)return A;if(!R&&(Vr(y),y=y||c,g)){if(ye!==11&&(Q=zt.exec(m)))if(M=Q[1]){if(ye===9)if(X=y.getElementById(M)){if(X.id===M)return u.call(A,X),A}else return A;else if(ce&&(X=ce.getElementById(M))&&Me.contains(y,X)&&X.id===M)return u.call(A,X),A}else{if(Q[2])return u.apply(A,y.getElementsByTagName(m)),A;if((M=Q[3])&&y.getElementsByClassName)return u.apply(A,y.getElementsByClassName(M)),A}if(!ht[m+" "]&&(!T||!T.test(m))){if(le=m,ce=y,ye===1&&(Vi.test(m)||Wn.test(m))){for(ce=qi.test(m)&&Yi(y.parentNode)||y,(ce!=y||!W.scope)&&((ie=y.getAttribute("id"))?ie=i.escapeSelector(ie):y.setAttribute("id",ie=O)),be=Un(m),V=be.length;V--;)be[V]=(ie?"#"+ie:":scope")+" "+pi(be[V]);le=be.join(",")}try{return u.apply(A,ce.querySelectorAll(le)),A}catch(se){ht(m,!0)}finally{ie===O&&y.removeAttribute("id")}}}return Zo(m.replace(Ye,"$1"),y,A,R)}function hi(){var m=[];function y(A,R){return m.push(A+" ")>t.cacheLength&&delete y[m.shift()],y[A+" "]=R}return y}function ir(m){return m[O]=!0,m}function kn(m){var y=c.createElement("fieldset");try{return!!m(y)}catch(A){return!1}finally{y.parentNode&&y.parentNode.removeChild(y),y=null}}function Bs(m){return function(y){return J(y,"input")&&y.type===m}}function $s(m){return function(y){return(J(y,"input")||J(y,"button"))&&y.type===m}}function Qo(m){return function(y){return"form"in y?y.parentNode&&y.disabled===!1?"label"in y?"label"in y.parentNode?y.parentNode.disabled===m:y.disabled===m:y.isDisabled===m||y.isDisabled!==!m&&Us(y)===m:y.disabled===m:"label"in y?y.disabled===m:!1}}function hn(m){return ir(function(y){return y=+y,ir(function(A,R){for(var M,V=m([],A.length,y),X=V.length;X--;)A[M=V[X]]&&(A[M]=!(R[M]=A[M]))})})}function Yi(m){return m&&typeof m.getElementsByTagName!="undefined"&&m}function Vr(m){var y,A=m?m.ownerDocument||m:pt;return A==c||A.nodeType!==9||!A.documentElement||(c=A,v=c.documentElement,g=!i.isXMLDoc(c),I=v.matches||v.webkitMatchesSelector||v.msMatchesSelector,v.msMatchesSelector&&pt!=c&&(y=c.defaultView)&&y.top!==y&&y.addEventListener("unload",Hs),W.getById=kn(function(R){return v.appendChild(R).id=i.expando,!c.getElementsByName||!c.getElementsByName(i.expando).length}),W.disconnectedMatch=kn(function(R){return I.call(R,"*")}),W.scope=kn(function(){return c.querySelectorAll(":scope")}),W.cssHas=kn(function(){try{return c.querySelector(":has(*,:jqfake)"),!1}catch(R){return!0}}),W.getById?(t.filter.ID=function(R){var M=R.replace(Dr,Rr);return function(V){return V.getAttribute("id")===M}},t.find.ID=function(R,M){if(typeof M.getElementById!="undefined"&&g){var V=M.getElementById(R);return V?[V]:[]}}):(t.filter.ID=function(R){var M=R.replace(Dr,Rr);return function(V){var X=typeof V.getAttributeNode!="undefined"&&V.getAttributeNode("id");return X&&X.value===M}},t.find.ID=function(R,M){if(typeof M.getElementById!="undefined"&&g){var V,X,ie,Q=M.getElementById(R);if(Q){if(V=Q.getAttributeNode("id"),V&&V.value===R)return[Q];for(ie=M.getElementsByName(R),X=0;Q=ie[X++];)if(V=Q.getAttributeNode("id"),V&&V.value===R)return[Q]}return[]}}),t.find.TAG=function(R,M){return typeof M.getElementsByTagName!="undefined"?M.getElementsByTagName(R):M.querySelectorAll(R)},t.find.CLASS=function(R,M){if(typeof M.getElementsByClassName!="undefined"&&g)return M.getElementsByClassName(R)},T=[],kn(function(R){var M;v.appendChild(R).innerHTML="<a id='"+O+"' href='' disabled='disabled'></a><select id='"+O+"-\r\\' disabled='disabled'><option selected=''></option></select>",R.querySelectorAll("[selected]").length||T.push("\\["+fe+"*(?:value|"+cr+")"),R.querySelectorAll("[id~="+O+"-]").length||T.push("~="),R.querySelectorAll("a#"+O+"+*").length||T.push(".#.+[+~]"),R.querySelectorAll(":checked").length||T.push(":checked"),M=c.createElement("input"),M.setAttribute("type","hidden"),R.appendChild(M).setAttribute("name","D"),v.appendChild(R).disabled=!0,R.querySelectorAll(":disabled").length!==2&&T.push(":enabled",":disabled"),M=c.createElement("input"),M.setAttribute("name",""),R.appendChild(M),R.querySelectorAll("[name='']").length||T.push("\\["+fe+"*name"+fe+"*="+fe+`*(?:''|"")`)}),W.cssHas||T.push(":has"),T=T.length&&new RegExp(T.join("|")),it=function(R,M){if(R===M)return l=!0,0;var V=!R.compareDocumentPosition-!M.compareDocumentPosition;return V||(V=(R.ownerDocument||R)==(M.ownerDocument||M)?R.compareDocumentPosition(M):1,V&1||!W.sortDetached&&M.compareDocumentPosition(R)===V?R===c||R.ownerDocument==pt&&Me.contains(pt,R)?-1:M===c||M.ownerDocument==pt&&Me.contains(pt,M)?1:a?P.call(a,R)-P.call(a,M):0:V&4?-1:1)}),c}Me.matches=function(m,y){return Me(m,null,null,y)},Me.matchesSelector=function(m,y){if(Vr(m),g&&!ht[y+" "]&&(!T||!T.test(y)))try{var A=I.call(m,y);if(A||W.disconnectedMatch||m.document&&m.document.nodeType!==11)return A}catch(R){ht(y,!0)}return Me(y,c,null,[m]).length>0},Me.contains=function(m,y){return(m.ownerDocument||m)!=c&&Vr(m),i.contains(m,y)},Me.attr=function(m,y){(m.ownerDocument||m)!=c&&Vr(m);var A=t.attrHandle[y.toLowerCase()],R=A&&ae.call(t.attrHandle,y.toLowerCase())?A(m,y,!g):void 0;return R!==void 0?R:m.getAttribute(y)},Me.error=function(m){throw new Error("Syntax error, unrecognized expression: "+m)},i.uniqueSort=function(m){var y,A=[],R=0,M=0;if(l=!W.sortStable,a=!W.sortStable&&h.call(m,0),Ke.call(m,it),l){for(;y=m[M++];)y===m[M]&&(R=A.push(M));for(;R--;)Le.call(m,A[R],1)}return a=null,m},i.fn.uniqueSort=function(){return this.pushStack(i.uniqueSort(h.apply(this)))},t=i.expr={cacheLength:50,createPseudo:ir,match:pr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(m){return m[1]=m[1].replace(Dr,Rr),m[3]=(m[3]||m[4]||m[5]||"").replace(Dr,Rr),m[2]==="~="&&(m[3]=" "+m[3]+" "),m.slice(0,4)},CHILD:function(m){return m[1]=m[1].toLowerCase(),m[1].slice(0,3)==="nth"?(m[3]||Me.error(m[0]),m[4]=+(m[4]?m[5]+(m[6]||1):2*(m[3]==="even"||m[3]==="odd")),m[5]=+(m[7]+m[8]||m[3]==="odd")):m[3]&&Me.error(m[0]),m},PSEUDO:function(m){var y,A=!m[6]&&m[2];return pr.CHILD.test(m[0])?null:(m[3]?m[2]=m[4]||m[5]||"":A&&hr.test(A)&&(y=Un(A,!0))&&(y=A.indexOf(")",A.length-y)-A.length)&&(m[0]=m[0].slice(0,y),m[2]=A.slice(0,y)),m.slice(0,3))}},filter:{TAG:function(m){var y=m.replace(Dr,Rr).toLowerCase();return m==="*"?function(){return!0}:function(A){return J(A,y)}},CLASS:function(m){var y=ue[m+" "];return y||(y=new RegExp("(^|"+fe+")"+m+"("+fe+"|$)"))&&ue(m,function(A){return y.test(typeof A.className=="string"&&A.className||typeof A.getAttribute!="undefined"&&A.getAttribute("class")||"")})},ATTR:function(m,y,A){return function(R){var M=Me.attr(R,m);return M==null?y==="!=":y?(M+="",y==="="?M===A:y==="!="?M!==A:y==="^="?A&&M.indexOf(A)===0:y==="*="?A&&M.indexOf(A)>-1:y==="$="?A&&M.slice(-A.length)===A:y==="~="?(" "+M.replace(Se," ")+" ").indexOf(A)>-1:y==="|="?M===A||M.slice(0,A.length+1)===A+"-":!1):!0}},CHILD:function(m,y,A,R,M){var V=m.slice(0,3)!=="nth",X=m.slice(-4)!=="last",ie=y==="of-type";return R===1&&M===0?function(Q){return!!Q.parentNode}:function(Q,be,le){var ce,ye,se,He,Pt,xt=V!==X?"nextSibling":"previousSibling",Gt=Q.parentNode,mr=ie&&Q.nodeName.toLowerCase(),Dn=!le&&!ie,Ct=!1;if(Gt){if(V){for(;xt;){for(se=Q;se=se[xt];)if(ie?J(se,mr):se.nodeType===1)return!1;Pt=xt=m==="only"&&!Pt&&"nextSibling"}return!0}if(Pt=[X?Gt.firstChild:Gt.lastChild],X&&Dn){for(ye=Gt[O]||(Gt[O]={}),ce=ye[m]||[],He=ce[0]===k&&ce[1],Ct=He&&ce[2],se=He&&Gt.childNodes[He];se=++He&&se&&se[xt]||(Ct=He=0)||Pt.pop();)if(se.nodeType===1&&++Ct&&se===Q){ye[m]=[k,He,Ct];break}}else if(Dn&&(ye=Q[O]||(Q[O]={}),ce=ye[m]||[],He=ce[0]===k&&ce[1],Ct=He),Ct===!1)for(;(se=++He&&se&&se[xt]||(Ct=He=0)||Pt.pop())&&!((ie?J(se,mr):se.nodeType===1)&&++Ct&&(Dn&&(ye=se[O]||(se[O]={}),ye[m]=[k,Ct]),se===Q)););return Ct-=M,Ct===R||Ct%R==0&&Ct/R>=0}}},PSEUDO:function(m,y){var A,R=t.pseudos[m]||t.setFilters[m.toLowerCase()]||Me.error("unsupported pseudo: "+m);return R[O]?R(y):R.length>1?(A=[m,m,"",y],t.setFilters.hasOwnProperty(m.toLowerCase())?ir(function(M,V){for(var X,ie=R(M,y),Q=ie.length;Q--;)X=P.call(M,ie[Q]),M[X]=!(V[X]=ie[Q])}):function(M){return R(M,0,A)}):R}},pseudos:{not:ir(function(m){var y=[],A=[],R=Zi(m.replace(Ye,"$1"));return R[O]?ir(function(M,V,X,ie){for(var Q,be=R(M,null,ie,[]),le=M.length;le--;)(Q=be[le])&&(M[le]=!(V[le]=Q))}):function(M,V,X){return y[0]=M,R(y,null,X,A),y[0]=null,!A.pop()}}),has:ir(function(m){return function(y){return Me(m,y).length>0}}),contains:ir(function(m){return m=m.replace(Dr,Rr),function(y){return(y.textContent||i.text(y)).indexOf(m)>-1}}),lang:ir(function(m){return Hn.test(m||"")||Me.error("unsupported lang: "+m),m=m.replace(Dr,Rr).toLowerCase(),function(y){var A;do if(A=g?y.lang:y.getAttribute("xml:lang")||y.getAttribute("lang"))return A=A.toLowerCase(),A===m||A.indexOf(m+"-")===0;while((y=y.parentNode)&&y.nodeType===1);return!1}}),target:function(m){var y=s.location&&s.location.hash;return y&&y.slice(1)===m.id},root:function(m){return m===v},focus:function(m){return m===js()&&c.hasFocus()&&!!(m.type||m.href||~m.tabIndex)},enabled:Qo(!1),disabled:Qo(!0),checked:function(m){return J(m,"input")&&!!m.checked||J(m,"option")&&!!m.selected},selected:function(m){return m.parentNode&&m.parentNode.selectedIndex,m.selected===!0},empty:function(m){for(m=m.firstChild;m;m=m.nextSibling)if(m.nodeType<6)return!1;return!0},parent:function(m){return!t.pseudos.empty(m)},header:function(m){return Gr.test(m.nodeName)},input:function(m){return zr.test(m.nodeName)},button:function(m){return J(m,"input")&&m.type==="button"||J(m,"button")},text:function(m){var y;return J(m,"input")&&m.type==="text"&&((y=m.getAttribute("type"))==null||y.toLowerCase()==="text")},first:hn(function(){return[0]}),last:hn(function(m,y){return[y-1]}),eq:hn(function(m,y,A){return[A<0?A+y:A]}),even:hn(function(m,y){for(var A=0;A<y;A+=2)m.push(A);return m}),odd:hn(function(m,y){for(var A=1;A<y;A+=2)m.push(A);return m}),lt:hn(function(m,y,A){var R;for(A<0?R=A+y:A>y?R=y:R=A;--R>=0;)m.push(R);return m}),gt:hn(function(m,y,A){for(var R=A<0?A+y:A;++R<y;)m.push(R);return m})}},t.pseudos.nth=t.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=Bs(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=$s(e);function Ko(){}Ko.prototype=t.filters=t.pseudos,t.setFilters=new Ko;function Un(m,y){var A,R,M,V,X,ie,Q,be=Te[m+" "];if(be)return y?0:be.slice(0);for(X=m,ie=[],Q=t.preFilter;X;){(!A||(R=Xe.exec(X)))&&(R&&(X=X.slice(R[0].length)||X),ie.push(M=[])),A=!1,(R=Wn.exec(X))&&(A=R.shift(),M.push({value:A,type:R[0].replace(Ye," ")}),X=X.slice(A.length));for(V in t.filter)(R=pr[V].exec(X))&&(!Q[V]||(R=Q[V](R)))&&(A=R.shift(),M.push({value:A,type:V,matches:R}),X=X.slice(A.length));if(!A)break}return y?X.length:X?Me.error(m):Te(m,ie).slice(0)}function pi(m){for(var y=0,A=m.length,R="";y<A;y++)R+=m[y].value;return R}function mi(m,y,A){var R=y.dir,M=y.next,V=M||R,X=A&&V==="parentNode",ie=U++;return y.first?function(Q,be,le){for(;Q=Q[R];)if(Q.nodeType===1||X)return m(Q,be,le);return!1}:function(Q,be,le){var ce,ye,se=[k,ie];if(le){for(;Q=Q[R];)if((Q.nodeType===1||X)&&m(Q,be,le))return!0}else for(;Q=Q[R];)if(Q.nodeType===1||X)if(ye=Q[O]||(Q[O]={}),M&&J(Q,M))Q=Q[R]||Q;else{if((ce=ye[V])&&ce[0]===k&&ce[1]===ie)return se[2]=ce[2];if(ye[V]=se,se[2]=m(Q,be,le))return!0}return!1}}function Xi(m){return m.length>1?function(y,A,R){for(var M=m.length;M--;)if(!m[M](y,A,R))return!1;return!0}:m[0]}function zs(m,y,A){for(var R=0,M=y.length;R<M;R++)Me(m,y[R],A);return A}function gi(m,y,A,R,M){for(var V,X=[],ie=0,Q=m.length,be=y!=null;ie<Q;ie++)(V=m[ie])&&(!A||A(V,R,M))&&(X.push(V),be&&y.push(ie));return X}function Qi(m,y,A,R,M,V){return R&&!R[O]&&(R=Qi(R)),M&&!M[O]&&(M=Qi(M,V)),ir(function(X,ie,Q,be){var le,ce,ye,se,He=[],Pt=[],xt=ie.length,Gt=X||zs(y||"*",Q.nodeType?[Q]:Q,[]),mr=m&&(X||!y)?gi(Gt,He,m,Q,be):Gt;if(A?(se=M||(X?m:xt||R)?[]:ie,A(mr,se,Q,be)):se=mr,R)for(le=gi(se,Pt),R(le,[],Q,be),ce=le.length;ce--;)(ye=le[ce])&&(se[Pt[ce]]=!(mr[Pt[ce]]=ye));if(X){if(M||m){if(M){for(le=[],ce=se.length;ce--;)(ye=se[ce])&&le.push(mr[ce]=ye);M(null,se=[],le,be)}for(ce=se.length;ce--;)(ye=se[ce])&&(le=M?P.call(X,ye):He[ce])>-1&&(X[le]=!(ie[le]=ye))}}else se=gi(se===ie?se.splice(xt,se.length):se),M?M(null,ie,se,be):u.apply(ie,se)})}function Ki(m){for(var y,A,R,M=m.length,V=t.relative[m[0].type],X=V||t.relative[" "],ie=V?1:0,Q=mi(function(ce){return ce===y},X,!0),be=mi(function(ce){return P.call(y,ce)>-1},X,!0),le=[function(ce,ye,se){var He=!V&&(se||ye!=n)||((y=ye).nodeType?Q(ce,ye,se):be(ce,ye,se));return y=null,He}];ie<M;ie++)if(A=t.relative[m[ie].type])le=[mi(Xi(le),A)];else{if(A=t.filter[m[ie].type].apply(null,m[ie].matches),A[O]){for(R=++ie;R<M&&!t.relative[m[R].type];R++);return Qi(ie>1&&Xi(le),ie>1&&pi(m.slice(0,ie-1).concat({value:m[ie-2].type===" "?"*":""})).replace(Ye,"$1"),A,ie<R&&Ki(m.slice(ie,R)),R<M&&Ki(m=m.slice(R)),R<M&&pi(m))}le.push(A)}return Xi(le)}function Gs(m,y){var A=y.length>0,R=m.length>0,M=function(V,X,ie,Q,be){var le,ce,ye,se=0,He="0",Pt=V&&[],xt=[],Gt=n,mr=V||R&&t.find.TAG("*",be),Dn=k+=Gt==null?1:Math.random()||.1,Ct=mr.length;for(be&&(n=X==c||X||be);He!==Ct&&(le=mr[He])!=null;He++){if(R&&le){for(ce=0,!X&&le.ownerDocument!=c&&(Vr(le),ie=!g);ye=m[ce++];)if(ye(le,X||c,ie)){u.call(Q,le);break}be&&(k=Dn)}A&&((le=!ye&&le)&&se--,V&&Pt.push(le))}if(se+=He,A&&He!==se){for(ce=0;ye=y[ce++];)ye(Pt,xt,X,ie);if(V){if(se>0)for(;He--;)Pt[He]||xt[He]||(xt[He]=Re.call(Q));xt=gi(xt)}u.apply(Q,xt),be&&!V&&xt.length>0&&se+y.length>1&&i.uniqueSort(Q)}return be&&(k=Dn,n=Gt),Pt};return A?ir(M):M}function Zi(m,y){var A,R=[],M=[],V=ge[m+" "];if(!V){for(y||(y=Un(m)),A=y.length;A--;)V=Ki(y[A]),V[O]?R.push(V):M.push(V);V=ge(m,Gs(M,R)),V.selector=m}return V}function Zo(m,y,A,R){var M,V,X,ie,Q,be=typeof m=="function"&&m,le=!R&&Un(m=be.selector||m);if(A=A||[],le.length===1){if(V=le[0]=le[0].slice(0),V.length>2&&(X=V[0]).type==="ID"&&y.nodeType===9&&g&&t.relative[V[1].type]){if(y=(t.find.ID(X.matches[0].replace(Dr,Rr),y)||[])[0],y)be&&(y=y.parentNode);else return A;m=m.slice(V.shift().value.length)}for(M=pr.needsContext.test(m)?0:V.length;M--&&(X=V[M],!t.relative[ie=X.type]);)if((Q=t.find[ie])&&(R=Q(X.matches[0].replace(Dr,Rr),qi.test(V[0].type)&&Yi(y.parentNode)||y))){if(V.splice(M,1),m=R.length&&pi(V),!m)return u.apply(A,R),A;break}}return(be||Zi(m,le))(R,y,!g,A,!y||qi.test(m)&&Yi(y.parentNode)||y),A}W.sortStable=O.split("").sort(it).join("")===O,Vr(),W.sortDetached=kn(function(m){return m.compareDocumentPosition(c.createElement("fieldset"))&1}),i.find=Me,i.expr[":"]=i.expr.pseudos,i.unique=i.uniqueSort,Me.compile=Zi,Me.select=Zo,Me.setDocument=Vr,Me.tokenize=Un,Me.escape=i.escapeSelector,Me.getText=i.text,Me.isXML=i.isXMLDoc,Me.selectors=i.expr,Me.support=i.support,Me.uniqueSort=i.uniqueSort})();var mt=function(e,t,n){for(var a=[],l=n!==void 0;(e=e[t])&&e.nodeType!==9;)if(e.nodeType===1){if(l&&i(e).is(n))break;a.push(e)}return a},Qr=function(e,t){for(var n=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n},Kr=i.expr.match.needsContext,$e=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function gt(e,t,n){return Y(t)?i.grep(e,function(a,l){return!!t.call(a,l,a)!==n}):t.nodeType?i.grep(e,function(a){return a===t!==n}):typeof t!="string"?i.grep(e,function(a){return P.call(t,a)>-1!==n}):i.filter(t,e,n)}i.filter=function(e,t,n){var a=t[0];return n&&(e=":not("+e+")"),t.length===1&&a.nodeType===1?i.find.matchesSelector(a,e)?[a]:[]:i.find.matches(e,i.grep(t,function(l){return l.nodeType===1}))},i.fn.extend({find:function(e){var t,n,a=this.length,l=this;if(typeof e!="string")return this.pushStack(i(e).filter(function(){for(t=0;t<a;t++)if(i.contains(l[t],this))return!0}));for(n=this.pushStack([]),t=0;t<a;t++)i.find(e,l[t],n);return a>1?i.uniqueSort(n):n},filter:function(e){return this.pushStack(gt(this,e||[],!1))},not:function(e){return this.pushStack(gt(this,e||[],!0))},is:function(e){return!!gt(this,typeof e=="string"&&Kr.test(e)?i(e):e||[],!1).length}});var ze,xn=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ue=i.fn.init=function(e,t,n){var a,l;if(!e)return this;if(n=n||ze,typeof e=="string")if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?a=[null,e,null]:a=xn.exec(e),a&&(a[1]||!t))if(a[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:re,!0)),$e.test(a[1])&&i.isPlainObject(t))for(a in t)Y(this[a])?this[a](t[a]):this.attr(a,t[a]);return this}else return l=re.getElementById(a[2]),l&&(this[0]=l,this.length=1),this;else return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);else{if(e.nodeType)return this[0]=e,this.length=1,this;if(Y(e))return n.ready!==void 0?n.ready(e):e(i)}return i.makeArray(e,this)};Ue.prototype=i.fn,ze=i(re);var xr=/^(?:parents|prev(?:Until|All))/,Zr={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(e){var t=i(e,this),n=t.length;return this.filter(function(){for(var a=0;a<n;a++)if(i.contains(this,t[a]))return!0})},closest:function(e,t){var n,a=0,l=this.length,u=[],c=typeof e!="string"&&i(e);if(!Kr.test(e)){for(;a<l;a++)for(n=this[a];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(c?c.index(n)>-1:n.nodeType===1&&i.find.matchesSelector(n,e))){u.push(n);break}}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(e){return e?typeof e=="string"?P.call(i(e),this[0]):P.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function Jr(e,t){for(;(e=e[t])&&e.nodeType!==1;);return e}i.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return mt(e,"parentNode")},parentsUntil:function(e,t,n){return mt(e,"parentNode",n)},next:function(e){return Jr(e,"nextSibling")},prev:function(e){return Jr(e,"previousSibling")},nextAll:function(e){return mt(e,"nextSibling")},prevAll:function(e){return mt(e,"previousSibling")},nextUntil:function(e,t,n){return mt(e,"nextSibling",n)},prevUntil:function(e,t,n){return mt(e,"previousSibling",n)},siblings:function(e){return Qr((e.parentNode||{}).firstChild,e)},children:function(e){return Qr(e.firstChild)},contents:function(e){return e.contentDocument!=null&&f(e.contentDocument)?e.contentDocument:(J(e,"template")&&(e=e.content||e),i.merge([],e.childNodes))}},function(e,t){i.fn[e]=function(n,a){var l=i.map(this,t,n);return e.slice(-5)!=="Until"&&(a=n),a&&typeof a=="string"&&(l=i.filter(a,l)),this.length>1&&(Zr[e]||i.uniqueSort(l),xr.test(e)&&l.reverse()),this.pushStack(l)}});var vt=/[^\x20\t\r\n\f]+/g;function _n(e){var t={};return i.each(e.match(vt)||[],function(n,a){t[a]=!0}),t}i.Callbacks=function(e){e=typeof e=="string"?_n(e):i.extend({},e);var t,n,a,l,u=[],c=[],v=-1,g=function(){for(l=l||e.once,a=t=!0;c.length;v=-1)for(n=c.shift();++v<u.length;)u[v].apply(n[0],n[1])===!1&&e.stopOnFalse&&(v=u.length,n=!1);e.memory||(n=!1),t=!1,l&&(n?u=[]:u="")},T={add:function(){return u&&(n&&!t&&(v=u.length-1,c.push(n)),function I(O){i.each(O,function(k,U){Y(U)?(!e.unique||!T.has(U))&&u.push(U):U&&U.length&&ke(U)!=="string"&&I(U)})}(arguments),n&&!t&&g()),this},remove:function(){return i.each(arguments,function(I,O){for(var k;(k=i.inArray(O,u,k))>-1;)u.splice(k,1),k<=v&&v--}),this},has:function(I){return I?i.inArray(I,u)>-1:u.length>0},empty:function(){return u&&(u=[]),this},disable:function(){return l=c=[],u=n="",this},disabled:function(){return!u},lock:function(){return l=c=[],!n&&!t&&(u=n=""),this},locked:function(){return!!l},fireWith:function(I,O){return l||(O=O||[],O=[I,O.slice?O.slice():O],c.push(O),t||g()),this},fire:function(){return T.fireWith(this,arguments),this},fired:function(){return!!a}};return T};function Xt(e){return e}function Nt(e){throw e}function Mr(e,t,n,a){var l;try{e&&Y(l=e.promise)?l.call(e).done(t).fail(n):e&&Y(l=e.then)?l.call(e,t,n):t.apply(void 0,[e].slice(a))}catch(u){n.apply(void 0,[u])}}i.extend({Deferred:function(e){var t=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],n="pending",a={state:function(){return n},always:function(){return l.done(arguments).fail(arguments),this},catch:function(u){return a.then(null,u)},pipe:function(){var u=arguments;return i.Deferred(function(c){i.each(t,function(v,g){var T=Y(u[g[4]])&&u[g[4]];l[g[1]](function(){var I=T&&T.apply(this,arguments);I&&Y(I.promise)?I.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[g[0]+"With"](this,T?[I]:arguments)})}),u=null}).promise()},then:function(u,c,v){var g=0;function T(I,O,k,U){return function(){var ue=this,Te=arguments,ge=function(){var it,cr;if(!(I<g)){if(it=k.apply(ue,Te),it===O.promise())throw new TypeError("Thenable self-resolution");cr=it&&(typeof it=="object"||typeof it=="function")&&it.then,Y(cr)?U?cr.call(it,T(g,O,Xt,U),T(g,O,Nt,U)):(g++,cr.call(it,T(g,O,Xt,U),T(g,O,Nt,U),T(g,O,Xt,O.notifyWith))):(k!==Xt&&(ue=void 0,Te=[it]),(U||O.resolveWith)(ue,Te))}},ht=U?ge:function(){try{ge()}catch(it){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(it,ht.error),I+1>=g&&(k!==Nt&&(ue=void 0,Te=[it]),O.rejectWith(ue,Te))}};I?ht():(i.Deferred.getErrorHook?ht.error=i.Deferred.getErrorHook():i.Deferred.getStackHook&&(ht.error=i.Deferred.getStackHook()),s.setTimeout(ht))}}return i.Deferred(function(I){t[0][3].add(T(0,I,Y(v)?v:Xt,I.notifyWith)),t[1][3].add(T(0,I,Y(u)?u:Xt)),t[2][3].add(T(0,I,Y(c)?c:Nt))}).promise()},promise:function(u){return u!=null?i.extend(u,a):a}},l={};return i.each(t,function(u,c){var v=c[2],g=c[5];a[c[1]]=v.add,g&&v.add(function(){n=g},t[3-u][2].disable,t[3-u][3].disable,t[0][2].lock,t[0][3].lock),v.add(c[3].fire),l[c[0]]=function(){return l[c[0]+"With"](this===l?void 0:this,arguments),this},l[c[0]+"With"]=v.fireWith}),a.promise(l),e&&e.call(l,l),l},when:function(e){var t=arguments.length,n=t,a=Array(n),l=h.call(arguments),u=i.Deferred(),c=function(v){return function(g){a[v]=this,l[v]=arguments.length>1?h.call(arguments):g,--t||u.resolveWith(a,l)}};if(t<=1&&(Mr(e,u.done(c(n)).resolve,u.reject,!t),u.state()==="pending"||Y(l[n]&&l[n].then)))return u.then();for(;n--;)Mr(l[n],c(n),u.reject);return u.promise()}});var Qt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(e,t){s.console&&s.console.warn&&e&&Qt.test(e.name)&&s.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},i.readyException=function(e){s.setTimeout(function(){throw e})};var _r=i.Deferred();i.fn.ready=function(e){return _r.then(e).catch(function(t){i.readyException(t)}),this},i.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--i.readyWait:i.isReady)||(i.isReady=!0,!(e!==!0&&--i.readyWait>0)&&_r.resolveWith(re,[i]))}}),i.ready.then=_r.then;function lt(){re.removeEventListener("DOMContentLoaded",lt),s.removeEventListener("load",lt),i.ready()}re.readyState==="complete"||re.readyState!=="loading"&&!re.documentElement.doScroll?s.setTimeout(i.ready):(re.addEventListener("DOMContentLoaded",lt),s.addEventListener("load",lt));var st=function(e,t,n,a,l,u,c){var v=0,g=e.length,T=n==null;if(ke(n)==="object"){l=!0;for(v in n)st(e,t,v,n[v],!0,u,c)}else if(a!==void 0&&(l=!0,Y(a)||(c=!0),T&&(c?(t.call(e,a),t=null):(T=t,t=function(I,O,k){return T.call(i(I),k)})),t))for(;v<g;v++)t(e[v],n,c?a:a.call(e[v],v,t(e[v],n)));return l?e:T?t.call(e):g?t(e[0],n):u},Tr=/^-ms-/,Kt=/-([a-z])/g;function Or(e,t){return t.toUpperCase()}function ut(e){return e.replace(Tr,"ms-").replace(Kt,Or)}var Zt=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function jt(){this.expando=i.expando+jt.uid++}jt.uid=1,jt.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Zt(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var a,l=this.cache(e);if(typeof t=="string")l[ut(t)]=n;else for(a in t)l[ut(a)]=t[a];return l},get:function(e,t){return t===void 0?this.cache(e):e[this.expando]&&e[this.expando][ut(t)]},access:function(e,t,n){return t===void 0||t&&typeof t=="string"&&n===void 0?this.get(e,t):(this.set(e,t,n),n!==void 0?n:t)},remove:function(e,t){var n,a=e[this.expando];if(a!==void 0){if(t!==void 0)for(Array.isArray(t)?t=t.map(ut):(t=ut(t),t=t in a?[t]:t.match(vt)||[]),n=t.length;n--;)delete a[t[n]];(t===void 0||i.isEmptyObject(a))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==void 0&&!i.isEmptyObject(t)}};var Z=new jt,Be=new jt,Jt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,en=/[A-Z]/g;function tn(e){return e==="true"?!0:e==="false"?!1:e==="null"?null:e===+e+""?+e:Jt.test(e)?JSON.parse(e):e}function Nr(e,t,n){var a;if(n===void 0&&e.nodeType===1)if(a="data-"+t.replace(en,"-$&").toLowerCase(),n=e.getAttribute(a),typeof n=="string"){try{n=tn(n)}catch(l){}Be.set(e,t,n)}else n=void 0;return n}i.extend({hasData:function(e){return Be.hasData(e)||Z.hasData(e)},data:function(e,t,n){return Be.access(e,t,n)},removeData:function(e,t){Be.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),i.fn.extend({data:function(e,t){var n,a,l,u=this[0],c=u&&u.attributes;if(e===void 0){if(this.length&&(l=Be.get(u),u.nodeType===1&&!Z.get(u,"hasDataAttrs"))){for(n=c.length;n--;)c[n]&&(a=c[n].name,a.indexOf("data-")===0&&(a=ut(a.slice(5)),Nr(u,a,l[a])));Z.set(u,"hasDataAttrs",!0)}return l}return typeof e=="object"?this.each(function(){Be.set(this,e)}):st(this,function(v){var g;if(u&&v===void 0)return g=Be.get(u,e),g!==void 0||(g=Nr(u,e),g!==void 0)?g:void 0;this.each(function(){Be.set(this,e,v)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Be.remove(this,e)})}}),i.extend({queue:function(e,t,n){var a;if(e)return t=(t||"fx")+"queue",a=Z.get(e,t),n&&(!a||Array.isArray(n)?a=Z.access(e,t,i.makeArray(n)):a.push(n)),a||[]},dequeue:function(e,t){t=t||"fx";var n=i.queue(e,t),a=n.length,l=n.shift(),u=i._queueHooks(e,t),c=function(){i.dequeue(e,t)};l==="inprogress"&&(l=n.shift(),a--),l&&(t==="fx"&&n.unshift("inprogress"),delete u.stop,l.call(e,c,u)),!a&&u&&u.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:i.Callbacks("once memory").add(function(){Z.remove(e,[t+"queue",n])})})}}),i.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?i.queue(this[0],e):t===void 0?this:this.each(function(){var a=i.queue(this,e,t);i._queueHooks(this,e),e==="fx"&&a[0]!=="inprogress"&&i.dequeue(this,e)})},dequeue:function(e){return this.each(function(){i.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,a=1,l=i.Deferred(),u=this,c=this.length,v=function(){--a||l.resolveWith(u,[u])};for(typeof e!="string"&&(t=e,e=void 0),e=e||"fx";c--;)n=Z.get(u[c],e+"queueHooks"),n&&n.empty&&(a++,n.empty.add(v));return v(),l.promise(t)}});var Sr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,er=new RegExp("^(?:([+-])=|)("+Sr+")([a-z%]*)$","i"),ft=["Top","Right","Bottom","Left"],St=re.documentElement,nt=function(e){return i.contains(e.ownerDocument,e)},Bt={composed:!0};St.getRootNode&&(nt=function(e){return i.contains(e.ownerDocument,e)||e.getRootNode(Bt)===e.ownerDocument});var ur=function(e,t){return e=t||e,e.style.display==="none"||e.style.display===""&&nt(e)&&i.css(e,"display")==="none"};function Wr(e,t,n,a){var l,u,c=20,v=a?function(){return a.cur()}:function(){return i.css(e,t,"")},g=v(),T=n&&n[3]||(i.cssNumber[t]?"":"px"),I=e.nodeType&&(i.cssNumber[t]||T!=="px"&&+g)&&er.exec(i.css(e,t));if(I&&I[3]!==T){for(g=g/2,T=T||I[3],I=+g||1;c--;)i.style(e,t,I+T),(1-u)*(1-(u=v()/g||.5))<=0&&(c=0),I=I/u;I=I*2,i.style(e,t,I+T),n=n||[]}return n&&(I=+I||+g||0,l=n[1]?I+(n[1]+1)*n[2]:+n[2],a&&(a.unit=T,a.start=I,a.end=l)),l}var Hr={};function Cr(e){var t,n=e.ownerDocument,a=e.nodeName,l=Hr[a];return l||(t=n.body.appendChild(n.createElement(a)),l=i.css(t,"display"),t.parentNode.removeChild(t),l==="none"&&(l="block"),Hr[a]=l,l)}function Wt(e,t){for(var n,a,l=[],u=0,c=e.length;u<c;u++)a=e[u],!!a.style&&(n=a.style.display,t?(n==="none"&&(l[u]=Z.get(a,"display")||null,l[u]||(a.style.display="")),a.style.display===""&&ur(a)&&(l[u]=Cr(a))):n!=="none"&&(l[u]="none",Z.set(a,"display",n)));for(u=0;u<c;u++)l[u]!=null&&(e[u].style.display=l[u]);return e}i.fn.extend({show:function(){return Wt(this,!0)},hide:function(){return Wt(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){ur(this)?i(this).show():i(this).hide()})}});var bt=/^(?:checkbox|radio)$/i,fr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Tn=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=re.createDocumentFragment(),t=e.appendChild(re.createElement("div")),n=re.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),W.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",W.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",W.option=!!t.lastChild})();var ct={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td,W.option||(ct.optgroup=ct.option=[1,"<select multiple='multiple'>","</select>"]);function xe(e,t){var n;return typeof e.getElementsByTagName!="undefined"?n=e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!="undefined"?n=e.querySelectorAll(t||"*"):n=[],t===void 0||t&&J(e,t)?i.merge([e],n):n}function $t(e,t){for(var n=0,a=e.length;n<a;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}var Mn=/<|&#?\w+;/;function rn(e,t,n,a,l){for(var u,c,v,g,T,I,O=t.createDocumentFragment(),k=[],U=0,ue=e.length;U<ue;U++)if(u=e[U],u||u===0)if(ke(u)==="object")i.merge(k,u.nodeType?[u]:u);else if(!Mn.test(u))k.push(t.createTextNode(u));else{for(c=c||O.appendChild(t.createElement("div")),v=(fr.exec(u)||["",""])[1].toLowerCase(),g=ct[v]||ct._default,c.innerHTML=g[1]+i.htmlPrefilter(u)+g[2],I=g[0];I--;)c=c.lastChild;i.merge(k,c.childNodes),c=O.firstChild,c.textContent=""}for(O.textContent="",U=0;u=k[U++];){if(a&&i.inArray(u,a)>-1){l&&l.push(u);continue}if(T=nt(u),c=xe(O.appendChild(u),"script"),T&&$t(c),n)for(I=0;u=c[I++];)Tn.test(u.type||"")&&n.push(u)}return O}var Ur=/^([^.]*)(?:\.(.+)|)/;function tr(){return!0}function rr(){return!1}function nn(e,t,n,a,l,u){var c,v;if(typeof t=="object"){typeof n!="string"&&(a=a||n,n=void 0);for(v in t)nn(e,v,n,a,t[v],u);return e}if(a==null&&l==null?(l=n,a=n=void 0):l==null&&(typeof n=="string"?(l=a,a=void 0):(l=a,a=n,n=void 0)),l===!1)l=rr;else if(!l)return e;return u===1&&(c=l,l=function(g){return i().off(g),c.apply(this,arguments)},l.guid=c.guid||(c.guid=i.guid++)),e.each(function(){i.event.add(this,t,l,a,n)})}i.event={global:{},add:function(e,t,n,a,l){var u,c,v,g,T,I,O,k,U,ue,Te,ge=Z.get(e);if(!!Zt(e))for(n.handler&&(u=n,n=u.handler,l=u.selector),l&&i.find.matchesSelector(St,l),n.guid||(n.guid=i.guid++),(g=ge.events)||(g=ge.events=Object.create(null)),(c=ge.handle)||(c=ge.handle=function(ht){return typeof i!="undefined"&&i.event.triggered!==ht.type?i.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(vt)||[""],T=t.length;T--;)v=Ur.exec(t[T])||[],U=Te=v[1],ue=(v[2]||"").split(".").sort(),!!U&&(O=i.event.special[U]||{},U=(l?O.delegateType:O.bindType)||U,O=i.event.special[U]||{},I=i.extend({type:U,origType:Te,data:a,handler:n,guid:n.guid,selector:l,needsContext:l&&i.expr.match.needsContext.test(l),namespace:ue.join(".")},u),(k=g[U])||(k=g[U]=[],k.delegateCount=0,(!O.setup||O.setup.call(e,a,ue,c)===!1)&&e.addEventListener&&e.addEventListener(U,c)),O.add&&(O.add.call(e,I),I.handler.guid||(I.handler.guid=n.guid)),l?k.splice(k.delegateCount++,0,I):k.push(I),i.event.global[U]=!0)},remove:function(e,t,n,a,l){var u,c,v,g,T,I,O,k,U,ue,Te,ge=Z.hasData(e)&&Z.get(e);if(!(!ge||!(g=ge.events))){for(t=(t||"").match(vt)||[""],T=t.length;T--;){if(v=Ur.exec(t[T])||[],U=Te=v[1],ue=(v[2]||"").split(".").sort(),!U){for(U in g)i.event.remove(e,U+t[T],n,a,!0);continue}for(O=i.event.special[U]||{},U=(a?O.delegateType:O.bindType)||U,k=g[U]||[],v=v[2]&&new RegExp("(^|\\.)"+ue.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=u=k.length;u--;)I=k[u],(l||Te===I.origType)&&(!n||n.guid===I.guid)&&(!v||v.test(I.namespace))&&(!a||a===I.selector||a==="**"&&I.selector)&&(k.splice(u,1),I.selector&&k.delegateCount--,O.remove&&O.remove.call(e,I));c&&!k.length&&((!O.teardown||O.teardown.call(e,ue,ge.handle)===!1)&&i.removeEvent(e,U,ge.handle),delete g[U])}i.isEmptyObject(g)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,a,l,u,c,v=new Array(arguments.length),g=i.event.fix(e),T=(Z.get(this,"events")||Object.create(null))[g.type]||[],I=i.event.special[g.type]||{};for(v[0]=g,t=1;t<arguments.length;t++)v[t]=arguments[t];if(g.delegateTarget=this,!(I.preDispatch&&I.preDispatch.call(this,g)===!1)){for(c=i.event.handlers.call(this,g,T),t=0;(l=c[t++])&&!g.isPropagationStopped();)for(g.currentTarget=l.elem,n=0;(u=l.handlers[n++])&&!g.isImmediatePropagationStopped();)(!g.rnamespace||u.namespace===!1||g.rnamespace.test(u.namespace))&&(g.handleObj=u,g.data=u.data,a=((i.event.special[u.origType]||{}).handle||u.handler).apply(l.elem,v),a!==void 0&&(g.result=a)===!1&&(g.preventDefault(),g.stopPropagation()));return I.postDispatch&&I.postDispatch.call(this,g),g.result}},handlers:function(e,t){var n,a,l,u,c,v=[],g=t.delegateCount,T=e.target;if(g&&T.nodeType&&!(e.type==="click"&&e.button>=1)){for(;T!==this;T=T.parentNode||this)if(T.nodeType===1&&!(e.type==="click"&&T.disabled===!0)){for(u=[],c={},n=0;n<g;n++)a=t[n],l=a.selector+" ",c[l]===void 0&&(c[l]=a.needsContext?i(l,this).index(T)>-1:i.find(l,this,null,[T]).length),c[l]&&u.push(a);u.length&&v.push({elem:T,handlers:u})}}return T=this,g<t.length&&v.push({elem:T,handlers:t.slice(g)}),v},addProp:function(e,t){Object.defineProperty(i.Event.prototype,e,{enumerable:!0,configurable:!0,get:Y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(n){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(e){return e[i.expando]?e:new i.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return bt.test(t.type)&&t.click&&J(t,"input")&&dt(t,"click",!0),!1},trigger:function(e){var t=this||e;return bt.test(t.type)&&t.click&&J(t,"input")&&dt(t,"click"),!0},_default:function(e){var t=e.target;return bt.test(t.type)&&t.click&&J(t,"input")&&Z.get(t,"click")||J(t,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};function dt(e,t,n){if(!n){Z.get(e,t)===void 0&&i.event.add(e,t,tr);return}Z.set(e,t,!1),i.event.add(e,t,{namespace:!1,handler:function(a){var l,u=Z.get(this,t);if(a.isTrigger&1&&this[t]){if(u)(i.event.special[t]||{}).delegateType&&a.stopPropagation();else if(u=h.call(arguments),Z.set(this,t,u),this[t](),l=Z.get(this,t),Z.set(this,t,!1),u!==l)return a.stopImmediatePropagation(),a.preventDefault(),l}else u&&(Z.set(this,t,i.event.trigger(u[0],u.slice(1),this)),a.stopPropagation(),a.isImmediatePropagationStopped=tr)}})}i.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},i.Event=function(e,t){if(!(this instanceof i.Event))return new i.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?tr:rr,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&i.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[i.expando]=!0},i.Event.prototype={constructor:i.Event,isDefaultPrevented:rr,isPropagationStopped:rr,isImmediatePropagationStopped:rr,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=tr,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=tr,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=tr,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},i.event.addProp),i.each({focus:"focusin",blur:"focusout"},function(e,t){function n(a){if(re.documentMode){var l=Z.get(this,"handle"),u=i.event.fix(a);u.type=a.type==="focusin"?"focus":"blur",u.isSimulated=!0,l(a),u.target===u.currentTarget&&l(u)}else i.event.simulate(t,a.target,i.event.fix(a))}i.event.special[e]={setup:function(){var a;if(dt(this,e,!0),re.documentMode)a=Z.get(this,t),a||this.addEventListener(t,n),Z.set(this,t,(a||0)+1);else return!1},trigger:function(){return dt(this,e),!0},teardown:function(){var a;if(re.documentMode)a=Z.get(this,t)-1,a?Z.set(this,t,a):(this.removeEventListener(t,n),Z.remove(this,t));else return!1},_default:function(a){return Z.get(a.target,e)},delegateType:t},i.event.special[t]={setup:function(){var a=this.ownerDocument||this.document||this,l=re.documentMode?this:a,u=Z.get(l,t);u||(re.documentMode?this.addEventListener(t,n):a.addEventListener(e,n,!0)),Z.set(l,t,(u||0)+1)},teardown:function(){var a=this.ownerDocument||this.document||this,l=re.documentMode?this:a,u=Z.get(l,t)-1;u?Z.set(l,t,u):(re.documentMode?this.removeEventListener(t,n):a.removeEventListener(e,n,!0),Z.remove(l,t))}}}),i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){i.event.special[e]={delegateType:t,bindType:t,handle:function(n){var a,l=this,u=n.relatedTarget,c=n.handleObj;return(!u||u!==l&&!i.contains(l,u))&&(n.type=c.origType,a=c.handler.apply(this,arguments),n.type=t),a}}}),i.fn.extend({on:function(e,t,n,a){return nn(this,e,t,n,a)},one:function(e,t,n,a){return nn(this,e,t,n,a,1)},off:function(e,t,n){var a,l;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,i(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if(typeof e=="object"){for(l in e)this.off(l,t,e[l]);return this}return(t===!1||typeof t=="function")&&(n=t,t=void 0),n===!1&&(n=rr),this.each(function(){i.event.remove(this,e,n,t)})}});var jr=/<script|<style|<link/i,on=/checked\s*(?:[^=]|=\s*.checked.)/i,Sn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Br(e,t){return J(e,"table")&&J(t.nodeType!==11?t:t.firstChild,"tr")&&i(e).children("tbody")[0]||e}function Cn(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function Ht(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}function an(e,t){var n,a,l,u,c,v,g;if(t.nodeType===1){if(Z.hasData(e)&&(u=Z.get(e),g=u.events,g)){Z.remove(t,"handle events");for(l in g)for(n=0,a=g[l].length;n<a;n++)i.event.add(t,l,g[l][n])}Be.hasData(e)&&(c=Be.access(e),v=i.extend({},c),Be.set(t,v))}}function An(e,t){var n=t.nodeName.toLowerCase();n==="input"&&bt.test(e.type)?t.checked=e.checked:(n==="input"||n==="textarea")&&(t.defaultValue=e.defaultValue)}function nr(e,t,n,a){t=E(t);var l,u,c,v,g,T,I=0,O=e.length,k=O-1,U=t[0],ue=Y(U);if(ue||O>1&&typeof U=="string"&&!W.checkClone&&on.test(U))return e.each(function(Te){var ge=e.eq(Te);ue&&(t[0]=U.call(this,Te,ge.html())),nr(ge,t,n,a)});if(O&&(l=rn(t,e[0].ownerDocument,!1,e,a),u=l.firstChild,l.childNodes.length===1&&(l=u),u||a)){for(c=i.map(xe(l,"script"),Cn),v=c.length;I<O;I++)g=l,I!==k&&(g=i.clone(g,!0,!0),v&&i.merge(c,xe(g,"script"))),n.call(e[I],g,I);if(v)for(T=c[c.length-1].ownerDocument,i.map(c,Ht),I=0;I<v;I++)g=c[I],Tn.test(g.type||"")&&!Z.access(g,"globalEval")&&i.contains(T,g)&&(g.src&&(g.type||"").toLowerCase()!=="module"?i._evalUrl&&!g.noModule&&i._evalUrl(g.src,{nonce:g.nonce||g.getAttribute("nonce")},T):at(g.textContent.replace(Sn,""),g,T))}return e}function sn(e,t,n){for(var a,l=t?i.filter(t,e):e,u=0;(a=l[u])!=null;u++)!n&&a.nodeType===1&&i.cleanData(xe(a)),a.parentNode&&(n&&nt(a)&&$t(xe(a,"script")),a.parentNode.removeChild(a));return e}i.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var a,l,u,c,v=e.cloneNode(!0),g=nt(e);if(!W.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!i.isXMLDoc(e))for(c=xe(v),u=xe(e),a=0,l=u.length;a<l;a++)An(u[a],c[a]);if(t)if(n)for(u=u||xe(e),c=c||xe(v),a=0,l=u.length;a<l;a++)an(u[a],c[a]);else an(e,v);return c=xe(v,"script"),c.length>0&&$t(c,!g&&xe(e,"script")),v},cleanData:function(e){for(var t,n,a,l=i.event.special,u=0;(n=e[u])!==void 0;u++)if(Zt(n)){if(t=n[Z.expando]){if(t.events)for(a in t.events)l[a]?i.event.remove(n,a):i.removeEvent(n,a,t.handle);n[Z.expando]=void 0}n[Be.expando]&&(n[Be.expando]=void 0)}}}),i.fn.extend({detach:function(e){return sn(this,e,!0)},remove:function(e){return sn(this,e)},text:function(e){return st(this,function(t){return t===void 0?i.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=t)})},null,e,arguments.length)},append:function(){return nr(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Br(this,e);t.appendChild(e)}})},prepend:function(){return nr(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Br(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return nr(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return nr(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;(e=this[t])!=null;t++)e.nodeType===1&&(i.cleanData(xe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return i.clone(this,e,t)})},html:function(e){return st(this,function(t){var n=this[0]||{},a=0,l=this.length;if(t===void 0&&n.nodeType===1)return n.innerHTML;if(typeof t=="string"&&!jr.test(t)&&!ct[(fr.exec(t)||["",""])[1].toLowerCase()]){t=i.htmlPrefilter(t);try{for(;a<l;a++)n=this[a]||{},n.nodeType===1&&(i.cleanData(xe(n,!1)),n.innerHTML=t);n=0}catch(u){}}n&&this.empty().append(t)},null,e,arguments.length)},replaceWith:function(){var e=[];return nr(this,arguments,function(t){var n=this.parentNode;i.inArray(this,e)<0&&(i.cleanData(xe(this)),n&&n.replaceChild(t,this))},e)}}),i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){i.fn[e]=function(n){for(var a,l=[],u=i(n),c=u.length-1,v=0;v<=c;v++)a=v===c?this:this.clone(!0),i(u[v])[t](a),C.apply(l,a.get());return this.pushStack(l)}});var ln=new RegExp("^("+Sr+")(?!px)[a-z%]+$","i"),ne=/^--/,w=function(e){var t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=s),t.getComputedStyle(e)},j=function(e,t,n){var a,l,u={};for(l in t)u[l]=e.style[l],e.style[l]=t[l];a=n.call(e);for(l in t)e.style[l]=u[l];return a},ee=new RegExp(ft.join("|"),"i");(function(){function e(){if(!!T){g.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",T.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",St.appendChild(g).appendChild(T);var I=s.getComputedStyle(T);n=I.top!=="1%",v=t(I.marginLeft)===12,T.style.right="60%",u=t(I.right)===36,a=t(I.width)===36,T.style.position="absolute",l=t(T.offsetWidth/3)===12,St.removeChild(g),T=null}}function t(I){return Math.round(parseFloat(I))}var n,a,l,u,c,v,g=re.createElement("div"),T=re.createElement("div");!T.style||(T.style.backgroundClip="content-box",T.cloneNode(!0).style.backgroundClip="",W.clearCloneStyle=T.style.backgroundClip==="content-box",i.extend(W,{boxSizingReliable:function(){return e(),a},pixelBoxStyles:function(){return e(),u},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),v},scrollboxSize:function(){return e(),l},reliableTrDimensions:function(){var I,O,k,U;return c==null&&(I=re.createElement("table"),O=re.createElement("tr"),k=re.createElement("div"),I.style.cssText="position:absolute;left:-11111px;border-collapse:separate",O.style.cssText="box-sizing:content-box;border:1px solid",O.style.height="1px",k.style.height="9px",k.style.display="block",St.appendChild(I).appendChild(O).appendChild(k),U=s.getComputedStyle(O),c=parseInt(U.height,10)+parseInt(U.borderTopWidth,10)+parseInt(U.borderBottomWidth,10)===O.offsetHeight,St.removeChild(I)),c}}))})();function Ce(e,t,n){var a,l,u,c,v=ne.test(t),g=e.style;return n=n||w(e),n&&(c=n.getPropertyValue(t)||n[t],v&&c&&(c=c.replace(Ye,"$1")||void 0),c===""&&!nt(e)&&(c=i.style(e,t)),!W.pixelBoxStyles()&&ln.test(c)&&ee.test(t)&&(a=g.width,l=g.minWidth,u=g.maxWidth,g.minWidth=g.maxWidth=g.width=c,c=n.width,g.width=a,g.minWidth=l,g.maxWidth=u)),c!==void 0?c+"":c}function Ze(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}var Ge=["Webkit","Moz","ms"],Ve=re.createElement("div").style,yt={};function Lt(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;n--;)if(e=Ge[n]+t,e in Ve)return e}function Je(e){var t=i.cssProps[e]||yt[e];return t||(e in Ve?e:yt[e]=Lt(e)||e)}var Ar=/^(none|table(?!-c[ea]).+)/,$r={position:"absolute",visibility:"hidden",display:"block"},li={letterSpacing:"0",fontWeight:"400"};function ui(e,t,n){var a=er.exec(t);return a?Math.max(0,a[2]-(n||0))+(a[3]||"px"):t}function un(e,t,n,a,l,u){var c=t==="width"?1:0,v=0,g=0,T=0;if(n===(a?"border":"content"))return 0;for(;c<4;c+=2)n==="margin"&&(T+=i.css(e,n+ft[c],!0,l)),a?(n==="content"&&(g-=i.css(e,"padding"+ft[c],!0,l)),n!=="margin"&&(g-=i.css(e,"border"+ft[c]+"Width",!0,l))):(g+=i.css(e,"padding"+ft[c],!0,l),n!=="padding"?g+=i.css(e,"border"+ft[c]+"Width",!0,l):v+=i.css(e,"border"+ft[c]+"Width",!0,l));return!a&&u>=0&&(g+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-u-g-v-.5))||0),g+T}function fi(e,t,n){var a=w(e),l=!W.boxSizingReliable()||n,u=l&&i.css(e,"boxSizing",!1,a)==="border-box",c=u,v=Ce(e,t,a),g="offset"+t[0].toUpperCase()+t.slice(1);if(ln.test(v)){if(!n)return v;v="auto"}return(!W.boxSizingReliable()&&u||!W.reliableTrDimensions()&&J(e,"tr")||v==="auto"||!parseFloat(v)&&i.css(e,"display",!1,a)==="inline")&&e.getClientRects().length&&(u=i.css(e,"boxSizing",!1,a)==="border-box",c=g in e,c&&(v=e[g])),v=parseFloat(v)||0,v+un(e,t,n||(u?"border":"content"),c,a,v)+"px"}i.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ce(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,a){if(!(!e||e.nodeType===3||e.nodeType===8||!e.style)){var l,u,c,v=ut(t),g=ne.test(t),T=e.style;if(g||(t=Je(v)),c=i.cssHooks[t]||i.cssHooks[v],n!==void 0){if(u=typeof n,u==="string"&&(l=er.exec(n))&&l[1]&&(n=Wr(e,t,l),u="number"),n==null||n!==n)return;u==="number"&&!g&&(n+=l&&l[3]||(i.cssNumber[v]?"":"px")),!W.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(T[t]="inherit"),(!c||!("set"in c)||(n=c.set(e,n,a))!==void 0)&&(g?T.setProperty(t,n):T[t]=n)}else return c&&"get"in c&&(l=c.get(e,!1,a))!==void 0?l:T[t]}},css:function(e,t,n,a){var l,u,c,v=ut(t),g=ne.test(t);return g||(t=Je(v)),c=i.cssHooks[t]||i.cssHooks[v],c&&"get"in c&&(l=c.get(e,!0,n)),l===void 0&&(l=Ce(e,t,a)),l==="normal"&&t in li&&(l=li[t]),n===""||n?(u=parseFloat(l),n===!0||isFinite(u)?u||0:l):l}}),i.each(["height","width"],function(e,t){i.cssHooks[t]={get:function(n,a,l){if(a)return Ar.test(i.css(n,"display"))&&(!n.getClientRects().length||!n.getBoundingClientRect().width)?j(n,$r,function(){return fi(n,t,l)}):fi(n,t,l)},set:function(n,a,l){var u,c=w(n),v=!W.scrollboxSize()&&c.position==="absolute",g=v||l,T=g&&i.css(n,"boxSizing",!1,c)==="border-box",I=l?un(n,t,l,T,c):0;return T&&v&&(I-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(c[t])-un(n,t,"border",!1,c)-.5)),I&&(u=er.exec(a))&&(u[3]||"px")!=="px"&&(n.style[t]=a,a=i.css(n,t)),ui(n,a,I)}}}),i.cssHooks.marginLeft=Ze(W.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ce(e,"marginLeft"))||e.getBoundingClientRect().left-j(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),i.each({margin:"",padding:"",border:"Width"},function(e,t){i.cssHooks[e+t]={expand:function(n){for(var a=0,l={},u=typeof n=="string"?n.split(" "):[n];a<4;a++)l[e+ft[a]+t]=u[a]||u[a-2]||u[0];return l}},e!=="margin"&&(i.cssHooks[e+t].set=ui)}),i.fn.extend({css:function(e,t){return st(this,function(n,a,l){var u,c,v={},g=0;if(Array.isArray(a)){for(u=w(n),c=a.length;g<c;g++)v[a[g]]=i.css(n,a[g],!1,u);return v}return l!==void 0?i.style(n,a,l):i.css(n,a)},e,t,arguments.length>1)}});function wt(e,t,n,a,l){return new wt.prototype.init(e,t,n,a,l)}i.Tween=wt,wt.prototype={constructor:wt,init:function(e,t,n,a,l,u){this.elem=e,this.prop=n,this.easing=l||i.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=u||(i.cssNumber[n]?"":"px")},cur:function(){var e=wt.propHooks[this.prop];return e&&e.get?e.get(this):wt.propHooks._default.get(this)},run:function(e){var t,n=wt.propHooks[this.prop];return this.options.duration?this.pos=t=i.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):wt.propHooks._default.set(this),this}},wt.prototype.init.prototype=wt.prototype,wt.propHooks={_default:{get:function(e){var t;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(t=i.css(e.elem,e.prop,""),!t||t==="auto"?0:t)},set:function(e){i.fx.step[e.prop]?i.fx.step[e.prop](e):e.elem.nodeType===1&&(i.cssHooks[e.prop]||e.elem.style[Je(e.prop)]!=null)?i.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},wt.propHooks.scrollTop=wt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},i.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},i.fx=wt.prototype.init,i.fx.step={};var d,b,p=/^(?:toggle|show|hide)$/,_=/queueHooks$/;function S(){b&&(re.hidden===!1&&s.requestAnimationFrame?s.requestAnimationFrame(S):s.setTimeout(S,i.fx.interval),i.fx.tick())}function x(){return s.setTimeout(function(){d=void 0}),d=Date.now()}function F(e,t){var n,a=0,l={height:e};for(t=t?1:0;a<4;a+=2-t)n=ft[a],l["margin"+n]=l["padding"+n]=e;return t&&(l.opacity=l.width=e),l}function N(e,t,n){for(var a,l=(H.tweeners[t]||[]).concat(H.tweeners["*"]),u=0,c=l.length;u<c;u++)if(a=l[u].call(n,t,e))return a}function B(e,t,n){var a,l,u,c,v,g,T,I,O="width"in t||"height"in t,k=this,U={},ue=e.style,Te=e.nodeType&&ur(e),ge=Z.get(e,"fxshow");n.queue||(c=i._queueHooks(e,"fx"),c.unqueued==null&&(c.unqueued=0,v=c.empty.fire,c.empty.fire=function(){c.unqueued||v()}),c.unqueued++,k.always(function(){k.always(function(){c.unqueued--,i.queue(e,"fx").length||c.empty.fire()})}));for(a in t)if(l=t[a],p.test(l)){if(delete t[a],u=u||l==="toggle",l===(Te?"hide":"show"))if(l==="show"&&ge&&ge[a]!==void 0)Te=!0;else continue;U[a]=ge&&ge[a]||i.style(e,a)}if(g=!i.isEmptyObject(t),!(!g&&i.isEmptyObject(U))){O&&e.nodeType===1&&(n.overflow=[ue.overflow,ue.overflowX,ue.overflowY],T=ge&&ge.display,T==null&&(T=Z.get(e,"display")),I=i.css(e,"display"),I==="none"&&(T?I=T:(Wt([e],!0),T=e.style.display||T,I=i.css(e,"display"),Wt([e]))),(I==="inline"||I==="inline-block"&&T!=null)&&i.css(e,"float")==="none"&&(g||(k.done(function(){ue.display=T}),T==null&&(I=ue.display,T=I==="none"?"":I)),ue.display="inline-block")),n.overflow&&(ue.overflow="hidden",k.always(function(){ue.overflow=n.overflow[0],ue.overflowX=n.overflow[1],ue.overflowY=n.overflow[2]})),g=!1;for(a in U)g||(ge?"hidden"in ge&&(Te=ge.hidden):ge=Z.access(e,"fxshow",{display:T}),u&&(ge.hidden=!Te),Te&&Wt([e],!0),k.done(function(){Te||Wt([e]),Z.remove(e,"fxshow");for(a in U)i.style(e,a,U[a])})),g=N(Te?ge[a]:0,a,k),a in ge||(ge[a]=g.start,Te&&(g.end=g.start,g.start=0))}}function z(e,t){var n,a,l,u,c;for(n in e)if(a=ut(n),l=t[a],u=e[n],Array.isArray(u)&&(l=u[1],u=e[n]=u[0]),n!==a&&(e[a]=u,delete e[n]),c=i.cssHooks[a],c&&"expand"in c){u=c.expand(u),delete e[a];for(n in u)n in e||(e[n]=u[n],t[n]=l)}else t[a]=l}function H(e,t,n){var a,l,u=0,c=H.prefilters.length,v=i.Deferred().always(function(){delete g.elem}),g=function(){if(l)return!1;for(var O=d||x(),k=Math.max(0,T.startTime+T.duration-O),U=k/T.duration||0,ue=1-U,Te=0,ge=T.tweens.length;Te<ge;Te++)T.tweens[Te].run(ue);return v.notifyWith(e,[T,ue,k]),ue<1&&ge?k:(ge||v.notifyWith(e,[T,1,0]),v.resolveWith(e,[T]),!1)},T=v.promise({elem:e,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},n),originalProperties:t,originalOptions:n,startTime:d||x(),duration:n.duration,tweens:[],createTween:function(O,k){var U=i.Tween(e,T.opts,O,k,T.opts.specialEasing[O]||T.opts.easing);return T.tweens.push(U),U},stop:function(O){var k=0,U=O?T.tweens.length:0;if(l)return this;for(l=!0;k<U;k++)T.tweens[k].run(1);return O?(v.notifyWith(e,[T,1,0]),v.resolveWith(e,[T,O])):v.rejectWith(e,[T,O]),this}}),I=T.props;for(z(I,T.opts.specialEasing);u<c;u++)if(a=H.prefilters[u].call(T,e,I,T.opts),a)return Y(a.stop)&&(i._queueHooks(T.elem,T.opts.queue).stop=a.stop.bind(a)),a;return i.map(I,N,T),Y(T.opts.start)&&T.opts.start.call(e,T),T.progress(T.opts.progress).done(T.opts.done,T.opts.complete).fail(T.opts.fail).always(T.opts.always),i.fx.timer(i.extend(g,{elem:e,anim:T,queue:T.opts.queue})),T}i.Animation=i.extend(H,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return Wr(n.elem,e,er.exec(t),n),n}]},tweener:function(e,t){Y(e)?(t=e,e=["*"]):e=e.match(vt);for(var n,a=0,l=e.length;a<l;a++)n=e[a],H.tweeners[n]=H.tweeners[n]||[],H.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?H.prefilters.unshift(e):H.prefilters.push(e)}}),i.speed=function(e,t,n){var a=e&&typeof e=="object"?i.extend({},e):{complete:n||!n&&t||Y(e)&&e,duration:e,easing:n&&t||t&&!Y(t)&&t};return i.fx.off?a.duration=0:typeof a.duration!="number"&&(a.duration in i.fx.speeds?a.duration=i.fx.speeds[a.duration]:a.duration=i.fx.speeds._default),(a.queue==null||a.queue===!0)&&(a.queue="fx"),a.old=a.complete,a.complete=function(){Y(a.old)&&a.old.call(this),a.queue&&i.dequeue(this,a.queue)},a},i.fn.extend({fadeTo:function(e,t,n,a){return this.filter(ur).css("opacity",0).show().end().animate({opacity:t},e,n,a)},animate:function(e,t,n,a){var l=i.isEmptyObject(e),u=i.speed(t,n,a),c=function(){var v=H(this,i.extend({},e),u);(l||Z.get(this,"finish"))&&v.stop(!0)};return c.finish=c,l||u.queue===!1?this.each(c):this.queue(u.queue,c)},stop:function(e,t,n){var a=function(l){var u=l.stop;delete l.stop,u(n)};return typeof e!="string"&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var l=!0,u=e!=null&&e+"queueHooks",c=i.timers,v=Z.get(this);if(u)v[u]&&v[u].stop&&a(v[u]);else for(u in v)v[u]&&v[u].stop&&_.test(u)&&a(v[u]);for(u=c.length;u--;)c[u].elem===this&&(e==null||c[u].queue===e)&&(c[u].anim.stop(n),l=!1,c.splice(u,1));(l||!n)&&i.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Z.get(this),a=n[e+"queue"],l=n[e+"queueHooks"],u=i.timers,c=a?a.length:0;for(n.finish=!0,i.queue(this,e,[]),l&&l.stop&&l.stop.call(this,!0),t=u.length;t--;)u[t].elem===this&&u[t].queue===e&&(u[t].anim.stop(!0),u.splice(t,1));for(t=0;t<c;t++)a[t]&&a[t].finish&&a[t].finish.call(this);delete n.finish})}}),i.each(["toggle","show","hide"],function(e,t){var n=i.fn[t];i.fn[t]=function(a,l,u){return a==null||typeof a=="boolean"?n.apply(this,arguments):this.animate(F(t,!0),a,l,u)}}),i.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){i.fn[e]=function(n,a,l){return this.animate(t,n,a,l)}}),i.timers=[],i.fx.tick=function(){var e,t=0,n=i.timers;for(d=Date.now();t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||i.fx.stop(),d=void 0},i.fx.timer=function(e){i.timers.push(e),i.fx.start()},i.fx.interval=13,i.fx.start=function(){b||(b=!0,S())},i.fx.stop=function(){b=null},i.fx.speeds={slow:600,fast:200,_default:400},i.fn.delay=function(e,t){return e=i.fx&&i.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(n,a){var l=s.setTimeout(n,e);a.stop=function(){s.clearTimeout(l)}})},function(){var e=re.createElement("input"),t=re.createElement("select"),n=t.appendChild(re.createElement("option"));e.type="checkbox",W.checkOn=e.value!=="",W.optSelected=n.selected,e=re.createElement("input"),e.value="t",e.type="radio",W.radioValue=e.value==="t"}();var te,de=i.expr.attrHandle;i.fn.extend({attr:function(e,t){return st(this,i.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){i.removeAttr(this,e)})}}),i.extend({attr:function(e,t,n){var a,l,u=e.nodeType;if(!(u===3||u===8||u===2)){if(typeof e.getAttribute=="undefined")return i.prop(e,t,n);if((u!==1||!i.isXMLDoc(e))&&(l=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?te:void 0)),n!==void 0){if(n===null){i.removeAttr(e,t);return}return l&&"set"in l&&(a=l.set(e,n,t))!==void 0?a:(e.setAttribute(t,n+""),n)}return l&&"get"in l&&(a=l.get(e,t))!==null?a:(a=i.find.attr(e,t),a==null?void 0:a)}},attrHooks:{type:{set:function(e,t){if(!W.radioValue&&t==="radio"&&J(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,a=0,l=t&&t.match(vt);if(l&&e.nodeType===1)for(;n=l[a++];)e.removeAttribute(n)}}),te={set:function(e,t,n){return t===!1?i.removeAttr(e,n):e.setAttribute(n,n),n}},i.each(i.expr.match.bool.source.match(/\w+/g),function(e,t){var n=de[t]||i.find.attr;de[t]=function(a,l,u){var c,v,g=l.toLowerCase();return u||(v=de[g],de[g]=c,c=n(a,l,u)!=null?g:null,de[g]=v),c}});var Ae=/^(?:input|select|textarea|button)$/i,Pe=/^(?:a|area)$/i;i.fn.extend({prop:function(e,t){return st(this,i.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[i.propFix[e]||e]})}}),i.extend({prop:function(e,t,n){var a,l,u=e.nodeType;if(!(u===3||u===8||u===2))return(u!==1||!i.isXMLDoc(e))&&(t=i.propFix[t]||t,l=i.propHooks[t]),n!==void 0?l&&"set"in l&&(a=l.set(e,n,t))!==void 0?a:e[t]=n:l&&"get"in l&&(a=l.get(e,t))!==null?a:e[t]},propHooks:{tabIndex:{get:function(e){var t=i.find.attr(e,"tabindex");return t?parseInt(t,10):Ae.test(e.nodeName)||Pe.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),W.optSelected||(i.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});function Oe(e){var t=e.match(vt)||[];return t.join(" ")}function Fe(e){return e.getAttribute&&e.getAttribute("class")||""}function Et(e){return Array.isArray(e)?e:typeof e=="string"?e.match(vt)||[]:[]}i.fn.extend({addClass:function(e){var t,n,a,l,u,c;return Y(e)?this.each(function(v){i(this).addClass(e.call(this,v,Fe(this)))}):(t=Et(e),t.length?this.each(function(){if(a=Fe(this),n=this.nodeType===1&&" "+Oe(a)+" ",n){for(u=0;u<t.length;u++)l=t[u],n.indexOf(" "+l+" ")<0&&(n+=l+" ");c=Oe(n),a!==c&&this.setAttribute("class",c)}}):this)},removeClass:function(e){var t,n,a,l,u,c;return Y(e)?this.each(function(v){i(this).removeClass(e.call(this,v,Fe(this)))}):arguments.length?(t=Et(e),t.length?this.each(function(){if(a=Fe(this),n=this.nodeType===1&&" "+Oe(a)+" ",n){for(u=0;u<t.length;u++)for(l=t[u];n.indexOf(" "+l+" ")>-1;)n=n.replace(" "+l+" "," ");c=Oe(n),a!==c&&this.setAttribute("class",c)}}):this):this.attr("class","")},toggleClass:function(e,t){var n,a,l,u,c=typeof e,v=c==="string"||Array.isArray(e);return Y(e)?this.each(function(g){i(this).toggleClass(e.call(this,g,Fe(this),t),t)}):typeof t=="boolean"&&v?t?this.addClass(e):this.removeClass(e):(n=Et(e),this.each(function(){if(v)for(u=i(this),l=0;l<n.length;l++)a=n[l],u.hasClass(a)?u.removeClass(a):u.addClass(a);else(e===void 0||c==="boolean")&&(a=Fe(this),a&&Z.set(this,"__className__",a),this.setAttribute&&this.setAttribute("class",a||e===!1?"":Z.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,a=0;for(t=" "+e+" ";n=this[a++];)if(n.nodeType===1&&(" "+Oe(Fe(n))+" ").indexOf(t)>-1)return!0;return!1}});var fn=/\r/g;i.fn.extend({val:function(e){var t,n,a,l=this[0];return arguments.length?(a=Y(e),this.each(function(u){var c;this.nodeType===1&&(a?c=e.call(this,u,i(this).val()):c=e,c==null?c="":typeof c=="number"?c+="":Array.isArray(c)&&(c=i.map(c,function(v){return v==null?"":v+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],(!t||!("set"in t)||t.set(this,c,"value")===void 0)&&(this.value=c))})):l?(t=i.valHooks[l.type]||i.valHooks[l.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(l,"value"))!==void 0?n:(n=l.value,typeof n=="string"?n.replace(fn,""):n==null?"":n)):void 0}}),i.extend({valHooks:{option:{get:function(e){var t=i.find.attr(e,"value");return t!=null?t:Oe(i.text(e))}},select:{get:function(e){var t,n,a,l=e.options,u=e.selectedIndex,c=e.type==="select-one",v=c?null:[],g=c?u+1:l.length;for(u<0?a=g:a=c?u:0;a<g;a++)if(n=l[a],(n.selected||a===u)&&!n.disabled&&(!n.parentNode.disabled||!J(n.parentNode,"optgroup"))){if(t=i(n).val(),c)return t;v.push(t)}return v},set:function(e,t){for(var n,a,l=e.options,u=i.makeArray(t),c=l.length;c--;)a=l[c],(a.selected=i.inArray(i.valHooks.option.get(a),u)>-1)&&(n=!0);return n||(e.selectedIndex=-1),u}}}}),i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=i.inArray(i(e).val(),t)>-1}},W.checkOn||(i.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var kr=s.location,ci={guid:Date.now()},cn=/\?/;i.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{t=new s.DOMParser().parseFromString(e,"text/xml")}catch(a){}return n=t&&t.getElementsByTagName("parsererror")[0],(!t||n)&&i.error("Invalid XML: "+(n?i.map(n.childNodes,function(a){return a.textContent}).join(`
`):e)),t};var Hi=/^(?:focusinfocus|focusoutblur)$/,di=function(e){e.stopPropagation()};i.extend(i.event,{trigger:function(e,t,n,a){var l,u,c,v,g,T,I,O,k=[n||re],U=ae.call(e,"type")?e.type:e,ue=ae.call(e,"namespace")?e.namespace.split("."):[];if(u=O=c=n=n||re,!(n.nodeType===3||n.nodeType===8)&&!Hi.test(U+i.event.triggered)&&(U.indexOf(".")>-1&&(ue=U.split("."),U=ue.shift(),ue.sort()),g=U.indexOf(":")<0&&"on"+U,e=e[i.expando]?e:new i.Event(U,typeof e=="object"&&e),e.isTrigger=a?2:3,e.namespace=ue.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+ue.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=t==null?[e]:i.makeArray(t,[e]),I=i.event.special[U]||{},!(!a&&I.trigger&&I.trigger.apply(n,t)===!1))){if(!a&&!I.noBubble&&!_e(n)){for(v=I.delegateType||U,Hi.test(v+U)||(u=u.parentNode);u;u=u.parentNode)k.push(u),c=u;c===(n.ownerDocument||re)&&k.push(c.defaultView||c.parentWindow||s)}for(l=0;(u=k[l++])&&!e.isPropagationStopped();)O=u,e.type=l>1?v:I.bindType||U,T=(Z.get(u,"events")||Object.create(null))[e.type]&&Z.get(u,"handle"),T&&T.apply(u,t),T=g&&u[g],T&&T.apply&&Zt(u)&&(e.result=T.apply(u,t),e.result===!1&&e.preventDefault());return e.type=U,!a&&!e.isDefaultPrevented()&&(!I._default||I._default.apply(k.pop(),t)===!1)&&Zt(n)&&g&&Y(n[U])&&!_e(n)&&(c=n[g],c&&(n[g]=null),i.event.triggered=U,e.isPropagationStopped()&&O.addEventListener(U,di),n[U](),e.isPropagationStopped()&&O.removeEventListener(U,di),i.event.triggered=void 0,c&&(n[g]=c)),e.result}},simulate:function(e,t,n){var a=i.extend(new i.Event,n,{type:e,isSimulated:!0});i.event.trigger(a,null,t)}}),i.fn.extend({trigger:function(e,t){return this.each(function(){i.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return i.event.trigger(e,t,n,!0)}});var Ui=/\[\]$/,On=/\r?\n/g,Ts=/^(?:submit|button|image|reset|file)$/i,Ss=/^(?:input|select|textarea|keygen)/i;function ji(e,t,n,a){var l;if(Array.isArray(t))i.each(t,function(u,c){n||Ui.test(e)?a(e,c):ji(e+"["+(typeof c=="object"&&c!=null?u:"")+"]",c,n,a)});else if(!n&&ke(t)==="object")for(l in t)ji(e+"["+l+"]",t[l],n,a);else a(e,t)}i.param=function(e,t){var n,a=[],l=function(u,c){var v=Y(c)?c():c;a[a.length]=encodeURIComponent(u)+"="+encodeURIComponent(v==null?"":v)};if(e==null)return"";if(Array.isArray(e)||e.jquery&&!i.isPlainObject(e))i.each(e,function(){l(this.name,this.value)});else for(n in e)ji(n,e[n],t,l);return a.join("&")},i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=i.prop(this,"elements");return e?i.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!i(this).is(":disabled")&&Ss.test(this.nodeName)&&!Ts.test(e)&&(this.checked||!bt.test(e))}).map(function(e,t){var n=i(this).val();return n==null?null:Array.isArray(n)?i.map(n,function(a){return{name:t.name,value:a.replace(On,`\r
`)}}):{name:t.name,value:n.replace(On,`\r
`)}}).get()}});var Cs=/%20/g,As=/#.*$/,ks=/([?&])_=[^&]*/,Ds=/^(.*?):[ \t]*([^\r\n]*)$/mg,Rs=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ls=/^(?:GET|HEAD)$/,Ps=/^\/\//,Go={},Bi={},Vo="*/".concat("*"),$i=re.createElement("a");$i.href=kr.href;function qo(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var a,l=0,u=t.toLowerCase().match(vt)||[];if(Y(n))for(;a=u[l++];)a[0]==="+"?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(n)):(e[a]=e[a]||[]).push(n)}}function Yo(e,t,n,a){var l={},u=e===Bi;function c(v){var g;return l[v]=!0,i.each(e[v]||[],function(T,I){var O=I(t,n,a);if(typeof O=="string"&&!u&&!l[O])return t.dataTypes.unshift(O),c(O),!1;if(u)return!(g=O)}),g}return c(t.dataTypes[0])||!l["*"]&&c("*")}function zi(e,t){var n,a,l=i.ajaxSettings.flatOptions||{};for(n in t)t[n]!==void 0&&((l[n]?e:a||(a={}))[n]=t[n]);return a&&i.extend(!0,e,a),e}function Is(e,t,n){for(var a,l,u,c,v=e.contents,g=e.dataTypes;g[0]==="*";)g.shift(),a===void 0&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a){for(l in v)if(v[l]&&v[l].test(a)){g.unshift(l);break}}if(g[0]in n)u=g[0];else{for(l in n){if(!g[0]||e.converters[l+" "+g[0]]){u=l;break}c||(c=l)}u=u||c}if(u)return u!==g[0]&&g.unshift(u),n[u]}function Fs(e,t,n,a){var l,u,c,v,g,T={},I=e.dataTypes.slice();if(I[1])for(c in e.converters)T[c.toLowerCase()]=e.converters[c];for(u=I.shift();u;)if(e.responseFields[u]&&(n[e.responseFields[u]]=t),!g&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),g=u,u=I.shift(),u){if(u==="*")u=g;else if(g!=="*"&&g!==u){if(c=T[g+" "+u]||T["* "+u],!c){for(l in T)if(v=l.split(" "),v[1]===u&&(c=T[g+" "+v[0]]||T["* "+v[0]],c)){c===!0?c=T[l]:T[l]!==!0&&(u=v[0],I.unshift(v[1]));break}}if(c!==!0)if(c&&e.throws)t=c(t);else try{t=c(t)}catch(O){return{state:"parsererror",error:c?O:"No conversion from "+g+" to "+u}}}}return{state:"success",data:t}}i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kr.href,type:"GET",isLocal:Rs.test(kr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zi(zi(e,i.ajaxSettings),t):zi(i.ajaxSettings,e)},ajaxPrefilter:qo(Go),ajaxTransport:qo(Bi),ajax:function(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};var n,a,l,u,c,v,g,T,I,O,k=i.ajaxSetup({},t),U=k.context||k,ue=k.context&&(U.nodeType||U.jquery)?i(U):i.event,Te=i.Deferred(),ge=i.Callbacks("once memory"),ht=k.statusCode||{},it={},cr={},dr="canceled",Ee={readyState:0,getResponseHeader:function(Se){var Xe;if(g){if(!u)for(u={};Xe=Ds.exec(l);)u[Xe[1].toLowerCase()+" "]=(u[Xe[1].toLowerCase()+" "]||[]).concat(Xe[2]);Xe=u[Se.toLowerCase()+" "]}return Xe==null?null:Xe.join(", ")},getAllResponseHeaders:function(){return g?l:null},setRequestHeader:function(Se,Xe){return g==null&&(Se=cr[Se.toLowerCase()]=cr[Se.toLowerCase()]||Se,it[Se]=Xe),this},overrideMimeType:function(Se){return g==null&&(k.mimeType=Se),this},statusCode:function(Se){var Xe;if(Se)if(g)Ee.always(Se[Ee.status]);else for(Xe in Se)ht[Xe]=[ht[Xe],Se[Xe]];return this},abort:function(Se){var Xe=Se||dr;return n&&n.abort(Xe),dn(0,Xe),this}};if(Te.promise(Ee),k.url=((e||k.url||kr.href)+"").replace(Ps,kr.protocol+"//"),k.type=t.method||t.type||k.method||k.type,k.dataTypes=(k.dataType||"*").toLowerCase().match(vt)||[""],k.crossDomain==null){v=re.createElement("a");try{v.href=k.url,v.href=v.href,k.crossDomain=$i.protocol+"//"+$i.host!=v.protocol+"//"+v.host}catch(Se){k.crossDomain=!0}}if(k.data&&k.processData&&typeof k.data!="string"&&(k.data=i.param(k.data,k.traditional)),Yo(Go,k,t,Ee),g)return Ee;T=i.event&&k.global,T&&i.active++==0&&i.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ls.test(k.type),a=k.url.replace(As,""),k.hasContent?k.data&&k.processData&&(k.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(k.data=k.data.replace(Cs,"+")):(O=k.url.slice(a.length),k.data&&(k.processData||typeof k.data=="string")&&(a+=(cn.test(a)?"&":"?")+k.data,delete k.data),k.cache===!1&&(a=a.replace(ks,"$1"),O=(cn.test(a)?"&":"?")+"_="+ci.guid+++O),k.url=a+O),k.ifModified&&(i.lastModified[a]&&Ee.setRequestHeader("If-Modified-Since",i.lastModified[a]),i.etag[a]&&Ee.setRequestHeader("If-None-Match",i.etag[a])),(k.data&&k.hasContent&&k.contentType!==!1||t.contentType)&&Ee.setRequestHeader("Content-Type",k.contentType),Ee.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(k.dataTypes[0]!=="*"?", "+Vo+"; q=0.01":""):k.accepts["*"]);for(I in k.headers)Ee.setRequestHeader(I,k.headers[I]);if(k.beforeSend&&(k.beforeSend.call(U,Ee,k)===!1||g))return Ee.abort();if(dr="abort",ge.add(k.complete),Ee.done(k.success),Ee.fail(k.error),n=Yo(Bi,k,t,Ee),!n)dn(-1,"No Transport");else{if(Ee.readyState=1,T&&ue.trigger("ajaxSend",[Ee,k]),g)return Ee;k.async&&k.timeout>0&&(c=s.setTimeout(function(){Ee.abort("timeout")},k.timeout));try{g=!1,n.send(it,dn)}catch(Se){if(g)throw Se;dn(-1,Se)}}function dn(Se,Xe,Wn,Vi){var hr,Hn,pr,zr,Gr,zt=Xe;g||(g=!0,c&&s.clearTimeout(c),n=void 0,l=Vi||"",Ee.readyState=Se>0?4:0,hr=Se>=200&&Se<300||Se===304,Wn&&(zr=Is(k,Ee,Wn)),!hr&&i.inArray("script",k.dataTypes)>-1&&i.inArray("json",k.dataTypes)<0&&(k.converters["text script"]=function(){}),zr=Fs(k,zr,Ee,hr),hr?(k.ifModified&&(Gr=Ee.getResponseHeader("Last-Modified"),Gr&&(i.lastModified[a]=Gr),Gr=Ee.getResponseHeader("etag"),Gr&&(i.etag[a]=Gr)),Se===204||k.type==="HEAD"?zt="nocontent":Se===304?zt="notmodified":(zt=zr.state,Hn=zr.data,pr=zr.error,hr=!pr)):(pr=zt,(Se||!zt)&&(zt="error",Se<0&&(Se=0))),Ee.status=Se,Ee.statusText=(Xe||zt)+"",hr?Te.resolveWith(U,[Hn,zt,Ee]):Te.rejectWith(U,[Ee,zt,pr]),Ee.statusCode(ht),ht=void 0,T&&ue.trigger(hr?"ajaxSuccess":"ajaxError",[Ee,k,hr?Hn:pr]),ge.fireWith(U,[Ee,zt]),T&&(ue.trigger("ajaxComplete",[Ee,k]),--i.active||i.event.trigger("ajaxStop")))}return Ee},getJSON:function(e,t,n){return i.get(e,t,n,"json")},getScript:function(e,t){return i.get(e,void 0,t,"script")}}),i.each(["get","post"],function(e,t){i[t]=function(n,a,l,u){return Y(a)&&(u=u||l,l=a,a=void 0),i.ajax(i.extend({url:n,type:t,dataType:u,data:a,success:l},i.isPlainObject(n)&&n))}}),i.ajaxPrefilter(function(e){var t;for(t in e.headers)t.toLowerCase()==="content-type"&&(e.contentType=e.headers[t]||"")}),i._evalUrl=function(e,t,n){return i.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(a){i.globalEval(a,t,n)}})},i.fn.extend({wrapAll:function(e){var t;return this[0]&&(Y(e)&&(e=e.call(this[0])),t=i(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(e){return Y(e)?this.each(function(t){i(this).wrapInner(e.call(this,t))}):this.each(function(){var t=i(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Y(e);return this.each(function(n){i(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(e){return!i.expr.pseudos.visible(e)},i.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new s.XMLHttpRequest}catch(e){}};var Ms={0:200,1223:204},Nn=i.ajaxSettings.xhr();W.cors=!!Nn&&"withCredentials"in Nn,W.ajax=Nn=!!Nn,i.ajaxTransport(function(e){var t,n;if(W.cors||Nn&&!e.crossDomain)return{send:function(a,l){var u,c=e.xhr();if(c.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(u in e.xhrFields)c[u]=e.xhrFields[u];e.mimeType&&c.overrideMimeType&&c.overrideMimeType(e.mimeType),!e.crossDomain&&!a["X-Requested-With"]&&(a["X-Requested-With"]="XMLHttpRequest");for(u in a)c.setRequestHeader(u,a[u]);t=function(v){return function(){t&&(t=n=c.onload=c.onerror=c.onabort=c.ontimeout=c.onreadystatechange=null,v==="abort"?c.abort():v==="error"?typeof c.status!="number"?l(0,"error"):l(c.status,c.statusText):l(Ms[c.status]||c.status,c.statusText,(c.responseType||"text")!=="text"||typeof c.responseText!="string"?{binary:c.response}:{text:c.responseText},c.getAllResponseHeaders()))}},c.onload=t(),n=c.onerror=c.ontimeout=t("error"),c.onabort!==void 0?c.onabort=n:c.onreadystatechange=function(){c.readyState===4&&s.setTimeout(function(){t&&n()})},t=t("abort");try{c.send(e.hasContent&&e.data||null)}catch(v){if(t)throw v}},abort:function(){t&&t()}}}),i.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return i.globalEval(e),e}}}),i.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),i.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(a,l){t=i("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(u){t.remove(),n=null,u&&l(u.type==="error"?404:200,u.type)}),re.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Xo=[],Gi=/(=)\?(?=&|$)|\?\?/;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xo.pop()||i.expando+"_"+ci.guid++;return this[e]=!0,e}}),i.ajaxPrefilter("json jsonp",function(e,t,n){var a,l,u,c=e.jsonp!==!1&&(Gi.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Gi.test(e.data)&&"data");if(c||e.dataTypes[0]==="jsonp")return a=e.jsonpCallback=Y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,c?e[c]=e[c].replace(Gi,"$1"+a):e.jsonp!==!1&&(e.url+=(cn.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return u||i.error(a+" was not called"),u[0]},e.dataTypes[0]="json",l=s[a],s[a]=function(){u=arguments},n.always(function(){l===void 0?i(s).removeProp(a):s[a]=l,e[a]&&(e.jsonpCallback=t.jsonpCallback,Xo.push(a)),u&&Y(l)&&l(u[0]),u=l=void 0}),"script"}),W.createHTMLDocument=function(){var e=re.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",e.childNodes.length===2}(),i.parseHTML=function(e,t,n){if(typeof e!="string")return[];typeof t=="boolean"&&(n=t,t=!1);var a,l,u;return t||(W.createHTMLDocument?(t=re.implementation.createHTMLDocument(""),a=t.createElement("base"),a.href=re.location.href,t.head.appendChild(a)):t=re),l=$e.exec(e),u=!n&&[],l?[t.createElement(l[1])]:(l=rn([e],t,u),u&&u.length&&i(u).remove(),i.merge([],l.childNodes))},i.fn.load=function(e,t,n){var a,l,u,c=this,v=e.indexOf(" ");return v>-1&&(a=Oe(e.slice(v)),e=e.slice(0,v)),Y(t)?(n=t,t=void 0):t&&typeof t=="object"&&(l="POST"),c.length>0&&i.ajax({url:e,type:l||"GET",dataType:"html",data:t}).done(function(g){u=arguments,c.html(a?i("<div>").append(i.parseHTML(g)).find(a):g)}).always(n&&function(g,T){c.each(function(){n.apply(this,u||[g.responseText,T,g])})}),this},i.expr.pseudos.animated=function(e){return i.grep(i.timers,function(t){return e===t.elem}).length},i.offset={setOffset:function(e,t,n){var a,l,u,c,v,g,T,I=i.css(e,"position"),O=i(e),k={};I==="static"&&(e.style.position="relative"),v=O.offset(),u=i.css(e,"top"),g=i.css(e,"left"),T=(I==="absolute"||I==="fixed")&&(u+g).indexOf("auto")>-1,T?(a=O.position(),c=a.top,l=a.left):(c=parseFloat(u)||0,l=parseFloat(g)||0),Y(t)&&(t=t.call(e,n,i.extend({},v))),t.top!=null&&(k.top=t.top-v.top+c),t.left!=null&&(k.left=t.left-v.left+l),"using"in t?t.using.call(e,k):O.css(k)}},i.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(l){i.offset.setOffset(this,e,l)});var t,n,a=this[0];if(!!a)return a.getClientRects().length?(t=a.getBoundingClientRect(),n=a.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var e,t,n,a=this[0],l={top:0,left:0};if(i.css(a,"position")==="fixed")t=a.getBoundingClientRect();else{for(t=this.offset(),n=a.ownerDocument,e=a.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&i.css(e,"position")==="static";)e=e.parentNode;e&&e!==a&&e.nodeType===1&&(l=i(e).offset(),l.top+=i.css(e,"borderTopWidth",!0),l.left+=i.css(e,"borderLeftWidth",!0))}return{top:t.top-l.top-i.css(a,"marginTop",!0),left:t.left-l.left-i.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&i.css(e,"position")==="static";)e=e.offsetParent;return e||St})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=t==="pageYOffset";i.fn[e]=function(a){return st(this,function(l,u,c){var v;if(_e(l)?v=l:l.nodeType===9&&(v=l.defaultView),c===void 0)return v?v[t]:l[u];v?v.scrollTo(n?v.pageXOffset:c,n?c:v.pageYOffset):l[u]=c},e,a,arguments.length)}}),i.each(["top","left"],function(e,t){i.cssHooks[t]=Ze(W.pixelPosition,function(n,a){if(a)return a=Ce(n,t),ln.test(a)?i(n).position()[t]+"px":a})}),i.each({Height:"height",Width:"width"},function(e,t){i.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,a){i.fn[a]=function(l,u){var c=arguments.length&&(n||typeof l!="boolean"),v=n||(l===!0||u===!0?"margin":"border");return st(this,function(g,T,I){var O;return _e(g)?a.indexOf("outer")===0?g["inner"+e]:g.document.documentElement["client"+e]:g.nodeType===9?(O=g.documentElement,Math.max(g.body["scroll"+e],O["scroll"+e],g.body["offset"+e],O["offset"+e],O["client"+e])):I===void 0?i.css(g,T,v):i.style(g,T,I,v)},t,c?l:void 0,c)}})}),i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){i.fn[t]=function(n){return this.on(t,n)}}),i.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,a){return this.on(t,e,n,a)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){i.fn[t]=function(n,a){return arguments.length>0?this.on(t,null,n,a):this.trigger(t)}});var Os=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;i.proxy=function(e,t){var n,a,l;if(typeof t=="string"&&(n=e[t],t=e,e=n),!!Y(e))return a=h.call(arguments,2),l=function(){return e.apply(t||this,a.concat(h.call(arguments)))},l.guid=e.guid=e.guid||i.guid++,l},i.holdReady=function(e){e?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=J,i.isFunction=Y,i.isWindow=_e,i.camelCase=ut,i.type=ke,i.now=Date.now,i.isNumeric=function(e){var t=i.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},i.trim=function(e){return e==null?"":(e+"").replace(Os,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return i});var Ns=s.jQuery,Ws=s.$;return i.noConflict=function(e){return s.$===i&&(s.$=Ws),e&&s.jQuery===i&&(s.jQuery=Ns),i},typeof r=="undefined"&&(s.jQuery=s.$=i),i})});var Za=Ji((nc,Ka)=>{"use strict";var{entries:Na,setPrototypeOf:Wa,isFrozen:nl,getPrototypeOf:il,getOwnPropertyDescriptor:ol}=Object,{freeze:At,seal:qt,create:Ha}=Object,{apply:So,construct:Co}=typeof Reflect!="undefined"&&Reflect;At||(At=function(r){return r});qt||(qt=function(r){return r});So||(So=function(r,o,f){return r.apply(o,f)});Co||(Co=function(r,o){return new r(...o)});var Ai=Dt(Array.prototype.forEach),al=Dt(Array.prototype.lastIndexOf),Ua=Dt(Array.prototype.pop),Xn=Dt(Array.prototype.push),sl=Dt(Array.prototype.splice),ki=Dt(String.prototype.toLowerCase),Ao=Dt(String.prototype.toString),ja=Dt(String.prototype.match),Qn=Dt(String.prototype.replace),ll=Dt(String.prototype.indexOf),ul=Dt(String.prototype.trim),ar=Dt(Object.prototype.hasOwnProperty),kt=Dt(RegExp.prototype.test),Kn=fl(TypeError);function Dt(s){return function(r){for(var o=arguments.length,f=new Array(o>1?o-1:0),h=1;h<o;h++)f[h-1]=arguments[h];return So(s,r,f)}}function fl(s){return function(){for(var r=arguments.length,o=new Array(r),f=0;f<r;f++)o[f]=arguments[f];return Co(s,o)}}function we(s,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ki;Wa&&Wa(s,null);let f=r.length;for(;f--;){let h=r[f];if(typeof h=="string"){let E=o(h);E!==h&&(nl(r)||(r[f]=E),h=E)}s[h]=!0}return s}function cl(s){for(let r=0;r<s.length;r++)ar(s,r)||(s[r]=null);return s}function bn(s){let r=Ha(null);for(let[o,f]of Na(s))ar(s,o)&&(Array.isArray(f)?r[o]=cl(f):f&&typeof f=="object"&&f.constructor===Object?r[o]=bn(f):r[o]=f);return r}function Zn(s,r){for(;s!==null;){let f=ol(s,r);if(f){if(f.get)return Dt(f.get);if(typeof f.value=="function")return Dt(f.value)}s=il(s)}function o(){return null}return o}var Ba=At(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ko=At(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Do=At(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dl=At(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ro=At(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),hl=At(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$a=At(["#text"]),za=At(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Lo=At(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ga=At(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Di=At(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),pl=qt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ml=qt(/<%[\w\W]*|[\w\W]*%>/gm),gl=qt(/\$\{[\w\W]*/gm),vl=qt(/^data-[\-\w.\u00B7-\uFFFF]+$/),bl=qt(/^aria-[\-\w]+$/),Va=qt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yl=qt(/^(?:\w+script|data):/i),wl=qt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qa=qt(/^html$/i),El=qt(/^[a-z][.\w]*(-[.\w]+)+$/i),Ya=Object.freeze({__proto__:null,ARIA_ATTR:bl,ATTR_WHITESPACE:wl,CUSTOM_ELEMENT:El,DATA_ATTR:vl,DOCTYPE_NAME:qa,ERB_EXPR:ml,IS_ALLOWED_URI:Va,IS_SCRIPT_OR_DATA:yl,MUSTACHE_EXPR:pl,TMPLIT_EXPR:gl}),Jn={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},xl=function(){return typeof window=="undefined"?null:window},_l=function(r,o){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let f=null,h="data-tt-policy-suffix";o&&o.hasAttribute(h)&&(f=o.getAttribute(h));let E="dompurify"+(f?"#"+f:"");try{return r.createPolicy(E,{createHTML(C){return C},createScriptURL(C){return C}})}catch(C){return console.warn("TrustedTypes policy "+E+" could not be created."),null}},Xa=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Qa(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xl(),r=ne=>Qa(ne);if(r.version="3.2.4",r.removed=[],!s||!s.document||s.document.nodeType!==Jn.document||!s.Element)return r.isSupported=!1,r;let{document:o}=s,f=o,h=f.currentScript,{DocumentFragment:E,HTMLTemplateElement:C,Node:P,Element:L,NodeFilter:q,NamedNodeMap:ae=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:Ie,DOMParser:G,trustedTypes:W}=s,Y=L.prototype,_e=Zn(Y,"cloneNode"),re=Zn(Y,"remove"),We=Zn(Y,"nextSibling"),at=Zn(Y,"childNodes"),ke=Zn(Y,"parentNode");if(typeof C=="function"){let ne=o.createElement("template");ne.content&&ne.content.ownerDocument&&(o=ne.content.ownerDocument)}let De,rt="",{implementation:i,createNodeIterator:pe,createDocumentFragment:J,getElementsByTagName:Re}=o,{importNode:Ke}=f,Le=Xa();r.isSupported=typeof Na=="function"&&typeof ke=="function"&&i&&i.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:fe,ERB_EXPR:Ye,TMPLIT_EXPR:Tt,DATA_ATTR:wr,ARIA_ATTR:pt,IS_SCRIPT_OR_DATA:Er,ATTR_WHITESPACE:mt,CUSTOM_ELEMENT:Qr}=Ya,{IS_ALLOWED_URI:Kr}=Ya,$e=null,gt=we({},[...Ba,...ko,...Do,...Ro,...$a]),ze=null,xn=we({},[...za,...Lo,...Ga,...Di]),Ue=Object.seal(Ha(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xr=null,Zr=null,Jr=!0,vt=!0,_n=!1,Xt=!0,Nt=!1,Mr=!0,Qt=!1,_r=!1,lt=!1,st=!1,Tr=!1,Kt=!1,Or=!0,ut=!1,Zt="user-content-",jt=!0,Z=!1,Be={},Jt=null,en=we({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),tn=null,Nr=we({},["audio","video","img","source","image","track"]),Sr=null,er=we({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ft="http://www.w3.org/1998/Math/MathML",St="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml",Bt=nt,ur=!1,Wr=null,Hr=we({},[ft,St,nt],Ao),Cr=we({},["mi","mo","mn","ms","mtext"]),Wt=we({},["annotation-xml"]),bt=we({},["title","style","font","a","script"]),fr=null,Tn=["application/xhtml+xml","text/html"],ct="text/html",xe=null,$t=null,Mn=o.createElement("form"),rn=function(w){return w instanceof RegExp||w instanceof Function},Ur=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!($t&&$t===w)){if((!w||typeof w!="object")&&(w={}),w=bn(w),fr=Tn.indexOf(w.PARSER_MEDIA_TYPE)===-1?ct:w.PARSER_MEDIA_TYPE,xe=fr==="application/xhtml+xml"?Ao:ki,$e=ar(w,"ALLOWED_TAGS")?we({},w.ALLOWED_TAGS,xe):gt,ze=ar(w,"ALLOWED_ATTR")?we({},w.ALLOWED_ATTR,xe):xn,Wr=ar(w,"ALLOWED_NAMESPACES")?we({},w.ALLOWED_NAMESPACES,Ao):Hr,Sr=ar(w,"ADD_URI_SAFE_ATTR")?we(bn(er),w.ADD_URI_SAFE_ATTR,xe):er,tn=ar(w,"ADD_DATA_URI_TAGS")?we(bn(Nr),w.ADD_DATA_URI_TAGS,xe):Nr,Jt=ar(w,"FORBID_CONTENTS")?we({},w.FORBID_CONTENTS,xe):en,xr=ar(w,"FORBID_TAGS")?we({},w.FORBID_TAGS,xe):{},Zr=ar(w,"FORBID_ATTR")?we({},w.FORBID_ATTR,xe):{},Be=ar(w,"USE_PROFILES")?w.USE_PROFILES:!1,Jr=w.ALLOW_ARIA_ATTR!==!1,vt=w.ALLOW_DATA_ATTR!==!1,_n=w.ALLOW_UNKNOWN_PROTOCOLS||!1,Xt=w.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Nt=w.SAFE_FOR_TEMPLATES||!1,Mr=w.SAFE_FOR_XML!==!1,Qt=w.WHOLE_DOCUMENT||!1,st=w.RETURN_DOM||!1,Tr=w.RETURN_DOM_FRAGMENT||!1,Kt=w.RETURN_TRUSTED_TYPE||!1,lt=w.FORCE_BODY||!1,Or=w.SANITIZE_DOM!==!1,ut=w.SANITIZE_NAMED_PROPS||!1,jt=w.KEEP_CONTENT!==!1,Z=w.IN_PLACE||!1,Kr=w.ALLOWED_URI_REGEXP||Va,Bt=w.NAMESPACE||nt,Cr=w.MATHML_TEXT_INTEGRATION_POINTS||Cr,Wt=w.HTML_INTEGRATION_POINTS||Wt,Ue=w.CUSTOM_ELEMENT_HANDLING||{},w.CUSTOM_ELEMENT_HANDLING&&rn(w.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ue.tagNameCheck=w.CUSTOM_ELEMENT_HANDLING.tagNameCheck),w.CUSTOM_ELEMENT_HANDLING&&rn(w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ue.attributeNameCheck=w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),w.CUSTOM_ELEMENT_HANDLING&&typeof w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ue.allowCustomizedBuiltInElements=w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Nt&&(vt=!1),Tr&&(st=!0),Be&&($e=we({},$a),ze=[],Be.html===!0&&(we($e,Ba),we(ze,za)),Be.svg===!0&&(we($e,ko),we(ze,Lo),we(ze,Di)),Be.svgFilters===!0&&(we($e,Do),we(ze,Lo),we(ze,Di)),Be.mathMl===!0&&(we($e,Ro),we(ze,Ga),we(ze,Di))),w.ADD_TAGS&&($e===gt&&($e=bn($e)),we($e,w.ADD_TAGS,xe)),w.ADD_ATTR&&(ze===xn&&(ze=bn(ze)),we(ze,w.ADD_ATTR,xe)),w.ADD_URI_SAFE_ATTR&&we(Sr,w.ADD_URI_SAFE_ATTR,xe),w.FORBID_CONTENTS&&(Jt===en&&(Jt=bn(Jt)),we(Jt,w.FORBID_CONTENTS,xe)),jt&&($e["#text"]=!0),Qt&&we($e,["html","head","body"]),$e.table&&(we($e,["tbody"]),delete xr.tbody),w.TRUSTED_TYPES_POLICY){if(typeof w.TRUSTED_TYPES_POLICY.createHTML!="function")throw Kn('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof w.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Kn('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');De=w.TRUSTED_TYPES_POLICY,rt=De.createHTML("")}else De===void 0&&(De=_l(W,h)),De!==null&&typeof rt=="string"&&(rt=De.createHTML(""));At&&At(w),$t=w}},tr=we({},[...ko,...Do,...dl]),rr=we({},[...Ro,...hl]),nn=function(w){let j=ke(w);(!j||!j.tagName)&&(j={namespaceURI:Bt,tagName:"template"});let ee=ki(w.tagName),Ce=ki(j.tagName);return Wr[w.namespaceURI]?w.namespaceURI===St?j.namespaceURI===nt?ee==="svg":j.namespaceURI===ft?ee==="svg"&&(Ce==="annotation-xml"||Cr[Ce]):Boolean(tr[ee]):w.namespaceURI===ft?j.namespaceURI===nt?ee==="math":j.namespaceURI===St?ee==="math"&&Wt[Ce]:Boolean(rr[ee]):w.namespaceURI===nt?j.namespaceURI===St&&!Wt[Ce]||j.namespaceURI===ft&&!Cr[Ce]?!1:!rr[ee]&&(bt[ee]||!tr[ee]):!!(fr==="application/xhtml+xml"&&Wr[w.namespaceURI]):!1},dt=function(w){Xn(r.removed,{element:w});try{ke(w).removeChild(w)}catch(j){re(w)}},jr=function(w,j){try{Xn(r.removed,{attribute:j.getAttributeNode(w),from:j})}catch(ee){Xn(r.removed,{attribute:null,from:j})}if(j.removeAttribute(w),w==="is")if(st||Tr)try{dt(j)}catch(ee){}else try{j.setAttribute(w,"")}catch(ee){}},on=function(w){let j=null,ee=null;if(lt)w="<remove></remove>"+w;else{let Ge=ja(w,/^[\r\n\t ]+/);ee=Ge&&Ge[0]}fr==="application/xhtml+xml"&&Bt===nt&&(w='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+w+"</body></html>");let Ce=De?De.createHTML(w):w;if(Bt===nt)try{j=new G().parseFromString(Ce,fr)}catch(Ge){}if(!j||!j.documentElement){j=i.createDocument(Bt,"template",null);try{j.documentElement.innerHTML=ur?rt:Ce}catch(Ge){}}let Ze=j.body||j.documentElement;return w&&ee&&Ze.insertBefore(o.createTextNode(ee),Ze.childNodes[0]||null),Bt===nt?Re.call(j,Qt?"html":"body")[0]:Qt?j.documentElement:Ze},Sn=function(w){return pe.call(w.ownerDocument||w,w,q.SHOW_ELEMENT|q.SHOW_COMMENT|q.SHOW_TEXT|q.SHOW_PROCESSING_INSTRUCTION|q.SHOW_CDATA_SECTION,null)},Br=function(w){return w instanceof Ie&&(typeof w.nodeName!="string"||typeof w.textContent!="string"||typeof w.removeChild!="function"||!(w.attributes instanceof ae)||typeof w.removeAttribute!="function"||typeof w.setAttribute!="function"||typeof w.namespaceURI!="string"||typeof w.insertBefore!="function"||typeof w.hasChildNodes!="function")},Cn=function(w){return typeof P=="function"&&w instanceof P};function Ht(ne,w,j){Ai(ne,ee=>{ee.call(r,w,j,$t)})}let an=function(w){let j=null;if(Ht(Le.beforeSanitizeElements,w,null),Br(w))return dt(w),!0;let ee=xe(w.nodeName);if(Ht(Le.uponSanitizeElement,w,{tagName:ee,allowedTags:$e}),w.hasChildNodes()&&!Cn(w.firstElementChild)&&kt(/<[/\w]/g,w.innerHTML)&&kt(/<[/\w]/g,w.textContent)||w.nodeType===Jn.progressingInstruction||Mr&&w.nodeType===Jn.comment&&kt(/<[/\w]/g,w.data))return dt(w),!0;if(!$e[ee]||xr[ee]){if(!xr[ee]&&nr(ee)&&(Ue.tagNameCheck instanceof RegExp&&kt(Ue.tagNameCheck,ee)||Ue.tagNameCheck instanceof Function&&Ue.tagNameCheck(ee)))return!1;if(jt&&!Jt[ee]){let Ce=ke(w)||w.parentNode,Ze=at(w)||w.childNodes;if(Ze&&Ce){let Ge=Ze.length;for(let Ve=Ge-1;Ve>=0;--Ve){let yt=_e(Ze[Ve],!0);yt.__removalCount=(w.__removalCount||0)+1,Ce.insertBefore(yt,We(w))}}}return dt(w),!0}return w instanceof L&&!nn(w)||(ee==="noscript"||ee==="noembed"||ee==="noframes")&&kt(/<\/no(script|embed|frames)/i,w.innerHTML)?(dt(w),!0):(Nt&&w.nodeType===Jn.text&&(j=w.textContent,Ai([fe,Ye,Tt],Ce=>{j=Qn(j,Ce," ")}),w.textContent!==j&&(Xn(r.removed,{element:w.cloneNode()}),w.textContent=j)),Ht(Le.afterSanitizeElements,w,null),!1)},An=function(w,j,ee){if(Or&&(j==="id"||j==="name")&&(ee in o||ee in Mn))return!1;if(!(vt&&!Zr[j]&&kt(wr,j))){if(!(Jr&&kt(pt,j))){if(!ze[j]||Zr[j]){if(!(nr(w)&&(Ue.tagNameCheck instanceof RegExp&&kt(Ue.tagNameCheck,w)||Ue.tagNameCheck instanceof Function&&Ue.tagNameCheck(w))&&(Ue.attributeNameCheck instanceof RegExp&&kt(Ue.attributeNameCheck,j)||Ue.attributeNameCheck instanceof Function&&Ue.attributeNameCheck(j))||j==="is"&&Ue.allowCustomizedBuiltInElements&&(Ue.tagNameCheck instanceof RegExp&&kt(Ue.tagNameCheck,ee)||Ue.tagNameCheck instanceof Function&&Ue.tagNameCheck(ee))))return!1}else if(!Sr[j]){if(!kt(Kr,Qn(ee,mt,""))){if(!((j==="src"||j==="xlink:href"||j==="href")&&w!=="script"&&ll(ee,"data:")===0&&tn[w])){if(!(_n&&!kt(Er,Qn(ee,mt,"")))){if(ee)return!1}}}}}}return!0},nr=function(w){return w!=="annotation-xml"&&ja(w,Qr)},sn=function(w){Ht(Le.beforeSanitizeAttributes,w,null);let{attributes:j}=w;if(!j||Br(w))return;let ee={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ze,forceKeepAttr:void 0},Ce=j.length;for(;Ce--;){let Ze=j[Ce],{name:Ge,namespaceURI:Ve,value:yt}=Ze,Lt=xe(Ge),Je=Ge==="value"?yt:ul(yt);if(ee.attrName=Lt,ee.attrValue=Je,ee.keepAttr=!0,ee.forceKeepAttr=void 0,Ht(Le.uponSanitizeAttribute,w,ee),Je=ee.attrValue,ut&&(Lt==="id"||Lt==="name")&&(jr(Ge,w),Je=Zt+Je),Mr&&kt(/((--!?|])>)|<\/(style|title)/i,Je)){jr(Ge,w);continue}if(ee.forceKeepAttr||(jr(Ge,w),!ee.keepAttr))continue;if(!Xt&&kt(/\/>/i,Je)){jr(Ge,w);continue}Nt&&Ai([fe,Ye,Tt],$r=>{Je=Qn(Je,$r," ")});let Ar=xe(w.nodeName);if(!!An(Ar,Lt,Je)){if(De&&typeof W=="object"&&typeof W.getAttributeType=="function"&&!Ve)switch(W.getAttributeType(Ar,Lt)){case"TrustedHTML":{Je=De.createHTML(Je);break}case"TrustedScriptURL":{Je=De.createScriptURL(Je);break}}try{Ve?w.setAttributeNS(Ve,Ge,Je):w.setAttribute(Ge,Je),Br(w)?dt(w):Ua(r.removed)}catch($r){}}}Ht(Le.afterSanitizeAttributes,w,null)},ln=function ne(w){let j=null,ee=Sn(w);for(Ht(Le.beforeSanitizeShadowDOM,w,null);j=ee.nextNode();)Ht(Le.uponSanitizeShadowNode,j,null),an(j),sn(j),j.content instanceof E&&ne(j.content);Ht(Le.afterSanitizeShadowDOM,w,null)};return r.sanitize=function(ne){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=null,ee=null,Ce=null,Ze=null;if(ur=!ne,ur&&(ne="<!-->"),typeof ne!="string"&&!Cn(ne))if(typeof ne.toString=="function"){if(ne=ne.toString(),typeof ne!="string")throw Kn("dirty is not a string, aborting")}else throw Kn("toString is not a function");if(!r.isSupported)return ne;if(_r||Ur(w),r.removed=[],typeof ne=="string"&&(Z=!1),Z){if(ne.nodeName){let yt=xe(ne.nodeName);if(!$e[yt]||xr[yt])throw Kn("root node is forbidden and cannot be sanitized in-place")}}else if(ne instanceof P)j=on("<!---->"),ee=j.ownerDocument.importNode(ne,!0),ee.nodeType===Jn.element&&ee.nodeName==="BODY"||ee.nodeName==="HTML"?j=ee:j.appendChild(ee);else{if(!st&&!Nt&&!Qt&&ne.indexOf("<")===-1)return De&&Kt?De.createHTML(ne):ne;if(j=on(ne),!j)return st?null:Kt?rt:""}j&&lt&&dt(j.firstChild);let Ge=Sn(Z?ne:j);for(;Ce=Ge.nextNode();)an(Ce),sn(Ce),Ce.content instanceof E&&ln(Ce.content);if(Z)return ne;if(st){if(Tr)for(Ze=J.call(j.ownerDocument);j.firstChild;)Ze.appendChild(j.firstChild);else Ze=j;return(ze.shadowroot||ze.shadowrootmode)&&(Ze=Ke.call(f,Ze,!0)),Ze}let Ve=Qt?j.outerHTML:j.innerHTML;return Qt&&$e["!doctype"]&&j.ownerDocument&&j.ownerDocument.doctype&&j.ownerDocument.doctype.name&&kt(qa,j.ownerDocument.doctype.name)&&(Ve="<!DOCTYPE "+j.ownerDocument.doctype.name+`>
`+Ve),Nt&&Ai([fe,Ye,Tt],yt=>{Ve=Qn(Ve,yt," ")}),De&&Kt?De.createHTML(Ve):Ve},r.setConfig=function(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ur(ne),_r=!0},r.clearConfig=function(){$t=null,_r=!1},r.isValidAttribute=function(ne,w,j){$t||Ur({});let ee=xe(ne),Ce=xe(w);return An(ee,Ce,j)},r.addHook=function(ne,w){typeof w=="function"&&Xn(Le[ne],w)},r.removeHook=function(ne,w){if(w!==void 0){let j=al(Le[ne],w);return j===-1?void 0:sl(Le[ne],j,1)[0]}return Ua(Le[ne])},r.removeHooks=function(ne){Le[ne]=[]},r.removeAllHooks=function(){Le=Xa()},r}var Tl=Qa();Ka.exports=Tl});var Po=eo(ao());var xi=class{constructor(r,o){r=r||[],this.lines=r,this.text=o,this.offset2loc=new Map,this.line2offset=new Map;for(var f of r)f.offset>=0&&(this.offset2loc[f.offset]||(this.offset2loc[f.offset]=f),this.line2offset[f.line]||(this.line2offset[f.line]=f.offset))}findLineForOffset(r,o){if(this.offset2loc)for(var f=0;f<=o;f++){var h=this.offset2loc[r];if(h)return h;r--}return null}lineCount(){return this.lines.length}};function ua(s){return"errors"in s}function fa(s){return"output"in s}var ca=eo(ao()),so=class{constructor(r){this.preset_id=Ft(r)}async getRemoteFile(r){return new Promise((o,f)=>Ei(r,o,pn(r)?"arraybuffer":"text"))}async getFileData(r){var o="presets/"+this.preset_id+"/"+r,f=await this.getRemoteFile(o);return f&&console.log("read",o,f.length,"bytes"),f}async setFileData(r,o){}};var $n=class{constructor(r,o){this.basefs=r,this.overlayfs=o}async getFileData(r){var o=await this.overlayfs.getFileData(r);return o==null?this.basefs.getFileData(r):o}async setFileData(r,o){return await this.overlayfs.setFileData(r,o),this.basefs.setFileData(r,o)}},lo=class{constructor(r){this.store=r}async getFileData(r){return this.store.getItem(r)}async setFileData(r,o){return this.store.setItem(r,o)}};var uo=class{constructor(r,o,f,h){this.filedata={};this.pendingWorkerMessages=0;this.hasDoneInitialCompilation=!1;this.tools_preloaded={};this.isCompiling=!1;this.filename2path={};this.worker=r,this.platform_id=o,this.platform=f,this.filesystem=h,r.onmessage=E=>{this.receiveWorkerMessage(E.data)}}receiveWorkerMessage(r){var o=this.pendingWorkerMessages>1;o?(this.sendBuild(),this.pendingWorkerMessages=1):(this.callbackBuildStatus&&this.callbackBuildStatus(!1),this.isCompiling||(console.log(this.pendingWorkerMessages),console.trace()),this.isCompiling=!1,this.pendingWorkerMessages=0,this.hasDoneInitialCompilation=!0),r&&fa(r)?this.processBuildResult(r):ua(r)&&this.processBuildListings(r),this.callbackBuildResult(r)}getToolForFilename(r){return this.remoteTool?"remote:"+this.remoteTool:this.platform.getToolForFilename(r)}preloadWorker(r){var o=this.getToolForFilename(r);o&&!this.tools_preloaded[o]&&(this.worker.postMessage({preload:o,platform:this.platform_id}),this.tools_preloaded[o]=!0)}pushAllFiles(r,o){r.push(o);var f=to(this.mainPath);f.length>0&&f!="local"&&r.push(f+"/"+o)}parseIncludeDependencies(r){let o=[],f;if(this.platform_id.startsWith("verilog")){let h=/^\s*(`include|[.]include)\s+"(.+?)"/gmi;for(;f=h.exec(r);)this.pushAllFiles(o,f[2]);let E=/^\s*\$(include|\$dofile|\$write_image_in_table)\('(.+?)'/gmi;for(;f=E.exec(r);)this.pushAllFiles(o,f[2]);let C=/^\s*([.]arch)\s+(\w+)/gmi;for(;f=C.exec(r);)this.pushAllFiles(o,f[2]+".json");let P=/\$readmem[bh]\("(.+?)"/gmi;for(;f=P.exec(r);)this.pushAllFiles(o,f[1])}else{let h=/^\s*[.#%]?(include|incbin|embed)\s+"(.+?)"/gmi;for(;f=h.exec(r);)this.pushAllFiles(o,f[2]);let E=/^\s*([;']|[/][/])#(resource)\s+"(.+?)"/gm;for(;f=E.exec(r);)this.pushAllFiles(o,f[3]);let C=/^\s+(USE|ASM)\s+(\S+[.]\S+)/gm;for(;f=C.exec(r);)this.pushAllFiles(o,f[2]);let P=/^\s*(import|embed)\s*"(.+?)";/gmi;for(;f=P.exec(r);)f[1]=="import"?this.pushAllFiles(o,f[2]+".wiz"):this.pushAllFiles(o,f[2]);let L=/^\s*(import)\s*"(.+?)"/gmi;for(;f=L.exec(r);)this.pushAllFiles(o,f[2]);let q=/^[!]src\s+"(.+?)"/gmi;for(;f=q.exec(r);)this.pushAllFiles(o,f[1])}return o}parseLinkDependencies(r){let o=[],f;if(!this.platform_id.startsWith("verilog")){let h=/^\s*([;]|[/][/])#link\s+"(.+?)"/gm;for(;f=h.exec(r);)this.pushAllFiles(o,f[2])}return o}loadFileDependencies(r){let o=this.parseIncludeDependencies(r),f=this.parseLinkDependencies(r),h=o.concat(f);return this.loadFiles(h).then(E=>{if(E)for(let C of E)C.link=f.indexOf(C.path)>=0;return E})}okToSend(){let r=window.autoCompileEnabled===!0,o=!this.hasDoneInitialCompilation;return this.mainPath!=null&&(r||o)?this.pendingWorkerMessages++==0:!1}updateFileInStore(r,o){this.filesystem.setFileData(r,o)}buildWorkerMessage(r){this.preloadWorker(this.mainPath);var o={updates:[],buildsteps:[]},f=this.stripLocalPath(this.mainPath),h=this.getFile(this.mainPath),E=[];o.updates.push({path:f,data:h}),this.filename2path[f]=this.mainPath;let P=this.getToolForFilename(this.mainPath).startsWith("remote:");for(var L of r)(!L.link||P)&&(o.updates.push({path:L.filename,data:L.data}),E.push(L.filename)),this.filename2path[L.filename]=L.path;o.buildsteps.push({path:f,files:[f].concat(E),platform:this.platform_id,tool:this.getToolForFilename(this.mainPath),mainfile:!0});for(var L of r)L.data&&L.link&&(this.preloadWorker(L.filename),o.updates.push({path:L.filename,data:L.data}),o.buildsteps.push({path:L.filename,files:[L.filename].concat(E),platform:this.platform_id,tool:this.getToolForFilename(L.path)}));return this.dataItems&&(o.setitems=this.dataItems),o}async loadFiles(r){var o=[],f=(C,P)=>{o.push({path:C,filename:this.stripLocalPath(C),link:!0,data:P})};for(var h of r)if(h in this.filedata){var E=this.filedata[h];E&&f(h,E)}else{var E=await this.filesystem.getFileData(h);E?(this.filedata[h]=E,f(h,E)):this.filedata[h]=null}return o}getFile(r){return this.filedata[r]}iterateFiles(r){for(var o in this.filedata)r(o,this.getFile(o))}sendBuild(){if(!this.mainPath)throw Error("need to call setMainFile first");var r=this.getFile(this.mainPath);if(r instanceof Uint8Array){this.isCompiling=!0,this.receiveWorkerMessage({output:r,errors:[],listings:null,symbolmap:null,params:{}});return}var o=typeof r=="string"?r:"";return this.loadFileDependencies(o).then(f=>{f||(f=[]);var h=this.buildWorkerMessage(f);this.worker.postMessage(h),this.isCompiling=!0})}updateFile(r,o){this.filedata[r]!=o&&(this.updateFileInStore(r,o),this.filedata[r]=o,this.okToSend()&&(this.callbackBuildStatus&&this.callbackBuildStatus(!0),this.sendBuild()))}setMainFile(r){this.mainPath=r,this.callbackBuildStatus&&this.callbackBuildStatus(!0),this.sendBuild()}processBuildListings(r){if(r.listings){this.listings=r.listings;for(var o in this.listings){var f=this.listings[o];f.lines&&(f.sourcefile=new xi(f.lines,f.text)),f.asmlines&&(f.assemblyfile=new xi(f.asmlines,f.text))}}}processBuildResult(r){this.processBuildListings(r),this.processBuildSegments(r)}processBuildSegments(r){var o=this.platform.getMemoryMap&&this.platform.getMemoryMap().main||[];(o==null?void 0:o.length)&&o.forEach(f=>f.source="native"),r.segments&&(r.segments.forEach(f=>f.source="linker"),o=o.concat(r.segments||[])),o.sort((f,h)=>f.start-h.start),this.segments=o}getListings(){return this.listings}getListingForFile(r){var o=_t(this.stripLocalPath(r)),f=this.getListings();for(var h in f)if(h==r)return f[h];for(var h in f)if(_t(h)==o)return f[h]}stripLocalPath(r){if(this.mainPath){var o=to(this.mainPath);o!=""&&r.startsWith(o+"/")&&(r=r.substring(o.length+1))}return r}updateDataItems(r){this.dataItems=r,this.okToSend()&&this.sendBuild()}};function _i(s){var r=ca.default.createInstance({name:"__"+s,version:2});return r}var fo=ha(),co=class{constructor(r,o){this.id2window={};this.id2createfn={};this.id2showfn={};this.id2div={};this.containerdiv=r,this.project=o,this.undofiles=[]}isWindow(r){return this.id2createfn[r]!=null}setCreateFunc(r,o){this.id2createfn[r]=o}setShowFunc(r,o){this.id2showfn[r]=o}create(r){var o=this.id2window[r];o||(console.log("creating window",r),o=this.id2window[r]=this.id2createfn[r](r));var f=this.id2div[r];return f||(f=this.id2div[r]=o.createDiv(this.containerdiv),fo(f).hide()),o}createOrShow(r,o){var f=this.create(r),h=this.id2div[r];return this.activewnd!=f?(this.activediv&&fo(this.activediv).hide(),this.activewnd&&this.activewnd.setVisible&&this.activewnd.setVisible(!1),this.activediv=h,this.activewnd=f,fo(h).show(),this.refresh(!0),this.refreshErrors(),f.setVisible&&f.setVisible(!0),this.id2showfn[r]&&this.id2showfn[r](r,f)):this.refresh(o),this.activeid=r,f}put(r,o){this.id2window[r]=o}refresh(r){this.activewnd&&this.activewnd.refresh&&this.activewnd.refresh(r)}tick(){this.activewnd&&this.activewnd.tick&&this.activewnd.tick()}setErrors(r){this.lasterrors=r,this.refreshErrors()}refreshErrors(){this.activewnd&&this.activewnd.markErrors&&(this.lasterrors&&this.lasterrors.length?this.activewnd.markErrors(this.lasterrors):this.activewnd.clearErrors())}getActive(){return this.activewnd}getActiveID(){return this.activeid}getCurrentText(){if(this.activewnd&&this.activewnd.getValue)return this.activewnd.getValue();bootbox.alert("Please switch to an editor window.")}resize(){this.activeid&&this.activewnd&&this.activewnd.recreateOnResize&&(this.activewnd=null,this.id2window[this.activeid]=null,this.id2div[this.activeid]=null,this.createOrShow(this.activeid))}updateFile(r,o){var f=this.id2window[r];f&&f.setText&&typeof o=="string"?(f.setText(o),this.undofiles.push(r)):this.project.updateFile(r,o)}undoStep(){var r=this.undofiles.pop(),o=this.id2window[r];o&&o.undoStep?o.undoStep():bootbox.alert("No more steps to undo.")}updateAllOpenWindows(r){for(var o in this.id2window){var f=this.id2window[o];f&&f.setText&&r.getItem(o).then(h=>{this.updateFile(o,h)})}}findWindowWithFilePrefix(r){r=It(_t(r));for(var o in this.id2createfn)if(!(o.toLowerCase().endsWith(".h")||o.toLowerCase().endsWith(".inc")||o.toLowerCase().endsWith(".bas"))&&It(_t(o))==r)return o;return null}};var Ys=`$NAME
=====

[Open this project in 8bitworkshop](http://8bitworkshop.com/redir.html?platform=$PLATFORM&githubURL=$GITHUBURL&file=$MAINFILE).
`;function Pn(){for(var s={},r=0;r<localStorage.length;r++){var o=localStorage.key(r);if(o.startsWith("__repo__")){var f=JSON.parse(localStorage.getItem(o)),h=o.substring("__repo__".length);s[h]=f}}return s}function zn(s){var r=s.split("/",8);return r.length<5||r[0]!="https:"||r[2]!="github.com"||r[5]&&r[5]!="tree"?null:{user:r[3],repo:r[4],repopath:r[3]+"/"+r[4],branch:r[6],subtreepath:r[7]}}var ho=class{constructor(r,o,f,h){this.githubCons=r,this.githubToken=o,this.store=f,this.project=h,this.recreateGithub()}recreateGithub(){this.github=new this.githubCons({token:this.githubToken})}login(){if(this.githubToken&&this.githubToken.length)return new Promise((o,f)=>{o()});var r=new firebase.auth.GithubAuthProvider;return r.addScope("repo"),firebase.auth().signInWithPopup(r).then(o=>{this.githubToken=o.credential.accessToken;var f=o.user;this.recreateGithub(),document.cookie="__github_key="+this.githubToken+";path=/;max-age=31536000",console.log("Stored GitHub OAUTH key")})}logout(){return this.githubToken&&this.githubToken.length?firebase.auth().signOut().then(()=>{document.cookie="__github_key=;path=/;max-age=0",this.githubToken=null,this.recreateGithub()}):new Promise((r,o)=>{r()})}isFileIgnored(r){return r=r.toUpperCase(),!!(r.startsWith("LICENSE")||r.startsWith("README")||r.startsWith("."))}async getGithubSession(r){var o=zn(r);if(!o)throw new Error("Please enter a valid GitHub URL.");var f=Pn()[o.repopath],h=o.branch||f&&f.branch,E=this.github.repos(o.user,o.repo);try{h=(await E.fetch()).defaultBranch||"master"}catch(P){console.log("could not fetch default branch: "+P),h="main"}console.log("branch =",h);var C={url:r,user:o.user,reponame:o.repo,repopath:o.repopath,branch:h,subtreepath:o.subtreepath,prefix:"",repo:E,platform_id:this.project?this.project.platform_id:f?f.platform_id:null};return C}getGithubHEADTree(r){var o;return this.getGithubSession(r).then(f=>(o=f,o.repo.git.refs.heads(o.branch).fetch())).then(f=>(o.head=f,o.sha=f.object.sha,o.repo.git.trees(o.sha).fetch())).then(f=>{if(o.subtreepath){for(let h of f.tree)if(h.type=="tree"&&h.path==o.subtreepath&&h.sha)return o.repo.git.trees(h.sha).fetch();throw Error("Cannot find subtree '"+o.subtreepath+"' in tree "+f.sha)}return f}).then(f=>(o.tree=f,o))}bind(r,o){var f="__repo__"+r.repopath;if(o){var h={url:r.url,branch:r.branch,platform_id:r.platform_id,mainPath:r.mainPath,sha:r.sha};console.log("storing",h),localStorage.setItem(f,JSON.stringify(h))}else localStorage.removeItem(f)}import(r){var o;return this.getGithubSession(r).then(f=>(o=f,o.repo.contents("README.md").read())).catch(f=>(console.log(f),console.log("no README.md found"),o.repo.fetch().then(h=>""))).then(f=>{var h;if(h=/8bitworkshop.com[^)]+file=([^)&]+)/.exec(f),h&&h[1]&&(console.log("main path: '"+h[1]+"'"),o.mainPath=h[1]),h=/8bitworkshop.com[^)]+platform=([A-Za-z0-9._\-]+)/.exec(f),h){if(console.log("platform id: '"+h[1]+"'"),o.platform_id&&!o.platform_id.startsWith(h[1]))throw Error("Platform mismatch: Repository is "+h[1]+", you have "+o.platform_id+" selected.");o.platform_id=h[1]}return this.bind(o,!0),o})}pull(r,o){var f;return this.getGithubHEADTree(r).then(h=>{f=h;let E=[];return f.paths=[],f.tree.tree.forEach(C=>{if(console.log(C.path,C.type,C.size),f.paths.push(C.path),C.type=="blob"&&!this.isFileIgnored(C.path)){var P=f.repo.git.blobs(C.sha).fetch().then(L=>{var q=f.prefix+C.path,ae=C.size,Ie=L.encoding,G=L.content;if(L.encoding=="base64"){var W=bi(atob(G)),Y=pn(C.path,W);G=Y?W:wi(W)}return L.size!=G.length&&(G=G.slice(0,L.size)),(o||this.store).setItem(q,G)});E.push(P)}else console.log("ignoring "+C.path)}),Promise.all(E)}).then(h=>f)}importAndPull(r){return this.import(r).then(o=>this.pull(r))}publish(r,o,f,h){var E,C=this.project.platform_id,P=this.project.stripLocalPath(this.project.mainPath);return this.github.user.repos.create({name:r,description:o,private:h,auto_init:!1,license_template:f}).then(L=>{E=L;var q=Ys;q=q.replace(/\$NAME/g,encodeURIComponent(r)),q=q.replace(/\$PLATFORM/g,encodeURIComponent(C)),q=q.replace(/\$GITHUBURL/g,encodeURIComponent(E.htmlUrl)),q=q.replace(/\$MAINFILE/g,encodeURIComponent(P));var ae={message:"8bitworkshop: updated metadata in README.md",content:btoa(q)};return E.contents("README.md").add(ae)}).then(()=>this.getGithubSession(E.htmlUrl))}commit(r,o,f){var h;return o||(o="updated from 8bitworkshop.com"),this.getGithubHEADTree(r).then(E=>{if(h=E,h.subtreepath)throw Error("Sorry, right now you can only commit files to the root directory of a repository.");return Promise.all(f.map(C=>typeof C.data=="string"?h.repo.git.blobs.create({content:C.data,encoding:"utf-8"}):h.repo.git.blobs.create({content:btoa(yi(C.data)),encoding:"base64"})))}).then(E=>h.repo.git.trees.create({tree:f.map((C,P)=>({path:C.path,mode:"100644",type:"blob",sha:E[P].sha})),base_tree:h.tree.sha})).then(E=>h.repo.git.commits.create({message:o,tree:E.sha,parents:[h.head.object.sha]})).then(E=>h.repo.commits(E.sha).fetch()).then(E=>(h.commit=E,h))}push(r){return r.head.update({sha:r.commit.sha}).then(o=>r)}deleteRepository(r){return this.getGithubSession(r).then(o=>o.repo.remove())}};var Gn=window.matchMedia&&window.matchMedia("only screen and (max-width: 760px)").matches;function pa(s,r){var o=s.charCoords({line:r,ch:0},"local").top,f=s.getScrollerElement().offsetHeight/2;s.scrollTo(null,o-f-5)}function ma(s,r){var o=document.createElement("span");return o.setAttribute("class",r),o.appendChild(document.createTextNode(s)),o}var Si=64,Xs=200,po={default:{theme:"mbo"},"6502":{isAsm:!0},z80:{isAsm:!0},jsasm:{isAsm:!0},gas:{isAsm:!0},vasm:{isAsm:!0},nasm:{isAsm:!0},inform6:{theme:"cobalt"},markdown:{lineWrap:!0},fastbasic:{noGutters:!0},basic:{noLineNumbers:!0,noGutters:!0},qbasic:{noLineNumbers:!0,noGutters:!0},pascal:{theme:"mbo"},ecs:{theme:"mbo",isAsm:!0},c:{theme:"mbo"}},va={input:null},Vn=class{constructor(r,o){this.updateTimer=null;this.dirtylisting=!0;this.errormsgs=[];this.errorwidgets=[];this.errormarks=[];this.refreshDelayMsec=300;this.path=r,this.mode=o}createDiv(r){var o=document.createElement("div");o.setAttribute("class","editor"),r.appendChild(o);var f=he.getFile(this.path),h=f&&this.mode=="verilog"&&/__asm\b([\s\S]+?)\b__endasm\b/.test(f);return this.newEditor(o,h),f&&(this.setText(f),this.editor.setSelection({line:0,ch:0},{line:0,ch:0},{scroll:!0})),this.setupEditor(),he.getToolForFilename(this.path).startsWith("remote:")&&(this.refreshDelayMsec=1e3),o}setVisible(r){r&&this.editor.focus()}newEditor(r,o){var f=po[this.mode]||po.default,h=o||f.isAsm,E=!!f.lineWrap,C=f.theme||po.default.theme,P=!f.noLineNumbers&&!Gn;K.embed&&(P=!1,h=!1);var L=["CodeMirror-linenumbers","gutter-offset","gutter-info"];h&&(L=["CodeMirror-linenumbers","gutter-offset","gutter-bytes","gutter-clock","gutter-info"]),(f.noGutters||Gn)&&(L=["gutter-info"]),this.editor=CodeMirror(r,{theme:C,lineNumbers:P,matchBrackets:!0,tabSize:8,indentAuto:!0,lineWrapping:E,gutters:L})}editorChanged(){clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>{he.updateFile(this.path,this.editor.getValue())},this.refreshDelayMsec),this.markHighlight&&(this.markHighlight.clear(),this.markHighlight=null)}setupEditor(){this.editor.on("changes",(r,o)=>{this.editorChanged()}),this.editor.on("cursorActivity",r=>{this.inspectUnderCursor()}),this.editor.on("gutterClick",(r,o)=>{this.toggleBreakpoint(o)}),this.editor.setOption("mode",this.mode),this.editor.on("beforeChange",(r,o)=>{va.input&&o.text&&(o.text=o.text.map(va.input))})}inspectUnderCursor(){var r=this.editor.getCursor(!0),o=this.editor.getCursor(!1);if(r.line==o.line&&r.ch<o.ch&&o.ch-r.ch<80){var f=this.editor.getSelection();this.inspect(f)}else this.inspect(null)}inspect(r){var o;if(D.inspect&&(o=D.inspect(r)),this.inspectWidget&&(this.inspectWidget.clear(),this.inspectWidget=null),o){var f=ma(o,"tooltipinfoline"),h=this.editor.getCursor().line;this.inspectWidget=this.editor.addLineWidget(h,f,{above:!1})}}setText(r){var o,f,h=this.editor.getValue();h!=r&&(this.editor.setValue(r),h==""&&this.editor.clearHistory())}insertText(r){var o=this.editor.getCursor();this.editor.replaceRange(r,o,o)}highlightLines(r,o){var f="hilite-span",h={className:f,inclusiveLeft:!0};this.markHighlight=this.editor.markText({line:r,ch:0},{line:o,ch:0},h),this.editor.scrollIntoView({from:{line:r,ch:0},to:{line:o,ch:0}})}replaceSelection(r,o,f){this.editor.setSelection(this.editor.posFromIndex(r),this.editor.posFromIndex(o)),this.editor.replaceSelection(f)}getValue(){return this.editor.getValue()}getPath(){return this.path}addError(r){if(!r.path||this.path.endsWith(r.path)){var o=this.editor.lineCount(),f=r.line-1;if((isNaN(f)||f<0||f>=o)&&(f=0),this.addErrorMarker(f,r.msg),r.start!=null){var h={className:"mark-error",inclusiveLeft:!0},E={line:f,ch:r.end?r.start:r.start-1},C={line:f,ch:r.end?r.end:r.start},P=this.editor.markText(E,C,h);this.errormarks.push(P)}}}addErrorMarker(r,o){var f=document.createElement("div");f.setAttribute("class","tooltipbox tooltiperror"),f.appendChild(document.createTextNode("\u24CD")),this.editor.setGutterMarker(r,"gutter-info",f),this.errormsgs.push({line:r,msg:o}),$(f).mouseover(h=>{this.expandErrors()})}addErrorLine(r,o){var f=ma(o,"tooltiperrorline");this.errorwidgets.push(this.editor.addLineWidget(r,f))}expandErrors(){for(var r;r=this.errormsgs.shift();)this.addErrorLine(r.line,r.msg)}markErrors(r){this.clearErrors(),r=r.slice(0,Xs);for(var o of r)this.addError(o)}clearErrors(){for(this.dirtylisting=!0,this.editor.clearGutter("gutter-info"),this.errormsgs=[];this.errorwidgets.length;)this.errorwidgets.shift().clear();for(;this.errormarks.length;)this.errormarks.shift().clear()}getSourceFile(){return this.sourcefile}updateListing(){this.clearErrors(),this.editor.clearGutter("gutter-bytes"),this.editor.clearGutter("gutter-offset"),this.editor.clearGutter("gutter-clock");var r=this.sourcefile.lines||[];for(var o of r)if(o.offset>=0&&this.setGutter("gutter-offset",o.line-1,gr(o.offset&65535,4)),o.insns){var f=o.insns.length>9?"...":o.insns;if(this.setGutter("gutter-bytes",o.line-1,f),o.iscode){if(o.cycles)this.setGutter("gutter-clock",o.line-1,o.cycles+"");else if(D.getOpcodeMetadata){var h=parseInt(o.insns.split(" ")[0],16),E=D.getOpcodeMetadata(h,o.offset);if(E&&E.minCycles){var C=E.minCycles+"";this.setGutter("gutter-clock",o.line-1,C)}}}}}setGutter(r,o,f){var h=this.editor.lineInfo(o);if(!(h&&h.gutterMarkers&&h.gutterMarkers[r])){var E=document.createTextNode(f);this.editor.setGutterMarker(o,r,E)}}setGutterBytes(r,o){this.setGutter("gutter-bytes",r-1,o)}setTimingResult(r){if(this.editor.clearGutter("gutter-bytes"),this.sourcefile!=null)for(let E of Object.keys(this.sourcefile.line2offset)){let C=this.sourcefile.line2offset[E],P=r.pc2clockrange[C];var o=P&&P.minclocks,f=P&&P.maxclocks;if(o>=0&&f>=0){var h;f==o?h=o+"":h=o+"-"+f,f==r.MAX_CLOCKS&&(h+="+"),this.setGutterBytes(parseInt(E),h)}}}setCurrentLine(r,o){var f=D.isBlocked&&D.isBlocked(),h=P=>{var L=document.createElement("div"),q=f?"currentpc-marker-blocked":"currentpc-marker";L.classList.add(q),L.appendChild(document.createTextNode("\u25B6")),this.editor.setGutterMarker(P.line-1,"gutter-info",L)};if(this.clearCurrentLine(o),r){h(r),o&&this.editor.setCursor({line:r.line-1,ch:r.start||0},{scroll:!0});var E=f?"currentpc-span-blocked":"currentpc-span",C={className:E,inclusiveLeft:!0};r.start||r.end?this.markCurrentPC=this.editor.markText({line:r.line-1,ch:r.start},{line:r.line-1,ch:r.end||r.start+1},C):this.markCurrentPC=this.editor.markText({line:r.line-1,ch:0},{line:r.line,ch:0},C),this.currentDebugLine=r}}clearCurrentLine(r){this.currentDebugLine&&(this.editor.clearGutter("gutter-info"),r&&this.editor.setSelection(this.editor.getCursor()),this.currentDebugLine=null),this.markCurrentPC&&(this.markCurrentPC.clear(),this.markCurrentPC=null)}getActiveLine(){if(this.sourcefile){var r=Lr&&Lr.c;if(!r&&D.getCPUState&&!D.isRunning()&&(r=D.getCPUState()),r){var o=r&&(r.EPC||r.PC),f=this.sourcefile.findLineForOffset(o,Si);return f}}}refreshDebugState(r){this.clearCurrentLine(r);var o=this.getActiveLine();o&&this.setCurrentLine(o,r)}refreshListing(){var r=he.getListingForFile(this.path);r&&r.sourcefile&&r.sourcefile!==this.sourcefile&&(this.sourcefile=r.sourcefile,this.dirtylisting=!0),!(!this.sourcefile||!this.dirtylisting)&&(this.updateListing(),this.dirtylisting=!1)}refresh(r){this.refreshListing(),this.refreshDebugState(r)}tick(){this.refreshDebugState(!1)}getLine(r){return this.editor.getLine(r-1)}getCurrentLine(){return this.editor.getCursor().line+1}getCursorPC(){for(var r=this.getCurrentLine();this.sourcefile&&r>=0;){var o=this.sourcefile.line2offset[r];if(o>=0)return o;r--}return-1}undoStep(){this.editor.execCommand("undo")}toggleBreakpoint(r){if(this.sourcefile!=null){var o=this.sourcefile.line2offset[r+1];qn(o)}}},mo=1024,ba=class{getDisasmView(){return this.disasmview}createDiv(r){var o=document.createElement("div");return o.setAttribute("class","editor"),r.appendChild(o),this.newEditor(o),o}newEditor(r){this.disasmview=CodeMirror(r,{mode:"z80",theme:"cobalt",tabSize:8,readOnly:!0,styleActiveLine:!0})}refresh(r){let o=Lr||D.saveState(),f=o.c?o.c.PC:0,h=0,E=0,C=D.debugSymbols&&D.debugSymbols.addr2symbol||{},P=(ae,Ie)=>{let G="",W=0;for(;W<Ie;){let Y=ae+W|0,_e=D.disassemble(Y,D.readAddress.bind(D)),re="",We="";for(let De=0;De<_e.nbytes;De++)re+=gr(D.readAddress(Y+De));for(;re.length<14;)re+=" ";let at=_e.line;if(C&&_e.isaddr&&(at=at.replace(/([^#])[$]([0-9A-F]+)/,(De,...rt)=>{let i=parseInt(rt[1],16),pe=C[i];return pe?rt[0]+pe:(pe=C[i-1],pe?rt[0]+pe+"+1":De)})),C){let De=C[Y];De&&(We="; "+De)}G+=gr(Y,4)+"	"+vi(re,14)+"	"+vi(at,30)+We+`
`,Y==f&&(E=h),h++,W+=_e.nbytes||1}return G};var L=f<0?f-mo:Math.max(0,f-mo);let q=P(L,f-L)+P(f,mo);this.disasmview.setValue(q),r&&this.disasmview.setCursor(E,0),pa(this.disasmview,E)}getCursorPC(){var r=this.disasmview.getCursor().line;if(r>=0){var o=this.disasmview.getLine(r).trim().split(/\s+/);if(o&&o.length>=1){var f=parseInt(o[0],16);if(f>=0)return f}}return-1}},go=class extends ba{constructor(r){super();this.path=r}refreshListing(){var r=he.getListingForFile(this.path);this.assemblyfile=r&&(r.assemblyfile||r.sourcefile)}refresh(r){if(this.refreshListing(),!!this.assemblyfile){var o=this.assemblyfile.text,f=this.getDisasmView();if(f.setValue(o),!!D.saveState){var h=Lr||D.saveState(),E=h.c?h.c.EPC||h.c.PC:0;if(E>=0&&this.assemblyfile){var C=this.assemblyfile.findLineForOffset(E,Si);C&&(r&&f.setCursor(C.line-1,0),pa(f,C.line-1))}}}}};var vo=class{constructor(r,o){this.recreateOnResize=!0;this.path=r,this.data=o}createDiv(r){return this.vlist=new ra(r),this.vlist.create(r,this.data.length+15>>4,this.getMemoryLineAt.bind(this)),this.vlist.maindiv}getMemoryLineAt(r){for(var o=r*16,f=0,h=16,E=gr(o+f,4)+" ",C=0;C<f;C++)E+="   ";f>8&&(E+=" ");for(var C=f;C<h;C++){var P=this.data[o+C];C==8&&(E+=" "),E+=" "+(P>=0?gr(P,2):"  ")}return{text:E}}refresh(){this.vlist.refresh()}getPath(){return this.path}};function Ne(s){s?(or(0),$("#pleaseWaitModal").modal("show")):(or(1),$("#pleaseWaitModal").modal("hide"))}function or(s){$("#pleaseWaitProgressBar").css("width",s*100+"%").show()}function ve(s){Ne(!1),bootbox.alert({title:'<span class="glyphicon glyphicon-alert" aria-hidden="true"></span> Alert',message:Ln.sanitize(s)})}function Ut(s){Ne(!1),bootbox.alert(Ln.sanitize(s))}function ya(s){throw ve(s),new Error(s)}function gn(s,r,o,f){window.ga&&ga("send","event",s,r,o,f)}function wa(s){window.ga&&ga("send","pageview",s)}var yo;async function vn(){if(!yo){await Vt("lib/octokat.js"),await Vt("https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"),await Vt("https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"),await Vt("config.js");var s=Bn("__github_key");yo=new ho(Octokat,s,Pr(),br()),console.log("loaded github service")}return yo}function Yn(){var s=(qe||"").split("/");return s.length!=2?(ve("You are not in a GitHub repository. Choose one from the pulldown, or Import or Publish one."),null):"https://github.com/"+s[0]+"/"+s[1]}async function Ci(s,r){var o,f=zn(s);if(!f){ve("Could not parse Github URL.");return}var h=Pn()[f.repopath];if(!(h&&!confirm("You've already imported "+f.repopath+" -- do you want to replace all local files?"))){Ne(!0);var E=_i(f.repopath);or(.25);var C=await vn();return C.import(s).then(P=>(o=P,or(.75),C.pull(s,E))).then(P=>{Ne(!1),gn("sync","import",s),qr(r,{repo:f.repopath})}).catch(P=>{Ne(!1),console.log(P),ve("Could not import "+s+"."+P)})}}async function Ea(s){var r=await vn();r.login().then(()=>{Ut("You are signed in to Github.")}).catch(o=>{ve("Could not sign in."+o)})}async function xa(s){var r=await vn();r.logout().then(()=>{Ut("You are logged out of Github.")})}function _a(s){var r=$("#importGithubModal"),o=$("#importGithubButton");r.modal("show"),o.off("click").on("click",()=>{var f=$("#importGithubURL").val()+"";r.modal("hide"),Ci(f,!1)})}function Ta(s){if(!(qe&&!confirm("This project ("+br().mainPath+") is already bound to a Github repository. Do you want to re-publish to a new repository? (You can instead choose 'Push Changes' to update files in the existing repository.)"))){var r=$("#publishGithubModal"),o=$("#publishGithubButton");$("#githubRepoName").val(_t(It(br().mainPath))),r.modal("show"),o.off("click").on("click",async()=>{var f=$("#githubRepoName").val()+"",h=$("#githubRepoDesc").val()+"",E=$("#githubRepoPrivate").val()=="private",C=$("#githubRepoLicense").val()+"",P;if(!f){ve("You did not enter a project name.");return}r.modal("hide"),Ne(!0);var L=await vn();L.login().then(()=>(or(.25),L.publish(f,h,C,E))).then(q=>(P=q,or(.5),Aa("initial import from 8bitworkshop.com"))).then(()=>{gn("sync","publish",E?"":f),Ci(P.url,!1)}).catch(q=>{Ne(!1),console.log(q),ve("Could not publish GitHub repository: "+q)})})}}function Sa(s){var r=Yn();if(!!r){var o=$("#pushGithubModal"),f=$("#pushGithubButton");o.modal("show"),f.off("click").on("click",()=>{var h=$("#githubCommitMsg").val()+"";o.modal("hide"),Aa(h)})}}function Ca(s){var r=Yn();!r||bootbox.confirm("Pull from repository and replace all local files? Any changes you've made will be overwritten.",async o=>{if(o){Ne(!0);var f=await vn();f.pull(r).then(h=>{Ne(!1),me.updateAllOpenWindows(Pr())})}})}function Qs(s){return new Promise((r,o)=>{var f=s.commit.files;if(console.log(f),f.length==0){Ne(!1),Ut("No files changed.");return}var h="";for(var E of f)h+=Ln.sanitize(E.filename)+": "+E.status,(E.additions||E.deletions||E.changes)&&(h+=" ("+E.additions+" additions, "+E.deletions+" deletions, "+E.changes+" changes)"),h+="<br/>";bootbox.confirm(h,C=>{C?r(s):Ne(!1)})})}async function Aa(s){var r=Yn();if(!!r){var o=[];for(var f in br().filedata){var h=br().stripLocalPath(f),E=br().filedata[f];h&&E&&o.push({path:h,data:E})}if(ot()instanceof Uint8Array){let P="bin/"+tt()+".rom";o.push({path:P,data:ot()})}Ne(!0);var C=await vn();return C.login().then(()=>(or(.5),C.commit(r,s,o))).then(P=>Qs(P)).then(P=>C.push(P)).then(P=>(Ne(!1),Ut("Pushed files to "+r),P)).catch(P=>{Ne(!1),console.log(P),ve("Could not push GitHub repository: "+P)})}}function ka(){var s=Yn();!s||bootbox.prompt("<p>Are you sure you want to delete this repository ("+Ln.sanitize(s)+") from browser storage?</p><p>All changes since last commit will be lost.</p><p>Type DELETE to proceed.<p>",r=>{r.trim().toUpperCase()=="DELETE"&&Ks()})}async function Ks(){var s=Yn();Ne(!0);let r=await vn(),o=await r.getGithubSession(s);r.bind(o,!1),await Pr().keys().then(f=>Promise.all(f.map(h=>Pr().removeItem(h)))),Ne(!1),qr(!1,{repo:"/"})}var wo=class{constructor(r){this.options=r,this.sampleRate=44100,this.soundData=[],this.tapData=[67,54,52,45,84,65,80,69,45,82,65,87,1,0,0,0,0,0,0,0]}getWAVHeader(){let r=new Uint8Array(44),o=new DataView(r.buffer);return o.setUint32(0,1380533830,!1),o.setUint32(4,44+this.soundData.length,!0),o.setUint32(8,1463899717,!1),o.setUint32(12,1718449184,!1),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,1,!0),o.setUint32(24,this.sampleRate,!0),o.setUint32(28,this.sampleRate*2,!0),o.setUint16(32,1,!0),o.setUint16(34,8,!0),o.setUint32(36,1684108385,!1),o.setUint32(40,this.soundData.length,!0),r}addSilence(r){let o=Math.floor(this.sampleRate*r);for(let h=0;h<o;h++)this.soundData.push(0);let f=et.CLOCK_RATE*r;this.tapData.push(0),this.tapData.push(f&255),this.tapData.push(f>>8&255),this.tapData.push(f>>16&255)}addCycle(r){this.tapData.push(r);let o=Math.floor(this.sampleRate*et.TAP_LENGTH_IN_SECONDS*r);for(let f=0;f<o;f++){let h;this.options.sine_wave?h=-Math.sin(f/o*2*Math.PI):f<o/2?h=-1:h=1,this.options.invert_waveform&&(h=-h),this.soundData.push(Math.round(128+h*127))}}updateTAPHeader(){let r=this.tapData.length-20;this.tapData[16]=r&255,this.tapData[17]=r>>8&255,this.tapData[18]=r>>16&255,this.tapData[19]=r>>24&255}getTAPData(){return this.updateTAPHeader(),new Uint8Array(this.tapData)}getSoundData(){let r=this.getWAVHeader(),o=new Uint8Array(r.length+this.soundData.length);return o.set(r,0),o.set(new Uint8Array(this.soundData),r.length),o}},Qe=class{constructor(r,o){this.options=o,this.checksum=0,this.data=new Uint8Array(0),this.filenameData=this.makeFilename(r),this.startAddress=0,this.endAddress=0,this.fileType=Qe.FILE_TYPE_NONE,this.waveFile=null}makeFilename(r){let o=[],f=32;r=r.toUpperCase();for(let h=0;h<Qe.FILENAME_BUFFER_SIZE;h++)if(r.length<=h)o.push(f);else{let E=r.charCodeAt(h);o.push(E)}return o}setContent(r){this.data=r.data,this.startAddress=r.startAddress,this.endAddress=r.startAddress+r.data.length,this.fileType=r.type}generateSound(r){this.waveFile=r,this.addHeader(!1),this.addHeader(!0),r.addSilence(.1),this.addFile()}addTapCycle(r){this.waveFile.addCycle(r)}addBit(r){r===0?(this.addTapCycle(Qe.SHORT_PULSE),this.addTapCycle(Qe.MEDIUM_PULSE)):(this.addTapCycle(Qe.MEDIUM_PULSE),this.addTapCycle(Qe.SHORT_PULSE))}addDataMarker(r){r?(this.addTapCycle(Qe.LONG_PULSE),this.addTapCycle(Qe.MEDIUM_PULSE)):(this.addTapCycle(Qe.LONG_PULSE),this.addTapCycle(Qe.SHORT_PULSE))}resetChecksum(){this.checksum=0}addByteFrame(r,o){let f=1;for(let h=0;h<8;h++){let E=(r&1<<h)!=0?1:0;this.addBit(E),f^=E}this.addBit(f),this.addDataMarker(o),this.checksum^=r}addLeader(r){let o;r===Qe.LEADER_TYPE_HEADER?o=27136:r===Qe.LEADER_TYPE_CONTENT?o=6656:o=79;for(let f=0;f<o;f++)this.addTapCycle(Qe.SHORT_PULSE)}addSyncChain(r){let o;r?o=9:o=137;let f=9;for(;f>0;)this.addByteFrame(o,!0),o-=1,f-=1}addData(){for(let r=0;r<this.data.length;r++)this.addByteFrame(this.data[r],!0)}addFilename(){for(let r=0;r<this.filenameData.length;r++)this.addByteFrame(this.filenameData[r],!0)}addHeader(r){r?this.addLeader(Qe.LEADER_TYPE_REPEATED):this.addLeader(Qe.LEADER_TYPE_HEADER),this.addDataMarker(!0),this.addSyncChain(r),this.resetChecksum(),this.addByteFrame(this.fileType,!0),this.addByteFrame(this.startAddress&255,!0),this.addByteFrame((this.startAddress&65280)>>8,!0),this.addByteFrame(this.endAddress&255,!0),this.addByteFrame((this.endAddress&65280)>>8,!0),this.addFilename();for(let o=0;o<Qe.NUMBER_OF_PADDING_BYTES;o++)this.addByteFrame(Qe.PADDING_CHARACTER,!0);this.addByteFrame(this.checksum,!1)}addFile(){let r=!1;for(let o=0;o<2;o++)r?this.addLeader(Qe.LEADER_TYPE_REPEATED):this.addLeader(Qe.LEADER_TYPE_CONTENT),this.addDataMarker(!0),this.addSyncChain(r),this.resetChecksum(),this.addData(),this.addByteFrame(this.checksum,!1),r=!0;this.addLeader(1)}},et=Qe;et.CLOCK_RATE=985248,et.TAP_LENGTH_IN_SECONDS=8/Qe.CLOCK_RATE,et.FILENAME_BUFFER_SIZE=16,et.FILE_TYPE_NONE=0,et.FILE_TYPE_RELOCATABLE=1,et.FILE_TYPE_SEQUENTIAL=2,et.FILE_TYPE_NON_RELOCATABLE=3,et.LEADER_TYPE_HEADER=0,et.LEADER_TYPE_CONTENT=1,et.LEADER_TYPE_REPEATED=2,et.NUMBER_OF_PADDING_BYTES=171,et.PADDING_CHARACTER=32,et.SHORT_PULSE=48,et.MEDIUM_PULSE=66,et.LONG_PULSE=86;var yr=eo(qs());function Da(s){return ot()==null?(ve("Please fix errors before sharing."),!0):ot()instanceof Uint8Array?(Zs(),Vt("lib/liblzg.js").then(()=>{var r=ea(window.Module,Array.from(ot()));window.Module=null;var o=btoa(yi(r)),f={p:oe,r:o},h=$.param(f),E=Js(h,"player.html"),C='<iframe width=640 height=600 src="'+E+'">';$("#embedLinkTextarea").text(E),$("#embedIframeTextarea").text(C),$("#embedLinkModal").modal("show"),$("#embedAdviceWarnAll").hide(),$("#embedAdviceWarnIE").hide(),E.length>=65536?$("#embedAdviceWarnAll").show():E.length>=5120&&$("#embedAdviceWarnIE").show()}),!0):(ve("Can't share a Verilog executable yet. (It's not actually a ROM...)"),!0)}function Zs(){console.log("clipboard"),import("./clipboard-2SP4SJIP.js").then(s=>{let r=s.default;new r(".btn")})}function Js(s,r){console.log(s);var o=window.location,f=o.pathname.replace("index.html",""),h=o.host=="8bitworkshop.com"?"https:":o.protocol,E=h+"//"+o.host+f+r+"?"+s;return E}function el(s){var o;var r=(o=bo())==null?void 0:o.code_start;Vt("lib/c2t.js").then(()=>{var f="",h=function(G){f+=G+`
`},E=window.c2t({noInitialRun:!0,print:h,printErr:h}),C=E.FS,P=tt()+".bin",L=tt()+".wav";C.writeFile(P,ot(),{encoding:"binary"});var q=["-2bc",P+","+r.toString(16),L];E.callMain(q);var ae=C.readFile(L,{encoding:"binary"});if(ae){var Ie=new Blob([ae],{type:"audio/wav"});(0,yr.saveAs)(Ie,L),f+="Then connect your audio output to the cassette input, turn up the volume, and play the audio file.",Ut(f)}})}function tl(s){Vt("lib/makewav.js").then(()=>{let r="",o=function(P){r+=P+`
`};var f=_t(tt());let h=f+".bin",E=f+".wav";window.makewav({noInitialRun:!1,print:o,printErr:o,arguments:["-ts","-f0","-v10",h],preRun:P=>{P.FS.writeFile(h,ot(),{encoding:"binary"})}}).ready.then(P=>{let L=[h];P.run(L),console.log(r);let ae=P.FS.readFile(E,{encoding:"binary"});if(ae){let Ie=new Blob([ae],{type:"audio/wav"});(0,yr.saveAs)(Ie,E),r+=`
Connect your audio output to the SuperCharger input, turn up the volume, and play the audio file.`,Ut(r)}})})}function rl(s){var r=_t(tt());let o=r+".tap",f=new et(r),h=new wo({sine_wave:!0}),E=ot(),C=E[0]+E[1]*256;E=E.slice(2),f.setContent({data:E,startAddress:C,type:et.FILE_TYPE_NON_RELOCATABLE}),f.generateSound(h);let P=h.getTAPData();if(P){let L=new Blob([P],{type:"application/octet-stream"});(0,yr.saveAs)(L,o)}}function Eo(){switch(Ft(oe)){case"vcs":return tl;case"apple2":return el;case"c64":return rl}}function Ra(s){if(ot()==null)return ve("Please fix errors before exporting."),!0;var r=Eo();if(r===void 0)return ve("Cassette export is not supported on this platform."),!0;r(s)}function xo(s){if(console.log("_downloadROMImage called, platform:",oe),console.log("getCurrentOutput():",ot()),console.log("platform.getDownloadFile exists:",!!D.getDownloadFile),ot()==null)return ve("Please finish compiling with no errors before downloading ROM."),!0;var r=_t(tt());if(D.getDownloadFile){var o=D.getDownloadFile();if(console.log("platform.getDownloadFile() returned:",o),o){var r=_t(tt());console.log("Downloading file:",r+o.extension),(0,yr.saveAs)(o.blob,r+o.extension)}else console.log("getDownloadFile() returned null/undefined"),ve("No downloadable file available. Make sure you have compiled a program.")}else if(ot()instanceof Uint8Array){var f=new Blob([ot()],{type:"application/octet-stream"}),h=D.getROMExtension&&D.getROMExtension(ot())||"-"+Ft(oe)+".bin";console.log("Using fallback download, suffix:",h),(0,yr.saveAs)(f,r+h)}else ve(`The "${oe}" platform doesn't have downloadable ROMs.`)}function La(s){var r=me.getCurrentText();if(!r)return!1;var o=new Blob([r],{type:"text/plain;charset=utf-8"});(0,yr.saveAs)(o,To(),{autoBom:!1})}async function Pa(){let s=(await import("./jszip.min-QZ4ZBVAS.js")).default;return new s}async function Ia(s){var r=await Pa();br().iterateFiles((o,f)=>{f&&r.file(It(o),f)}),r.generateAsync({type:"blob"}).then(o=>{(0,yr.saveAs)(o,tt()+"-"+Ft(oe)+".zip")})}function Fa(s){let r=D.getDebugSymbolFile&&D.getDebugSymbolFile();if(!r){ve("This project does not have debug information.");return}var o=_t(tt());(0,yr.saveAs)(r.blob,o+r.extension,{autoBom:!1})}async function Ma(s){var r=await Pa(),o=await Pr().keys();Ne(!0);try{var f=0;await Promise.all(o.map(E=>Pr().getItem(E).then(C=>{or(f++/(o.length+1)),C&&r.file(E,C)})));var h=await r.generateAsync({type:"blob"});(0,yr.saveAs)(h,Ft(oe)+"-all.zip")}finally{Ne(!1)}}var _o=!1;function Oa(){_o||Vt("lib/gif.js").then(()=>{var s=$("#emulator").find("canvas")[0];if(!s){ve("Could not find canvas element to record video!");return}var r=0;s.style&&s.style.transform&&(s.style.transform.indexOf("rotate(-90deg)")>=0?r=-1:s.style.transform.indexOf("rotate(90deg)")>=0&&(r=1));var o=new GIF({workerScript:"lib/gif.worker.js",workers:4,quality:10,rotate:r}),f=$("#videoPreviewImage");o.on("progress",L=>{or(L)}),o.on("finished",L=>{f.attr("src",URL.createObjectURL(L)),Ne(!1),D.resume(),$("#videoPreviewModal").modal("show")});var h=20,E=300,C=0;console.log("Recording video",s),$("#emulator").css("backgroundColor","#cc3333");var P=()=>{C++>E?(console.log("Rendering video"),$("#emulator").css("backgroundColor","inherit"),Ne(!0),D.pause(),o.render(),_o=!1):(o.addFrame(s,{delay:h,copy:!0}),setTimeout(P,h),_o=!0)};P()})}var Sl=Vs(),yn=Za(),K=ro(window.location.search||"?"),oe,Yr,qe,D,he,me,Lr,Ri,Io,ei=$("#controls_top"),je,Rt,Fo,wn,Li,Yt,Mt=!0,Ja="retrogamecoders_auto_compile";function Cl(){let s=Bn(Ja);return s!==null?s==="true":!0}function Al(s){ta(Ja,s.toString(),365)}var ti=Rn(K.electron),Ot=Rn(K.embed),ri,ni,Pi=!1,In=!1,Ii=null,es=null,Mo=!1,ts="c.PC == 0x6000";function Pr(){return Yt}function br(){return he}function ot(){return wn}function bo(){return Ri}var kl={dasm:"6502",acme:"6502",cc65:"text/x-csrc",ca65:"6502",nesasm:"6502",z80asm:"z80",sdasz80:"z80",sdcc:"text/x-csrc",verilator:"verilog",jsasm:"z80",zmac:"z80",bataribasic:"bataribasic",markdown:"markdown",js:"javascript",xasm6809:"z80",cmoc:"text/x-csrc",yasm:"gas",smlrc:"text/x-csrc",inform6:"inform6",fastbasic:"fastbasic",basic:"basic",c64basic:"c64basic",silice:"verilog",wiz:"text/x-wiz",none:"text/x-csrc",vasmarm:"vasm",armips:"vasm",ecs:"ecs","remote:llvm-mos":"text/x-csrc",cc7800:"text/x-csrc",armtcc:"text/x-csrc",oscar64:"text/x-csrc",bbcbasic:"basic"},Dl={dasm:"https://raw.githubusercontent.com/sehugg/dasm/master/doc/dasm.txt",cc65:"https://cc65.github.io/doc/cc65.html",ca65:"https://cc65.github.io/doc/ca65.html",sdcc:"http://sdcc.sourceforge.net/doc/sdccman.pdf",verilator:"https://www.veripool.org/ftp/verilator_doc.pdf",fastbasic:"https://github.com/dmsc/fastbasic/blob/master/manual.md",bataribasic:"help/bataribasic/manual.html",wiz:"https://github.com/wiz-lang/wiz/blob/master/readme.md#wiz",silice:"https://github.com/sylefeb/Silice",zmac:"https://raw.githubusercontent.com/sehugg/zmac/master/doc.txt",cmoc:"http://perso.b2b2c.ca/~sarrazip/dev/cmoc.html","remote:llvm-mos":"https://llvm-mos.org/wiki/Welcome",acme:"https://raw.githubusercontent.com/sehugg/acme/main/docs/QuickRef.txt"};function Rl(){return new Worker(`./gen/worker/bundle.js?t=${Date.now()}`)}var sr=function(){try{let r="__some_random_key_you_are_not_going_to_use__";localStorage.setItem(r,r);var s=localStorage.getItem(r)==r;return localStorage.removeItem(r),s}catch(r){return!1}}(),rs=class{setLastPreset(r){sr&&!Ot&&(qe&&oe&&!ti?localStorage.setItem("__lastrepo_"+oe,qe):localStorage.removeItem("__lastrepo_"+oe),localStorage.setItem("__lastplatform",oe),localStorage.setItem("__lastid_"+Yr,r))}unsetLastPreset(){sr&&!Ot&&(delete K.file,localStorage.removeItem("__lastid_"+Yr))}getLastPreset(){return sr&&!Ot&&localStorage.getItem("__lastid_"+Yr)}getLastPlatformID(){return sr&&!Ot&&localStorage.getItem("__lastplatform")}getLastRepoID(r){return sr&&!Ot&&r&&localStorage.getItem("__lastrepo_"+r)}shouldCompleteTour(){return!1}completedTour(){sr&&!Ot&&localStorage.setItem("8bitworkshop.hello","true")}},En=new rs;function Oo(s,r){navigator.storage&&navigator.storage.persist&&navigator.storage.persist().then(o=>{console.log("requestPersistPermission =",o),o&&s&&!r&&Ut("Your browser says it will persist your local file edits, but you may want to back up your work anyway.")})}function Ll(){return Li?Li.title||Li.name||he.mainPath||"ROM":he.mainPath||"ROM"}async function Pl(){var s=new so(oe);return ti?(console.log("using electron with local filesystem",alternateLocalFilesystem),new $n(s,alternateLocalFilesystem)):K.localfs!=null?new $n(s,await $l(K.localfs)):new $n(s,new lo(Yt))}async function Il(){var s=await Pl(),r=Rl();he=new uo(r,oe,D,s),he.remoteTool=K.tool||null,me=new co($("#workspace")[0],he),he.callbackBuildResult=o=>{Ql(o)},he.callbackBuildStatus=o=>{Fl(o)},window.worker=r}function Fl(s){s?ei.addClass("is-busy"):ei.removeClass("is-busy"),$("#compile_spinner").css("visibility",s?"visible":"hidden")}function No(s,r){var o=document.createElement("li"),f=document.createElement("a");return f.setAttribute("class","dropdown-item"),f.setAttribute("href","#"),f.setAttribute("data-wndid",s),s==me.getActiveID()&&$(f).addClass("dropdown-item-checked"),f.appendChild(document.createTextNode(r)),o.appendChild(f),{li:o,a:f}}function ii(){var s=$("#windowMenuList").empty(),r=!1;function o(L,q,ae){r&&(s.append(document.createElement("hr")),r=!1);let{li:Ie,a:G}=No(L,q);if(s.append(Ie),ae){var W=(Y,_e)=>{s.find("a").removeClass("dropdown-item-checked"),$(G).addClass("dropdown-item-checked")};me.setCreateFunc(L,ae),me.setShowFunc(L,W),$(G).click(Y=>{me.createOrShow(L),Ii=L})}}function f(L){var q=D.getToolForFilename(L);q=="dasm"&&L.endsWith(".h")&&tt().endsWith(".c")&&(q="cc65");var ae=q&&kl[q];return new Vn(L,ae)}function h(L){o(L,It(L),()=>{var q=he.getFile(L);if(typeof q=="string")return f(L);if(q instanceof Uint8Array)return new vo(L,q)})}h(he.mainPath),he.iterateFiles((L,q)=>{q&&L!=he.mainPath&&h(L)}),r=!0;var E=he.getListings();if(E)for(var C in E){var P=E[C];(P.assemblyfile&&P.assemblyfile.text||P.sourcefile&&P.sourcefile.text||P.text)&&o(C,It(C),L=>new go(L))}r=!0}function Ml(s,r){if(r){var o=K.highlight.split(","),f=parseInt(o[0])-1,h=parseInt(o[1])-1,E=me.createOrShow(s);E.highlightLines(f,h)}}function ns(s){ii(),me.createOrShow(s),he.setMainFile(s),Ml(s,K.highlight)}async function Ol(s){he.mainPath=s,En.setLastPreset(s);var r=await he.loadFiles([s]);if(r&&r.length)ns(s);else{var o=await Nl(s);he.filedata[s]=o||`
`,ns(s),K.newfile?Oo(!0,!0):Ut('Could not find file "'+s+'". Loading default file.'),delete K.newfile,Wi()}}function Wo(s){if(s=="/")K={repo:"/"};else if(s.indexOf("://")>=0){var r=zn(s);r&&(K={repo:r.repopath})}else K.platform=oe,K.file=s;qr()}async function Nl(s){var r=D.getToolForFilename(s);try{return await $.get("presets/"+Ft(oe)+"/skeleton."+r,"text")}catch(o){ve("Could not load skeleton for "+oe+"/"+r+"; using blank file")}}function Ho(s){return s.indexOf(" ")>=0?(ve("No spaces in filenames, please."),!1):!0}function Fi(){setTimeout(()=>{let s=document.querySelector(".bootbox.modal");s&&(s.removeAttribute("aria-hidden"),s.setAttribute("aria-hidden","false"),console.log("Fixed modal aria-hidden attribute"))},100)}function Wl(s){return bootbox.prompt({title:"Enter the name of your new main source file.",placeholder:"newfile"+D.getDefaultExtension(),callback:r=>{if(r&&r.trim().length>0){if(!Ho(r))return;r.indexOf(".")<0&&(r+=D.getDefaultExtension());var o=r;gn("workspace","file","new"),K.newfile="1",Wo(o)}}}),Fi(),!0}function Hl(s){let r=$('<input type="file" multiple accept="*" style="display:none">'),o=r[0];r.change(f=>{Ul(o.files)}),r.click()}function Ul(s){console.log(s);var r=0;function o(){var f=s[r++];if(!f)console.log("Done uploading",r),r>2?(Ut("Files uploaded."),setTimeout(oi,1e3)):(K.file=s[0].name,bootbox.confirm({message:"Open '"+yn.sanitize(K.file)+"' as main project file?",buttons:{confirm:{label:"Open As New Project"},cancel:{label:"Include/Link With Project Later"}},callback:C=>{C?qr():setTimeout(oi,1e3)}})),gn("workspace","file","upload");else{var h=f.name,E=new FileReader;E.onload=function(C){var P=C.target.result,L=new Uint8Array(P);pn(h,L)||(L=wi(L).replace(`\r
`,`
`)),me.updateFile(h,L),console.log("Uploaded "+h+" "+L.length+" bytes"),o()},E.readAsArrayBuffer(f)}}s&&o()}async function jl(s){var r=window.showDirectoryPicker;r||ve("This browser can't open local files on your computer, yet. Try Chrome.");var o=await r(),f=o.name,h="__localfs__"+f,E={handle:o},C=Po.createInstance({name:h,version:2});await C.setItem(h,E),K={localfs:f},qr(!0)}async function Bl(s){return new Promise((r,o)=>{bootbox.prompt(yn.sanitize(s),f=>{r(f)})}).then(r=>(Fi(),r))}async function $l(s){let r={mode:"readwrite"};var o="__localfs__"+s,f=Po.createInstance({name:o,version:2}),h=await f.getItem(o),E=h.handle;console.log(h,E);var C=await E.queryPermission(r);if(console.log(C),C!=="granted"&&(await Bl("Request permissions to access filesystem?"),C=await E.requestPermission(r)),C!=="granted"){ve("Could not get permission to access filesystem.");return}return{getFileData:async P=>{console.log("getFileData",P);let L=await E.getFileHandle(P,{create:!1});console.log("getFileData",L);let q=await L.getFile();console.log("getFileData",q);let ae=await(pn(P)?q.binary():q.text());return console.log(L,q,ae),ae},setFileData:async(P,L)=>{}}}function tt(){return It(he.mainPath)}function To(){return It(me.getActiveID())}function zl(s){var r=me.getActive();if(r&&r.setText){var o=me.getActiveID();$.get("presets/"+Ft(oe)+"/"+o,f=>{bootbox.confirm("Reset '"+yn.sanitize(o)+"' to default?",h=>{h&&r.setText(f)})},"text").fail(()=>{qe?ve("Can only revert built-in examples. If you want to revert all files, You can pull from the repository."):ve("Can only revert built-in examples.")})}else ve("Cannot revert the active window. Please choose a text file.")}function Gl(s){var r=me.getActive();if(r&&r.getPath){var o=me.getActiveID();bootbox.confirm("Delete '"+yn.sanitize(o)+"'?",f=>{f&&Yt.removeItem(o).then(()=>{K.file==o?(En.unsetLastPreset(),qr()):(oi(),Ut("Deleted "+o))})})}else ve("Cannot delete the active window.")}function Vl(s){var r=me.getActive();if(r&&r.getPath&&he.getFile(r.getPath())){var o=me.getActiveID();bootbox.prompt({title:"Rename '"+yn.sanitize(o)+"' to?",value:o,callback:f=>{var h=he.getFile(r.getPath());if(f&&f!=o&&h){if(!Ho(f))return;Yt.removeItem(o).then(()=>Yt.setItem(f,h)).then(()=>{oi(),alert("Renamed "+o+" to "+f),o==he.mainPath&&Wo(f)})}}}),Fi()}else ve("Cannot rename the active window.")}function ql(s){let r={},o,f=D.getPresets?D.getPresets():[];for(var h=0;h<f.length;h++){var E=f[h],C=E.chapter?E.chapter+". "+E.name:E.name,P=E.id==he.mainPath;E.category?o=$("<optgroup />").attr("label","Examples: "+E.category).appendTo(s):o||(o=$("<optgroup />").attr("label","Examples").appendTo(s)),o.append($("<option />").val(E.id).text(C).attr("selected",P?"selected":null)),P&&(Li=E),r[E.id]=C}return r}function Yl(s){if(sr&&!ti){var r=0,o=Pn();if(o){let h=$("<optgroup />").attr("label","Repositories").appendTo(s);for(let E in o){var f=o[E];f.platform_id&&Ft(f.platform_id)==Ft(oe)&&h.append($("<option />").val(f.url).text(f.url.substring(f.url.indexOf("/"))))}}}}async function is(s,r,o,f){let h=await Yt.keys();h||(h=[]);let E;for(var C=0;C<h.length;C++){let P=h[C];if(P.startsWith(o)&&!f[P]){E||(E=$("<optgroup />").attr("label",r).appendTo(s));let L=P.substring(o.length);E.append($("<option />").val(P).text(L).attr("selected",P==he.mainPath?"selected":null))}}}function os(s){s.css("visibility","visible");var r=he.mainPath;s.val()!=r&&s.append($("<option />").val(r).text(r).attr("selected","selected"))}async function oi(){var s=$("#preset_select").empty();if(qe)s.append($("<option />").val("/").text("Leave Repository")),$("#repo_name").text(It(qe)+"/").show(),await is(s,qe,"",{}),os(s);else{Yl(s);var r=ql(s);await is(s,"Local Files","",r),os(s)}s.off("change").change(function(o){Wo($(this).val().toString())})}function Xl(s){var r=$("<p/>");if(s.path!=null){var o=s.line?s.label?`(${s.path} @ ${s.label})`:`(${s.path}:${s.line})`:`(${s.path})`,f=$("<a/>").text(o),h=s.path;h==tt()&&(h=he.mainPath),me.isWindow(h)&&f.click(E=>{var C=me.createOrShow(h);C instanceof Vn&&C.setCurrentLine(s,!0)}),r.append(f),r.append("&nbsp;")}return r.append($("<span/>").text(s.msg)),r}function as(){$("#error_alert").hide(),Mo=!1}function Uo(s,r){var o=$("#error_alert_msg").empty();for(var f of s.slice(0,10))o.append(Xl(f));$("#error_alert").show(),Mo=r,$("#error_alert").attr("tabindex","-1"),$("#error_alert").css("outline","none"),setTimeout(()=>{let h=document.querySelector(".CodeMirror textarea");h&&h.focus()},100)}function ss(s,r){if(r!=null){var o={msg:r,line:0};s instanceof io&&s.$loc&&(o=Object.create(s.$loc),o.msg=r,console.log(o)),Uo([o],!0)}}async function Ql(s){if("errors"in s&&s.errors.length>0)ei.addClass("has-errors"),me.setErrors(s.errors),ii(),Uo(s.errors,!1);else{if(ei.removeClass("has-errors"),me.setErrors(null),as(),s==null||"unchanged"in s&&s.unchanged||!("output"in s))return;D.debugSymbols=new na(s.symbolmap,s.debuginfo),Ri=s.params;var r=s.output;if(r!=null)try{Fn(),hs(),await D.loadROM(Ll(),r),wn=r,Fo||Ir(),ju()}catch(o){console.log(o),ei.addClass("has-errors"),ss(o,o+""),wn=null,ii();return}ii(),me.refresh(!1)}}async function Kl(){if(D.loadBIOS){var s=oe+".rom",r=await Yt.getItem(s);r instanceof Uint8Array?(console.log("loading BIOS",s,r.length+" bytes"),D.loadBIOS(s,r)):console.log("BIOS file must be binary",s)}}function ls(){var s=$("#mem_info");s.hide(),ri=null}function ai(s){if(!!ia(D)){var r=$("#mem_info"),o=$("#mem_info_msg"),f=D.getDebugCategories();f&&!ni&&(ni=f[0]);var h=s&&D.getDebugInfo(ni,s);if(typeof h=="string"){var E=ri?Jo(ri,h):h;r.show(),o.html(E);var C=$('<div class="mem_info_links">'),P=q=>{var ae=$("<a>"+q+"</a>");q==ni&&ae.addClass("selected"),ae.click(Ie=>{ni=q,ri=null,ai(Lr)}),C.append(ae),C.append("<span> </span>")};for(var L of f)P(L);o.append("<br>"),o.append(C),ri=h}else ls()}}function Mi(s,r){$("#debug_bar, #run_bar").find("button").removeClass("btn_active").removeClass("btn_stopped"),$("#dbg_"+s).addClass("btn_"+r)}function jo(){return D&&wn!=null}function lr(){return jo()?!0:(ve("Can't do this until build successfully completes."),!1)}function Zl(s){if(Ii&&Ii.startsWith("#")||["toline","restart","tovsync","stepover"].includes(es)||!D.disassemble)return;let r=he.getListings(),o="#disasm",f=256;if(r){let h=s.c?s.c.EPC||s.c.PC:0;for(let E in r){let C=r[E],P=C.assemblyfile||C.sourcefile,L=he.filename2path[E]||E;if(P==C.sourcefile&&(L=me.findWindowWithFilePrefix(E)),me.isWindow(L)){let q=P&&P.findLineForOffset(h,Si);if(q){let ae=P.lines[q.line+1];if(!ae||h<ae.offset){let Ie=h-q.offset;Ie<f&&(o=L,f=Ie)}}}}}me.createOrShow(o,!0)}function Oi(s){Lr=s,ai(s),Zl(s),me.refresh(!0),Pi=!0}function us(s){D.setupDebug&&(D.setupDebug((r,o)=>{Oi(r),Mi(s||"pause","stopped"),o&&Uo([{msg:"STOPPED: "+o,line:0}],!0)}),es=s)}function vr(s){!lr()||($o(),us(s),s&&Mi(s,"active"))}function Xr(){D&&D.isRunning()&&(D.pause(),console.log("Paused")),Mi("pause","stopped")}function Jl(){!lr()||(Fn(),Xr(),Fo=!0)}function Ir(){D.isRunning()||(D.resume(),console.log("Resumed")),Mi("go","active"),Mo&&as()}function fs(){!lr()||(Fn(),D.isRunning()||me.refresh(!1),Ir(),Fo=!1,Ii=null)}function eu(){!lr()||(vr("step"),D.step())}function tu(){!lr()||(vr("stepover"),D.stepOver())}function ru(){!lr()||(vr("tovsync"),D.runToVsync())}function cs(){var s=me.getActive();return s&&s.getCursorPC&&s.getCursorPC()}function qn(s){!lr()||!(s>=0)||(vr("toline"),console.log("Run to",s.toString(16)),D.runToPC?D.runToPC(s):D.runEval(r=>r.PC==s))}function nu(){D.restartAtPC(cs())?fs():ve("Could not restart program at selected line.")}function iu(){qn(cs())}function ou(){!lr()||(vr("stepout"),D.runUntilReturn())}function au(){!lr()||(vr("stepback"),D.stepBack())}function Fn(){Lr=null,D.clearDebug&&D.clearDebug(),us(),ai()}function Bo(){D.reset(),hs()}function su(){!lr()||(Fn(),Bo(),Ir())}function lu(){if(!!lr()){var s=In;$o(),D.setupDebug&&D.runEval?(Fn(),Ir(),Bo(),vr("restart"),D.runEval(r=>!0)):(Bo(),Ir()),s&&ps()}}function uu(){var s=$("#debugExprModal"),r=$("#debugExprSubmit");$("#debugExprInput").val(ts),$("#debugExprExamples").text(fu()),s.modal("show"),r.off("click").on("click",()=>{var o=$("#debugExprInput").val()+"";s.modal("hide"),cu(o)})}function fu(){var s=D.saveState&&D.saveState(),r=s.c;console.log(r,s);var o="";return r.PC&&(o+="c.PC == 0x"+gr(r.PC)+`
`),r.SP&&(o+="c.SP < 0x"+gr(r.SP)+`
`),r.HL&&(o+=`c.HL == 0x4000
`),D.readAddress&&(o+=`this.readAddress(0x1234) == 0x0
`),D.readVRAMAddress&&(o+=`this.readVRAMAddress(0x1234) != 0x80
`),D.getRasterScanline&&(o+=`this.getRasterScanline() > 222
`),o}function cu(s){var r=new Function("c","return ("+s+");").bind(D);vr(),D.runEval(r),ts=s}function ds(){D.isRunning()?(me.tick(),Pi=!1):Pi||(me.tick(),Pi=!0),setTimeout(ds,100)}function si(s){D.setFrameRate(s),s>.01?$("#fps_label").text(s.toFixed(2)):$("#fps_label").text("1/"+Math.round(1/s))}function du(){var s=D.getFrameRate();s=s/2,s>1e-5&&si(s)}function hu(){var s=D.getFrameRate();s=Math.min(60,s*2),si(s)}function pu(){si(60/65536)}function mu(){Ir(),si(60)}function gu(){me.refresh(!1);var s=me.getActive();if(s.getSourceFile&&s.setTimingResult){var r=D.newCodeAnalyzer();r.showLoopTimingForPC(0),s.setTimingResult(r)}}function $o(){In&&(D.setRecorder(null),$("#dbg_record").removeClass("btn_recording"),$("#replaydiv").hide(),ls(),In=!1)}function hs(){In&&Rt.reset()}function ps(){Rt.reset(),D.setRecorder(Rt),$("#dbg_record").addClass("btn_recording"),$("#replaydiv").show(),In=!0}function vu(){In?$o():ps()}function Fr(s,r,o){var f=me.getActive();f&&f.insertText?(bootbox.prompt({title:"Add "+yn.sanitize(s)+" File to Project",value:"filename"+yn.sanitize(r),callback:h=>{if(h&&h.trim().length>0){if(!Ho(h))return;var E=h,C=`
`+o(h)+`
`;he.loadFiles([E]).then(P=>{P&&P.length?ve(h+" already exists; including anyway"):he.updateFile(E,`
`),f.insertText(C),ii()})}}}),Fi()):ve("Can't insert text in this window -- switch back to main file")}function bu(){var s=tt(),r=D.getToolForFilename(s);s.endsWith(".c")||r=="sdcc"||r=="cc65"||r=="cmoc"||r=="smlrc"?Fr("Header",".h",o=>'#include "'+o+'"'):r=="dasm"||r=="zmac"?Fr("Include",".inc",o=>'	include "'+o+'"'):r=="ca65"||r=="sdasz80"||r=="vasm"||r=="armips"?Fr("Include",".inc",o=>'	.include "'+o+'"'):r=="verilator"?Fr("Verilog",".v",o=>'`include "'+o+'"'):r=="wiz"?Fr("Include",".wiz",o=>'import "'+o+'";'):r=="ecs"?Fr("Include",".ecs",o=>'import "'+o+'"'):r=="acme"?Fr("Include",".acme",o=>'!src "'+o+'"'):ve("Can't add include file to this project type ("+r+")")}function yu(){var s=tt(),r=D.getToolForFilename(s);s.endsWith(".c")||r=="sdcc"||r=="cc65"||r=="cmoc"||r=="smlrc"?Fr("Linked C (or .s)",".c",o=>'//#link "'+o+'"'):s.endsWith("asm")||s.endsWith(".s")||r=="ca65"||r=="lwasm"?Fr("Linked ASM",".inc",o=>';#link "'+o+'"'):ve("Can't add linked file to this project type ("+r+")")}function ms(){Mt=!Mt,Al(Mt),window.autoCompileEnabled=Mt,gs(),console.log("Auto-compile",Mt?"enabled":"disabled")}function wu(){he&&he.mainPath&&(console.log("Manual build and run triggered"),window.isManualCompilation=!0,he.sendBuild(),setTimeout(()=>{window.isManualCompilation=!1},1e3))}function gs(){let s=document.getElementById("auto_compile_checkbox"),r=document.getElementById("auto_compile_toggle"),o=document.getElementById("manual_build_btn"),f=document.getElementById("auto_compile_status");s&&(s.checked=!!Mt),r&&r.setAttribute("title",Mt?"Auto-Compile Enabled (Ctrl+Alt+C)":"Auto-Compile Disabled (Ctrl+Alt+C)"),f&&(Mt?(f.textContent="Auto-Compile: ON",f.style.color="#5cb85c"):(f.textContent="Auto-Compile: OFF",f.style.color="#b0b0b0")),o&&(Mt?o.style.display="none":o.style.display="inline-block")}function Eu(){je=new oa($("#toolbar")[0],null),je.grp.prop("id","run_bar"),je.add("ctrl+alt+r","Reset","glyphicon-refresh",su).prop("id","dbg_reset"),je.add("ctrl+alt+,","Pause","glyphicon-pause",Jl).prop("id","dbg_pause"),je.add("ctrl+alt+.","Resume","glyphicon-play",fs).prop("id","dbg_go"),D.restartAtPC&&je.add("ctrl+alt+/","Restart at Cursor","glyphicon-play-circle",nu).prop("id","dbg_restartatline"),je.newGroup(),je.grp.prop("id","compile_bar"),je.add("ctrl+alt+c","Toggle Auto-Compile",null,ms);let s=$('<span id="auto_compile_toggle" class="auto-compile-switch" />').appendTo(je.grp),r=$('<label class="switch" />').appendTo(s),o=$('<input type="checkbox" id="auto_compile_checkbox" />').appendTo(r),f=$('<span class="slider round"></span>').appendTo(r);if(o.on("change",()=>{ms()}),$('<span class="auto-compile-status">Auto-Compile: ON</span>').appendTo(je.grp).prop("id","auto_compile_status"),je.add("ctrl+alt+m","Build and Run","glyphicon-play",wu).prop("id","manual_build_btn"),je.newGroup(),je.grp.prop("id","debug_bar"),D.runEval&&je.add("ctrl+alt+e","Reset and Debug","glyphicon-fast-backward",lu).prop("id","dbg_restart"),D.stepBack&&je.add("ctrl+alt+b","Step Backwards","glyphicon-step-backward",au).prop("id","dbg_stepback"),D.step&&je.add("ctrl+alt+s","Single Step","glyphicon-step-forward",eu).prop("id","dbg_step"),D.stepOver&&je.add("ctrl+alt+t","Step Over","glyphicon-hand-right",tu).prop("id","dbg_stepover"),D.runUntilReturn&&je.add("ctrl+alt+o","Step Out of Subroutine","glyphicon-hand-up",ou).prop("id","dbg_stepout"),D.runToVsync&&je.add("ctrl+alt+n","Next Frame/Interrupt","glyphicon-forward",ru).prop("id","dbg_tovsync"),(D.runEval||D.runToPC)&&!oe.startsWith("verilog")&&je.add("ctrl+alt+l","Run To Line","glyphicon-save",iu).prop("id","dbg_toline"),je.newGroup(),je.grp.prop("id","xtra_bar"),gs(),$(".dropdown-menu").collapse({toggle:!1}),$("#item_new_file").click(Wl),$("#item_upload_file").click(Hl),$("#item_open_directory").click(jl),$("#item_github_login").click(Ea),$("#item_github_logout").click(xa),$("#item_github_import").click(_a),$("#item_github_publish").click(Ta),$("#item_github_push").click(Sa),$("#item_github_pull").click(Ca),$("#item_repo_delete").click(ka),$("#item_share_file").click(Da),$("#item_reset_file").click(zl),$("#item_rename_file").click(Vl),$("#item_delete_file").click(Gl),D.runEval?$("#item_debug_expr").click(uu).show():$("#item_debug_expr").hide(),$("#item_download_rom").click(xo),$("#item_download_file").click(La),$("#item_download_zip").click(Ia),D.getDebugSymbolFile?$("#item_download_sym").click(Fa):$("#item_download_sym").hide(),$("#item_download_allzip").click(Ma),$("#item_record_video").click(Oa),Eo()?$("#item_export_cassette").click(Ra):$("#item_export_cassette").hide(),D.setFrameRate&&D.getFrameRate&&($("#dbg_slower").click(du),$("#dbg_faster").click(hu),$("#dbg_slowest").click(pu),$("#dbg_fastest").click(mu)),$("#item_addfile_include").click(bu),$("#item_addfile_link").click(yu),$("#item_request_persist").click(()=>Oo(!0,!1)),ds(),D.newCodeAnalyzer&&je.add(null,"Analyze CPU Timing","glyphicon-time",gu),D.setRecorder&&D.advance&&xu(),D.showHelp){let{li:P,a:L}=No("help__"+oe,Io+" Help");$("#help_menu").append(P),$(L).click(()=>window.open(D.showHelp(),"_8bws_help"))}let E=D.getToolForFilename(tt()),C=Dl[E];if(C){let{li:P,a:L}=No("help__"+E,E+" Help");$("#help_menu").append(P),$(L).click(()=>window.open(C,"_8bws_help"))}}function xu(){var s=$("#replayslider"),r=$("#clockslider"),o=$("#replay_frame"),f=$("#replay_clock");D.advanceFrameClock||$("#clockdiv").hide();var h=()=>{o.text(Rt.lastSeekFrame+""),f.text(Rt.lastSeekStep+"")},E=L=>{Xr();var q=parseInt(s.val().toString()),ae=parseInt(r.val().toString());Rt.loadFrame(q,ae)>=0&&(r.attr("min",0),r.attr("max",Rt.lastStepCount),h(),Oi(D.saveState()))},C=L=>{Xr(),Rt.loadFrame(L)>=0&&(s.val(L),h(),Oi(D.saveState()))},P=L=>{Xr();var q=parseInt(s.val().toString());Rt.loadFrame(q,L)>=0&&(r.val(L),h(),Oi(D.saveState()))};Rt.callbackStateChanged=()=>{s.attr("min",0),s.attr("max",Rt.numFrames()),s.val(Rt.currentFrame()),r.val(Rt.currentStep()),h(),ai(D.saveState())},s.on("input",E),r.on("input",E),$("#replay_min").click(()=>{C(1)}),$("#replay_max").click(()=>{C(Rt.numFrames())}),$("#replay_back").click(()=>{C(parseInt(s.val().toString())-1)}),$("#replay_fwd").click(()=>{C(parseInt(s.val().toString())+1)}),$("#clock_back").click(()=>{P(parseInt(r.val().toString())-1)}),$("#clock_fwd").click(()=>{P(parseInt(r.val().toString())+1)}),$("#replay_bar").show(),je.add("ctrl+alt+0","Start/Stop Replay Recording","glyphicon-record",vu).prop("id","dbg_record")}function _u(){try{var s=window.screen.orientation||window.screen.msOrientation||window.screen.mozOrientation||null;if(s){if(s.type.indexOf("landscape")!==-1)return!0;if(s.type.indexOf("portrait")!==-1)return!1}if("orientation"in window){var r=window.orientation;if(r===0||r===180)return!1;if(r===90||r===270)return!0}}catch(o){}return window.innerWidth>window.innerHeight}async function Tu(){if(En.shouldCompleteTour()){await Vt("lib/bootstrap-tourist.js");var s=oe.startsWith("vcs"),r=[{element:"#platformsMenuButton",placement:"right",title:"Platform Selector",content:`You're currently on the "<b>`+oe+'</b>" platform. You can choose a different one from the menu.'},{element:"#preset_select",title:"Project Selector",content:"You can choose different code examples, create your own files, or import projects from GitHub."},{element:"#workspace",title:"Code Editor",content:s?"Type your 6502 assembly code into the editor, and it'll be assembled in real-time.":"Type your source code into the editor, and it'll be compiled in real-time."},{element:"#emulator",placement:"left",title:"Emulator",content:"We'll load your compiled code into the emulator whenever you make changes."},{element:"#debug_bar",placement:"bottom",title:"Debug Tools",content:"Use these buttons to set breakpoints, single step through code, pause/resume, and use debugging tools."},{element:"#dropdownMenuButton",title:"Main Menu",content:"Click the menu to create new files, download your code, or share your work with others."},{element:"#sidebar",title:"Sidebar",content:"Pull right to expose the sidebar. It lets you switch between source files, view assembly listings, and use other tools like Disassembler, Memory Browser, and Asset Editor."}];_u()||r.unshift({element:"#controls_top",placement:"bottom",title:"Portrait mode detected",content:"This site works best on desktop browsers. For best results, rotate your device to landscape orientation."}),window.location.host.endsWith("8bitworkshop.com")&&(r.unshift({element:"#dropdownMenuButton",placement:"right",title:"Cookie Consent",content:'Before we start, we should tell you that this website stores cookies and other data in your browser. You can review our <a href="/privacy.html" target="_new">privacy policy</a>.'}),r.push({element:"#booksMenuButton",placement:"left",title:"Books",content:"Get some books that explain how to program all of this stuff, and write some games!"})),ti&&(r.unshift({element:"#dropdownMenuButton",placement:"right",title:"Developer Analytics",content:"BTW, we send stack traces to sentry.io when exceptions are thrown. Hope that's ok."}),r.unshift({element:"#dropdownMenuButton",placement:"right",title:"Welcome to 8bitworkshop Desktop!",content:'The directory "~/8bitworkshop" contains all of your file edits and built ROM images. You can create new projects under the platform directories (e.g. "c64/myproject")'}));var o=new Tour({autoscroll:!1,steps:r,onEnd:()=>{En.completedTour()}});setTimeout(()=>{o.start()},2500)}}function Ni(s){var r=(s.message||s.error||s)+"";if(r.indexOf("QuotaExceededError")>=0)Oo(!1,!1);else{var o=s.error||s.reason;o!=null&&o instanceof io&&vs(o)}}function vs(s){console.log("haltEmulation"),Xr(),Hu(s)}function Su(){window.addEventListener("error",Ni),window.addEventListener("unhandledrejection",Ni)}function bs(){window.removeEventListener("error",Ni),window.removeEventListener("unhandledrejection",Ni)}function qr(s,r){r&&(K=r),bs(),s?window.location.replace("?"+$.param(K)):window.location.href="?"+$.param(K)}function Wi(){oe&&(K.platform=oe),delete K[""],history.replaceState({},"","?"+$.param(K))}function Cu(){var s=!1;document.addEventListener("visibilitychange",()=>{document.visibilityState=="hidden"&&D&&D.isRunning()?(Xr(),s=!0):document.visibilityState=="visible"&&s&&(Ir(),s=!1)}),$(window).on("focus",()=>{s&&(Ir(),s=!1)}),$(window).on("blur",()=>{D&&D.isRunning()&&(Xr(),s=!0)}),$(window).on("orientationchange",()=>{D&&D.resize&&setTimeout(D.resize.bind(D),200)})}function Au(){var s=$(document).find(".emucontrols-"+mn(oe));oe.endsWith(".mame")&&s.show();var r=$("#emulator").find("canvas");r&&(r.on("focus",()=>{D.isRunning()&&(s.fadeIn(200),D.pause(),D.resume())}),r.on("blur",()=>{s.fadeOut(200)}))}function ku(){window.ga&&($(".dropdown-item").click(s=>{s.target&&s.target.id&&gn("menu",s.target.id)}),wa(location.pathname+"?platform="+oe+(qe?"&repo="+qe:"&file="+K.file)))}async function Du(){if(!no[oe])throw Error("Invalid platform '"+oe+"'.");let s=$("#emuscreen")[0],r=ro(K.options||"");D=new no[oe](s,r),Mu(),Rt=new aa(D);let o=D.getPresets?D.getPresets():[];if(!K.file){var f=En.getLastPreset(),h=f||(qe?null:o[0].id);K.file=h||"DEFAULT",h||ve("There is no default main file for this project. Try selecting one from the pulldown.")}oe=="vcs"&&K.file.startsWith("examples/")&&!K.file.endsWith(".a")&&(K.file+=".a"),Wi(),Su(),ku(),await D.start(),await Kl(),await Il(),await Ol(K.file),D.sourceFileFetch=E=>he.filedata[E],Mt=Cl(),window.autoCompileEnabled=Mt,console.log("Auto-compile state loaded from cookie:",Mt?"enabled":"disabled"),Eu(),Cu(),Au(),Ot?Ru():(oi(),Lu(),Tu()),ys()}function Ru(){$("#dropdownMenuButton").hide(),$("#platformsMenuButton").hide(),$("#booksMenuButton").hide()}function Lu(){mn(oe)=="nes"?$(".book-nes").addClass("book-active"):mn(oe)=="vcs"?$(".book-vcs").addClass("book-active"):mn(oe)=="verilog"?$(".book-verilog").addClass("book-active"):mn(oe)=="c64"?$(".book-c64").addClass("book-active"):D.getToolForFilename(tt())=="sdcc"&&$(".book-arcade").addClass("book-active")}function ys(){setTimeout(()=>{$("#controls_dynamic").css("visibility","inherit")},250)}function Pu(){var s="workspace-split3-"+oe;Ot&&(s="embed-"+s);var r;oe.startsWith("vcs")?r=[0,50,50]:Ot||Gn?r=[0,55,45]:r=[12,44,44];var o=sr&&localStorage.getItem(s);if(o)try{r=JSON.parse(o)}catch(h){console.log(h)}var f=Sl(["#sidebar","#workspace","#emulator"],{sizes:r,minSize:[0,250,250],onDrag:()=>{D&&D.resize&&D.resize()},onDragEnd:()=>{sr&&localStorage.setItem(s,JSON.stringify(f.getSizes())),me&&me.resize()}})}function Iu(s){let r=Rn(K.ignore)||Ot;Ne(!0),Ei(s,async o=>{if(o){var f=It(s);console.log("Importing "+o.length+" bytes as "+f);try{var h=await Yt.getItem(f);Ne(!1),h!=null&&r||(h==null||confirm("Replace existing file '"+f+"'?"))&&await Yt.setItem(f,o),delete K.importURL,K.file=f,Wi(),Es()}finally{Ne(!1)}}else ve("Could not load source code from URL: "+s),Ne(!1)},"text")}async function Fu(){var s=Rn(K.ignore),r=Rn(K.force);Ot?s=!r:r=!1;for(var o=0;o<20;o++){let h=K["file"+o+"_name"],E=K["file"+o+"_data"];if(h==null||E==null)break;var f=await Yt.getItem(h);if(!(s&&f)){let C=E;K["file"+o+"_type"]=="binary"&&(C=bi(atob(C))),(!f||r||confirm("Replace existing file '"+h+"'?"))&&await Yt.setItem(h,C)}o==0&&(K.file=h),delete K["file"+o+"_name"],delete K["file"+o+"_data"],delete K["file"+o+"_type"]}delete K.ignore,delete K.force,Wi()}function Mu(){var s=D.getPlatformName&&D.getPlatformName(),r=$('a[href="?platform='+oe+'"]');r.length&&(r.addClass("dropdown-item-checked"),s=s||r.text()||s),Io=s||oe,$(".platform_name").text(Io)}function Ou(){if(oe=K.platform||En.getLastPlatformID(),qe=K.repo,!K.repo&&!K.file&&(qe=En.getLastRepoID(oe)),sr&&qe&&qe!=="/"){var s=Pn()[qe];s&&(console.log(oe,K,s),K.repo=qe,s.platform_id&&!K.platform&&(K.platform=oe=s.platform_id),s.mainPath&&!K.file&&(K.file=s.mainPath))}else qe="",delete K.repo;oe||(Ot&&ya("The 'platform' must be specified when embed=1"),oe=K.platform="c64")}async function ws(){if(K.githubURL){Ci(K.githubURL,!0);return}if(Ou(),Pu(),Yr=qe||Ft(oe),Ot&&(Yr=(document.referrer||document.location.href)+Yr),Yt=_i(Yr),K.importURL){Iu(K.importURL);return}K.file0_name&&await Fu(),Es()}async function Es(){try{let r=oe.includes("")?oe:mn(oe);var s=await sa(r);console.log("starting platform",oe),await Du(),document.title=document.title+" ["+oe+"] - "+(qe?"["+qe+"] - ":"")+he.mainPath}catch(r){console.log(r),ve('Platform "'+oe+'" failed to load.')}finally{ys()}}var zo="__use_https";function xs(s){document.cookie=zo+"="+s+";domain=8bitworkshop.com;path=/;max-age=315360000"}function Nu(){var s=Bn(zo);if(typeof s=="string")return!!s;var r=sr&&!localStorage.getItem("__lastplatform")?1:0;return xs(r),!!r}function Wu(){bootbox.confirm('<p>Do you want to force the browser to use HTTPS from now on?</p><p>WARNING: This will make all of your local files unavailable, so you should "Download All Changes" first for each platform where you have done work.</p><p>You can go back to HTTP by setting the "'+zo+'" cookie to 0.</p>',s=>{s&&(xs(1),_s())})}function _s(){window.location.protocol=="http:"&&window.location.host=="8bitworkshop.com"&&(Nu()?(bs(),window.location.replace(window.location.href.replace(/^http:/,"https:"))):$("#item_switch_https").click(Wu).show())}_s();function Nc(s,r){D.writeFile(s,r)}function Wc(s){return D.readFile(s)}function Hc(){return D.saveState()}function Hu(s){var r=s&&s.message||r;ss(s,r),me.refresh(!1),D.saveState&&ai(D.saveState())}async function Uu(s){var r=he.filedata[s];r!=null&&(me.updateFile(s,await alternateLocalFilesystem.getFileData(s)),console.log("updating file",s))}function ju(){if(ti&&wn instanceof Uint8Array){var s=_t(tt()),r=D.getROMExtension&&D.getROMExtension(wn)||"-"+Ft(oe)+".bin";alternateLocalFilesystem.setFileData(`bin/${s}${r}`,wn)}}function Bu(s){var r=me.getActive();if(r instanceof Vn){var o=r.editor.getSearchCursor(s);o.findNext()&&r.editor.setSelection(o.pos.to,o.pos.from)}}function $u(){let s=!1;new IntersectionObserver((o,f)=>{for(var h of o)h.isIntersecting&&!s&&(ws(),s=!0),h.intersectionRatio==0&&jo()&&D.isRunning()&&Xr(),h.intersectionRatio>0&&jo()&&!D.isRunning()&&Ir()},{}).observe($("#emulator")[0])}typeof process=="undefined"&&(Ot&&typeof IntersectionObserver=="function"?$u():ws());function zu(){window.autoCompileEnabled=Mt,window.IDE={platform:D,platform_id:oe,current_project:he,projectWindows:me,qs:K,store_id:Yr,repo_id:qe,lastDebugState:Lr,autoCompileEnabled:Mt,getCurrentProject:br,getCurrentMainFilename:tt,getCurrentEditorFilename:To,getCurrentOutput:ot,getPlatformStore:Pr,haltEmulation:vs,gotoNewLocation:qr,setFrameRateUI:si,setupBreakpoint:vr,runToPC:qn,clearBreakpoint:Fn,reloadWorkspaceFile:Uu,highlightSearch:Bu,_downloadROMImage:xo,loadROM:s=>{let r=s||ot();if(!r){console.error("\u274C No compiled output available. Please compile your project first.");return}if(!(r instanceof Uint8Array)){console.error("\u274C Output is not binary data:",typeof r);return}console.log("\u2705 Loading ROM with",r.length,"bytes"),D.loadROM(tt(),r)},debugCompilation:()=>{console.log("=== DEBUGGING COMPILATION OUTPUT ===");let s=ot();if(s?(console.log("\u2705 Current output found:",s),console.log("Current output length:",s.length),s.length>0&&(console.log("First 32 bytes (hex):",Array.from(s.slice(0,32)).map(r=>r.toString(16).padStart(2,"0")).join(" ")),console.log("First 32 bytes (decimal):",Array.from(s.slice(0,32)).join(" ")))):console.log("\u274C No current output found"),typeof Ri!="undefined"?console.log("\u2705 Compilation parameters found:",Ri):console.log("\u274C No compilation parameters found"),D?(console.log("\u2705 Platform found:",D.getName?D.getName():"Unknown"),D.debugSymbols&&console.log("\u2705 Debug symbols found:",D.debugSymbols)):console.log("\u274C No platform found"),window.worker){if(console.log("\u2705 Worker found"),window.worker.store){console.log("\u2705 Store found");let r=Object.keys(window.worker.store.workfs||{});console.log("Files in virtual file system:",r);for(let o of r){let f=window.worker.store.workfs[o];if(console.log(`File: ${o} (${f.data.length} bytes)`),f.data.length>0){let h=Array.from(f.data.slice(0,16));console.log(`  First 16 bytes: ${h.map(E=>E.toString(16).padStart(2,"0")).join(" ")}`)}}}}else console.log("\u274C No worker found")}},console.log("IDE variables exposed globally. Access via window.IDE"),console.log("Use window.IDE.loadROM() to load the current compiled output"),console.log("Use window.IDE.debugCompilation() to debug compilation output")}setTimeout(zu,1e3);export{va as a,K as b,oe as c,Yr as d,qe as e,D as f,he as g,me as h,Lr as i,Pr as j,br as k,ot as l,bo as m,tt as n,To as o,vr as p,qn as q,Fn as r,si as s,vs as t,qr as u,Pu as v,Ou as w,ws as x,Nc as y,Wc as z,Hc as A,Hu as B,Uu as C,Bu as D};
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */
//# sourceMappingURL=chunk-QU5PFKNP.js.map
