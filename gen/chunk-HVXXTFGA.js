import{a as la,b as Pn,c as Xs}from"./chunk-T4FRG4BA.js";import{a as ua,b as fa,c as Ks}from"./chunk-XL74XFFY.js";import{t as aa,u as sa}from"./chunk-CO72NYTV.js";import{$ as oa,B as Yt,C as no,D as Ln,E as zn,F as ia,H as io,R as oo,b as xi,d as At,e as ro,f as Et,g as yr,k as ra,m as Ei,n as Ti,o as $n,p as mn,q as na,v as Gn,w as kt,x as gn}from"./chunk-KXQZZRQB.js";import{c as Bn,d as eo,e as to}from"./chunk-WAARL7ET.js";var so=eo((ca,ao)=>{(function(s){if(typeof ca=="object"&&typeof ao!="undefined")ao.exports=s();else if(typeof define=="function"&&define.amd)define([],s);else{var r;typeof window!="undefined"?r=window:typeof global!="undefined"?r=global:typeof self!="undefined"?r=self:r=this,r.localforage=s()}})(function(){var s,r,o;return function f(p,_,C){function P(ae,Fe){if(!_[ae]){if(!p[ae]){var z=typeof Bn=="function"&&Bn;if(!Fe&&z)return z(ae,!0);if(L)return L(ae,!0);var W=new Error("Cannot find module '"+ae+"'");throw W.code="MODULE_NOT_FOUND",W}var Y=_[ae]={exports:{}};p[ae][0].call(Y.exports,function(Ee){var ne=p[ae][1][Ee];return P(ne||Ee)},Y,Y.exports,f,p,_,C)}return _[ae].exports}for(var L=typeof Bn=="function"&&Bn,q=0;q<C.length;q++)P(C[q]);return P}({1:[function(f,p,_){(function(C){"use strict";var P=C.MutationObserver||C.WebKitMutationObserver,L;if(P){var q=0,ae=new P(Ee),Fe=C.document.createTextNode("");ae.observe(Fe,{characterData:!0}),L=function(){Fe.data=q=++q%2}}else if(!C.setImmediate&&typeof C.MessageChannel!="undefined"){var z=new C.MessageChannel;z.port1.onmessage=Ee,L=function(){z.port2.postMessage(0)}}else"document"in C&&"onreadystatechange"in C.document.createElement("script")?L=function(){var We=C.document.createElement("script");We.onreadystatechange=function(){Ee(),We.onreadystatechange=null,We.parentNode.removeChild(We),We=null},C.document.documentElement.appendChild(We)}:L=function(){setTimeout(Ee,0)};var W,Y=[];function Ee(){W=!0;for(var We,at,De=Y.length;De;){for(at=Y,Y=[],We=-1;++We<De;)at[We]();De=Y.length}W=!1}p.exports=ne;function ne(We){Y.push(We)===1&&!W&&L()}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(f,p,_){"use strict";var C=f(1);function P(){}var L={},q=["REJECTED"],ae=["FULFILLED"],Fe=["PENDING"];p.exports=z;function z(i){if(typeof i!="function")throw new TypeError("resolver must be a function");this.state=Fe,this.queue=[],this.outcome=void 0,i!==P&&ne(this,i)}z.prototype.catch=function(i){return this.then(null,i)},z.prototype.then=function(i,me){if(typeof i!="function"&&this.state===ae||typeof me!="function"&&this.state===q)return this;var ee=new this.constructor(P);if(this.state!==Fe){var Le=this.state===ae?i:me;Y(ee,Le,this.outcome)}else this.queue.push(new W(ee,i,me));return ee};function W(i,me,ee){this.promise=i,typeof me=="function"&&(this.onFulfilled=me,this.callFulfilled=this.otherCallFulfilled),typeof ee=="function"&&(this.onRejected=ee,this.callRejected=this.otherCallRejected)}W.prototype.callFulfilled=function(i){L.resolve(this.promise,i)},W.prototype.otherCallFulfilled=function(i){Y(this.promise,this.onFulfilled,i)},W.prototype.callRejected=function(i){L.reject(this.promise,i)},W.prototype.otherCallRejected=function(i){Y(this.promise,this.onRejected,i)};function Y(i,me,ee){C(function(){var Le;try{Le=me(ee)}catch(Qe){return L.reject(i,Qe)}Le===i?L.reject(i,new TypeError("Cannot resolve promise with itself")):L.resolve(i,Le)})}L.resolve=function(i,me){var ee=We(Ee,me);if(ee.status==="error")return L.reject(i,ee.value);var Le=ee.value;if(Le)ne(i,Le);else{i.state=ae,i.outcome=me;for(var Qe=-1,Pe=i.queue.length;++Qe<Pe;)i.queue[Qe].callFulfilled(me)}return i},L.reject=function(i,me){i.state=q,i.outcome=me;for(var ee=-1,Le=i.queue.length;++ee<Le;)i.queue[ee].callRejected(me);return i};function Ee(i){var me=i&&i.then;if(i&&(typeof i=="object"||typeof i=="function")&&typeof me=="function")return function(){me.apply(i,arguments)}}function ne(i,me){var ee=!1;function Le(Ye){ee||(ee=!0,L.reject(i,Ye))}function Qe(Ye){ee||(ee=!0,L.resolve(i,Ye))}function Pe(){me(Qe,Le)}var ce=We(Pe);ce.status==="error"&&Le(ce.value)}function We(i,me){var ee={};try{ee.value=i(me),ee.status="success"}catch(Le){ee.status="error",ee.value=Le}return ee}z.resolve=at;function at(i){return i instanceof this?i:L.resolve(new this(P),i)}z.reject=De;function De(i){var me=new this(P);return L.reject(me,i)}z.all=Re;function Re(i){var me=this;if(Object.prototype.toString.call(i)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ee=i.length,Le=!1;if(!ee)return this.resolve([]);for(var Qe=new Array(ee),Pe=0,ce=-1,Ye=new this(P);++ce<ee;)Tt(i[ce],ce);return Ye;function Tt(xr,ht){me.resolve(xr).then(Er,function(mt){Le||(Le=!0,L.reject(Ye,mt))});function Er(mt){Qe[ht]=mt,++Pe===ee&&!Le&&(Le=!0,L.resolve(Ye,Qe))}}}z.race=rt;function rt(i){var me=this;if(Object.prototype.toString.call(i)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ee=i.length,Le=!1;if(!ee)return this.resolve([]);for(var Qe=-1,Pe=new this(P);++Qe<ee;)ce(i[Qe]);return Pe;function ce(Ye){me.resolve(Ye).then(function(Tt){Le||(Le=!0,L.resolve(Pe,Tt))},function(Tt){Le||(Le=!0,L.reject(Pe,Tt))})}}},{"1":1}],3:[function(f,p,_){(function(C){"use strict";typeof C.Promise!="function"&&(C.Promise=f(2))}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(f,p,_){"use strict";var C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};function P(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function L(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch(d){return}}var q=L();function ae(){try{if(!q||!q.open)return!1;var d=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),y=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!d||y)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch(h){return!1}}function Fe(d,y){d=d||[],y=y||{};try{return new Blob(d,y)}catch(x){if(x.name!=="TypeError")throw x;for(var h=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,E=new h,S=0;S<d.length;S+=1)E.append(d[S]);return E.getBlob(y.type)}}typeof Promise=="undefined"&&f(3);var z=Promise;function W(d,y){y&&d.then(function(h){y(null,h)},function(h){y(h)})}function Y(d,y,h){typeof y=="function"&&d.then(y),typeof h=="function"&&d.catch(h)}function Ee(d){return typeof d!="string"&&(console.warn(d+" used as a key, but it is not a string."),d=String(d)),d}function ne(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var We="local-forage-detect-blob-support",at=void 0,De={},Re=Object.prototype.toString,rt="readonly",i="readwrite";function me(d){for(var y=d.length,h=new ArrayBuffer(y),E=new Uint8Array(h),S=0;S<y;S++)E[S]=d.charCodeAt(S);return h}function ee(d){return new z(function(y){var h=d.transaction(We,i),E=Fe([""]);h.objectStore(We).put(E,"key"),h.onabort=function(S){S.preventDefault(),S.stopPropagation(),y(!1)},h.oncomplete=function(){var S=navigator.userAgent.match(/Chrome\/(\d+)/),x=navigator.userAgent.match(/Edge\//);y(x||!S||parseInt(S[1],10)>=43)}}).catch(function(){return!1})}function Le(d){return typeof at=="boolean"?z.resolve(at):ee(d).then(function(y){return at=y,at})}function Qe(d){var y=De[d.name],h={};h.promise=new z(function(E,S){h.resolve=E,h.reject=S}),y.deferredOperations.push(h),y.dbReady?y.dbReady=y.dbReady.then(function(){return h.promise}):y.dbReady=h.promise}function Pe(d){var y=De[d.name],h=y.deferredOperations.pop();if(h)return h.resolve(),h.promise}function ce(d,y){var h=De[d.name],E=h.deferredOperations.pop();if(E)return E.reject(y),E.promise}function Ye(d,y){return new z(function(h,E){if(De[d.name]=De[d.name]||ze(),d.db)if(y)Qe(d),d.db.close();else return h(d.db);var S=[d.name];y&&S.push(d.version);var x=q.open.apply(q,S);y&&(x.onupgradeneeded=function(F){var N=x.result;try{N.createObjectStore(d.storeName),F.oldVersion<=1&&N.createObjectStore(We)}catch(B){if(B.name==="ConstraintError")console.warn('The database "'+d.name+'" has been upgraded from version '+F.oldVersion+" to version "+F.newVersion+', but the storage "'+d.storeName+'" already exists.');else throw B}}),x.onerror=function(F){F.preventDefault(),E(x.error)},x.onsuccess=function(){var F=x.result;F.onversionchange=function(N){N.target.close()},h(F),Pe(d)}})}function Tt(d){return Ye(d,!1)}function xr(d){return Ye(d,!0)}function ht(d,y){if(!d.db)return!0;var h=!d.db.objectStoreNames.contains(d.storeName),E=d.version<d.db.version,S=d.version>d.db.version;if(E&&(d.version!==y&&console.warn('The database "'+d.name+`" can't be downgraded from version `+d.db.version+" to version "+d.version+"."),d.version=d.db.version),S||h){if(h){var x=d.db.version+1;x>d.version&&(d.version=x)}return!0}return!1}function Er(d){return new z(function(y,h){var E=new FileReader;E.onerror=h,E.onloadend=function(S){var x=btoa(S.target.result||"");y({__local_forage_encoded_blob:!0,data:x,type:d.type})},E.readAsBinaryString(d)})}function mt(d){var y=me(atob(d.data));return Fe([y],{type:d.type})}function Qr(d){return d&&d.__local_forage_encoded_blob}function Zr(d){var y=this,h=y._initReady().then(function(){var E=De[y._dbInfo.name];if(E&&E.dbReady)return E.dbReady});return Y(h,d,d),h}function Ge(d){Qe(d);for(var y=De[d.name],h=y.forages,E=0;E<h.length;E++){var S=h[E];S._dbInfo.db&&(S._dbInfo.db.close(),S._dbInfo.db=null)}return d.db=null,Tt(d).then(function(x){return d.db=x,ht(d)?xr(d):x}).then(function(x){d.db=y.db=x;for(var F=0;F<h.length;F++)h[F]._dbInfo.db=x}).catch(function(x){throw ce(d,x),x})}function gt(d,y,h,E){E===void 0&&(E=1);try{var S=d.db.transaction(d.storeName,y);h(null,S)}catch(x){if(E>0&&(!d.db||x.name==="InvalidStateError"||x.name==="NotFoundError"))return z.resolve().then(function(){if(!d.db||x.name==="NotFoundError"&&!d.db.objectStoreNames.contains(d.storeName)&&d.version<=d.db.version)return d.db&&(d.version=d.db.version+1),xr(d)}).then(function(){return Ge(d).then(function(){gt(d,y,h,E-1)})}).catch(h);h(x)}}function ze(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function En(d){var y=this,h={db:null};if(d)for(var E in d)h[E]=d[E];var S=De[h.name];S||(S=ze(),De[h.name]=S),S.forages.push(y),y._initReady||(y._initReady=y.ready,y.ready=Zr);var x=[];function F(){return z.resolve()}for(var N=0;N<S.forages.length;N++){var B=S.forages[N];B!==y&&x.push(B._initReady().catch(F))}var G=S.forages.slice(0);return z.all(x).then(function(){return h.db=S.db,Tt(h)}).then(function(U){return h.db=U,ht(h,y._defaultConfig.version)?xr(h):U}).then(function(U){h.db=S.db=U,y._dbInfo=h;for(var re=0;re<G.length;re++){var he=G[re];he!==y&&(he._dbInfo.db=h.db,he._dbInfo.version=h.version)}})}function He(d,y){var h=this;d=Ee(d);var E=new z(function(S,x){h.ready().then(function(){gt(h._dbInfo,rt,function(F,N){if(F)return x(F);try{var B=N.objectStore(h._dbInfo.storeName),G=B.get(d);G.onsuccess=function(){var U=G.result;U===void 0&&(U=null),Qr(U)&&(U=mt(U)),S(U)},G.onerror=function(){x(G.error)}}catch(U){x(U)}})}).catch(x)});return W(E,y),E}function Tr(d,y){var h=this,E=new z(function(S,x){h.ready().then(function(){gt(h._dbInfo,rt,function(F,N){if(F)return x(F);try{var B=N.objectStore(h._dbInfo.storeName),G=B.openCursor(),U=1;G.onsuccess=function(){var re=G.result;if(re){var he=re.value;Qr(he)&&(he=mt(he));var Ae=d(he,re.key,U++);Ae!==void 0?S(Ae):re.continue()}else S()},G.onerror=function(){x(G.error)}}catch(re){x(re)}})}).catch(x)});return W(E,y),E}function Jr(d,y,h){var E=this;d=Ee(d);var S=new z(function(x,F){var N;E.ready().then(function(){return N=E._dbInfo,Re.call(y)==="[object Blob]"?Le(N.db).then(function(B){return B?y:Er(y)}):y}).then(function(B){gt(E._dbInfo,i,function(G,U){if(G)return F(G);try{var re=U.objectStore(E._dbInfo.storeName);B===null&&(B=void 0);var he=re.put(B,d);U.oncomplete=function(){B===void 0&&(B=null),x(B)},U.onabort=U.onerror=function(){var Ae=he.error?he.error:he.transaction.error;F(Ae)}}catch(Ae){F(Ae)}})}).catch(F)});return W(S,h),S}function en(d,y){var h=this;d=Ee(d);var E=new z(function(S,x){h.ready().then(function(){gt(h._dbInfo,i,function(F,N){if(F)return x(F);try{var B=N.objectStore(h._dbInfo.storeName),G=B.delete(d);N.oncomplete=function(){S()},N.onerror=function(){x(G.error)},N.onabort=function(){var U=G.error?G.error:G.transaction.error;x(U)}}catch(U){x(U)}})}).catch(x)});return W(E,y),E}function vt(d){var y=this,h=new z(function(E,S){y.ready().then(function(){gt(y._dbInfo,i,function(x,F){if(x)return S(x);try{var N=F.objectStore(y._dbInfo.storeName),B=N.clear();F.oncomplete=function(){E()},F.onabort=F.onerror=function(){var G=B.error?B.error:B.transaction.error;S(G)}}catch(G){S(G)}})}).catch(S)});return W(h,d),h}function Tn(d){var y=this,h=new z(function(E,S){y.ready().then(function(){gt(y._dbInfo,rt,function(x,F){if(x)return S(x);try{var N=F.objectStore(y._dbInfo.storeName),B=N.count();B.onsuccess=function(){E(B.result)},B.onerror=function(){S(B.error)}}catch(G){S(G)}})}).catch(S)});return W(h,d),h}function Qt(d,y){var h=this,E=new z(function(S,x){if(d<0){S(null);return}h.ready().then(function(){gt(h._dbInfo,rt,function(F,N){if(F)return x(F);try{var B=N.objectStore(h._dbInfo.storeName),G=!1,U=B.openKeyCursor();U.onsuccess=function(){var re=U.result;if(!re){S(null);return}d===0||G?S(re.key):(G=!0,re.advance(d))},U.onerror=function(){x(U.error)}}catch(re){x(re)}})}).catch(x)});return W(E,y),E}function Wt(d){var y=this,h=new z(function(E,S){y.ready().then(function(){gt(y._dbInfo,rt,function(x,F){if(x)return S(x);try{var N=F.objectStore(y._dbInfo.storeName),B=N.openKeyCursor(),G=[];B.onsuccess=function(){var U=B.result;if(!U){E(G);return}G.push(U.key),U.continue()},B.onerror=function(){S(B.error)}}catch(U){S(U)}})}).catch(S)});return W(h,d),h}function Nr(d,y){y=ne.apply(this,arguments);var h=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||h.name,d.storeName=d.storeName||h.storeName);var E=this,S;if(!d.name)S=z.reject("Invalid arguments");else{var x=d.name===h.name&&E._dbInfo.db,F=x?z.resolve(E._dbInfo.db):Tt(d).then(function(N){var B=De[d.name],G=B.forages;B.db=N;for(var U=0;U<G.length;U++)G[U]._dbInfo.db=N;return N});d.storeName?S=F.then(function(N){if(!!N.objectStoreNames.contains(d.storeName)){var B=N.version+1;Qe(d);var G=De[d.name],U=G.forages;N.close();for(var re=0;re<U.length;re++){var he=U[re];he._dbInfo.db=null,he._dbInfo.version=B}var Ae=new z(function(Ie,Ne){var Me=q.open(d.name,B);Me.onerror=function(_t){var cn=Me.result;cn.close(),Ne(_t)},Me.onupgradeneeded=function(){var _t=Me.result;_t.deleteObjectStore(d.storeName)},Me.onsuccess=function(){var _t=Me.result;_t.close(),Ie(_t)}});return Ae.then(function(Ie){G.db=Ie;for(var Ne=0;Ne<U.length;Ne++){var Me=U[Ne];Me._dbInfo.db=Ie,Pe(Me._dbInfo)}}).catch(function(Ie){throw(ce(d,Ie)||z.resolve()).catch(function(){}),Ie})}}):S=F.then(function(N){Qe(d);var B=De[d.name],G=B.forages;N.close();for(var U=0;U<G.length;U++){var re=G[U];re._dbInfo.db=null}var he=new z(function(Ae,Ie){var Ne=q.deleteDatabase(d.name);Ne.onerror=function(){var Me=Ne.result;Me&&Me.close(),Ie(Ne.error)},Ne.onblocked=function(){console.warn('dropInstance blocked for database "'+d.name+'" until all open connections are closed')},Ne.onsuccess=function(){var Me=Ne.result;Me&&Me.close(),Ae(Me)}});return he.then(function(Ae){B.db=Ae;for(var Ie=0;Ie<G.length;Ie++){var Ne=G[Ie];Pe(Ne._dbInfo)}}).catch(function(Ae){throw(ce(d,Ae)||z.resolve()).catch(function(){}),Ae})})}return W(S,y),S}var Zt={_driver:"asyncStorage",_initStorage:En,_support:ae(),iterate:Tr,getItem:He,setItem:Jr,removeItem:en,clear:vt,length:Tn,key:Qt,keys:Wt,dropInstance:Nr};function Sr(){return typeof openDatabase=="function"}var lt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",st="~~local_forage_type~",Cr=/^~~local_forage_type~([^~]+)~/,Jt="__lfsc__:",Wr=Jt.length,ut="arbf",er="blob",$t="si08",J="ui08",Be="uic8",tr="si16",tn="si32",rn="ur16",Ur="ui32",Ar="fl32",rr="fl64",ft=Wr+ut.length,St=Object.prototype.toString;function nt(d){var y=d.length*.75,h=d.length,E,S=0,x,F,N,B;d[d.length-1]==="="&&(y--,d[d.length-2]==="="&&y--);var G=new ArrayBuffer(y),U=new Uint8Array(G);for(E=0;E<h;E+=4)x=lt.indexOf(d[E]),F=lt.indexOf(d[E+1]),N=lt.indexOf(d[E+2]),B=lt.indexOf(d[E+3]),U[S++]=x<<2|F>>4,U[S++]=(F&15)<<4|N>>2,U[S++]=(N&3)<<6|B&63;return G}function Gt(d){var y=new Uint8Array(d),h="",E;for(E=0;E<y.length;E+=3)h+=lt[y[E]>>2],h+=lt[(y[E]&3)<<4|y[E+1]>>4],h+=lt[(y[E+1]&15)<<2|y[E+2]>>6],h+=lt[y[E+2]&63];return y.length%3==2?h=h.substring(0,h.length-1)+"=":y.length%3==1&&(h=h.substring(0,h.length-2)+"=="),h}function cr(d,y){var h="";if(d&&(h=St.call(d)),d&&(h==="[object ArrayBuffer]"||d.buffer&&St.call(d.buffer)==="[object ArrayBuffer]")){var E,S=Jt;d instanceof ArrayBuffer?(E=d,S+=ut):(E=d.buffer,h==="[object Int8Array]"?S+=$t:h==="[object Uint8Array]"?S+=J:h==="[object Uint8ClampedArray]"?S+=Be:h==="[object Int16Array]"?S+=tr:h==="[object Uint16Array]"?S+=rn:h==="[object Int32Array]"?S+=tn:h==="[object Uint32Array]"?S+=Ur:h==="[object Float32Array]"?S+=Ar:h==="[object Float64Array]"?S+=rr:y(new Error("Failed to get type for BinaryArray"))),y(S+Gt(E))}else if(h==="[object Blob]"){var x=new FileReader;x.onload=function(){var F=st+d.type+"~"+Gt(this.result);y(Jt+er+F)},x.readAsArrayBuffer(d)}else try{y(JSON.stringify(d))}catch(F){console.error("Couldn't convert value into a JSON string: ",d),y(null,F)}}function Hr(d){if(d.substring(0,Wr)!==Jt)return JSON.parse(d);var y=d.substring(ft),h=d.substring(Wr,ft),E;if(h===er&&Cr.test(y)){var S=y.match(Cr);E=S[1],y=y.substring(S[0].length)}var x=nt(y);switch(h){case ut:return x;case er:return Fe([x],{type:E});case $t:return new Int8Array(x);case J:return new Uint8Array(x);case Be:return new Uint8ClampedArray(x);case tr:return new Int16Array(x);case rn:return new Uint16Array(x);case tn:return new Int32Array(x);case Ur:return new Uint32Array(x);case Ar:return new Float32Array(x);case rr:return new Float64Array(x);default:throw new Error("Unkown type: "+h)}}var jr={serialize:cr,deserialize:Hr,stringToBuffer:nt,bufferToString:Gt};function kr(d,y,h,E){d.executeSql("CREATE TABLE IF NOT EXISTS "+y.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],h,E)}function Ut(d){var y=this,h={db:null};if(d)for(var E in d)h[E]=typeof d[E]!="string"?d[E].toString():d[E];var S=new z(function(x,F){try{h.db=openDatabase(h.name,String(h.version),h.description,h.size)}catch(N){return F(N)}h.db.transaction(function(N){kr(N,h,function(){y._dbInfo=h,x()},function(B,G){F(G)})},F)});return h.serializer=jr,S}function yt(d,y,h,E,S,x){d.executeSql(h,E,S,function(F,N){N.code===N.SYNTAX_ERR?F.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[y.storeName],function(B,G){G.rows.length?x(B,N):kr(B,y,function(){B.executeSql(h,E,S,x)},x)},x):x(F,N)},x)}function dr(d,y){var h=this;d=Ee(d);var E=new z(function(S,x){h.ready().then(function(){var F=h._dbInfo;F.db.transaction(function(N){yt(N,F,"SELECT * FROM "+F.storeName+" WHERE key = ? LIMIT 1",[d],function(B,G){var U=G.rows.length?G.rows.item(0).value:null;U&&(U=F.serializer.deserialize(U)),S(U)},function(B,G){x(G)})})}).catch(x)});return W(E,y),E}function Sn(d,y){var h=this,E=new z(function(S,x){h.ready().then(function(){var F=h._dbInfo;F.db.transaction(function(N){yt(N,F,"SELECT * FROM "+F.storeName,[],function(B,G){for(var U=G.rows,re=U.length,he=0;he<re;he++){var Ae=U.item(he),Ie=Ae.value;if(Ie&&(Ie=F.serializer.deserialize(Ie)),Ie=d(Ie,Ae.key,he+1),Ie!==void 0){S(Ie);return}}S()},function(B,G){x(G)})})}).catch(x)});return W(E,y),E}function ct(d,y,h,E){var S=this;d=Ee(d);var x=new z(function(F,N){S.ready().then(function(){y===void 0&&(y=null);var B=y,G=S._dbInfo;G.serializer.serialize(y,function(U,re){re?N(re):G.db.transaction(function(he){yt(he,G,"INSERT OR REPLACE INTO "+G.storeName+" (key, value) VALUES (?, ?)",[d,U],function(){F(B)},function(Ae,Ie){N(Ie)})},function(he){if(he.code===he.QUOTA_ERR){if(E>0){F(ct.apply(S,[d,B,h,E-1]));return}N(he)}})})}).catch(N)});return W(x,h),x}function xe(d,y,h){return ct.apply(this,[d,y,h,1])}function zt(d,y){var h=this;d=Ee(d);var E=new z(function(S,x){h.ready().then(function(){var F=h._dbInfo;F.db.transaction(function(N){yt(N,F,"DELETE FROM "+F.storeName+" WHERE key = ?",[d],function(){S()},function(B,G){x(G)})})}).catch(x)});return W(E,y),E}function On(d){var y=this,h=new z(function(E,S){y.ready().then(function(){var x=y._dbInfo;x.db.transaction(function(F){yt(F,x,"DELETE FROM "+x.storeName,[],function(){E()},function(N,B){S(B)})})}).catch(S)});return W(h,d),h}function nn(d){var y=this,h=new z(function(E,S){y.ready().then(function(){var x=y._dbInfo;x.db.transaction(function(F){yt(F,x,"SELECT COUNT(key) as c FROM "+x.storeName,[],function(N,B){var G=B.rows.item(0).c;E(G)},function(N,B){S(B)})})}).catch(S)});return W(h,d),h}function Br(d,y){var h=this,E=new z(function(S,x){h.ready().then(function(){var F=h._dbInfo;F.db.transaction(function(N){yt(N,F,"SELECT key FROM "+F.storeName+" WHERE id = ? LIMIT 1",[d+1],function(B,G){var U=G.rows.length?G.rows.item(0).key:null;S(U)},function(B,G){x(G)})})}).catch(x)});return W(E,y),E}function nr(d){var y=this,h=new z(function(E,S){y.ready().then(function(){var x=y._dbInfo;x.db.transaction(function(F){yt(F,x,"SELECT key FROM "+x.storeName,[],function(N,B){for(var G=[],U=0;U<B.rows.length;U++)G.push(B.rows.item(U).key);E(G)},function(N,B){S(B)})})}).catch(S)});return W(h,d),h}function ir(d){return new z(function(y,h){d.transaction(function(E){E.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(S,x){for(var F=[],N=0;N<x.rows.length;N++)F.push(x.rows.item(N).name);y({db:d,storeNames:F})},function(S,x){h(x)})},function(E){h(E)})})}function on(d,y){y=ne.apply(this,arguments);var h=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||h.name,d.storeName=d.storeName||h.storeName);var E=this,S;return d.name?S=new z(function(x){var F;d.name===h.name?F=E._dbInfo.db:F=openDatabase(d.name,"","",0),d.storeName?x({db:F,storeNames:[d.storeName]}):x(ir(F))}).then(function(x){return new z(function(F,N){x.db.transaction(function(B){function G(Ae){return new z(function(Ie,Ne){B.executeSql("DROP TABLE IF EXISTS "+Ae,[],function(){Ie()},function(Me,_t){Ne(_t)})})}for(var U=[],re=0,he=x.storeNames.length;re<he;re++)U.push(G(x.storeNames[re]));z.all(U).then(function(){F()}).catch(function(Ae){N(Ae)})},function(B){N(B)})})}):S=z.reject("Invalid arguments"),W(S,y),S}var dt={_driver:"webSQLStorage",_initStorage:Ut,_support:Sr(),iterate:Sn,getItem:dr,setItem:xe,removeItem:zt,clear:On,length:nn,key:Br,keys:nr,dropInstance:on};function $r(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(d){return!1}}function an(d,y){var h=d.name+"/";return d.storeName!==y.storeName&&(h+=d.storeName+"/"),h}function Cn(){var d="_localforage_support_test";try{return localStorage.setItem(d,!0),localStorage.removeItem(d),!1}catch(y){return!0}}function Gr(){return!Cn()||localStorage.length>0}function An(d){var y=this,h={};if(d)for(var E in d)h[E]=d[E];return h.keyPrefix=an(d,y._defaultConfig),Gr()?(y._dbInfo=h,h.serializer=jr,z.resolve()):z.reject()}function Ht(d){var y=this,h=y.ready().then(function(){for(var E=y._dbInfo.keyPrefix,S=localStorage.length-1;S>=0;S--){var x=localStorage.key(S);x.indexOf(E)===0&&localStorage.removeItem(x)}});return W(h,d),h}function sn(d,y){var h=this;d=Ee(d);var E=h.ready().then(function(){var S=h._dbInfo,x=localStorage.getItem(S.keyPrefix+d);return x&&(x=S.serializer.deserialize(x)),x});return W(E,y),E}function kn(d,y){var h=this,E=h.ready().then(function(){for(var S=h._dbInfo,x=S.keyPrefix,F=x.length,N=localStorage.length,B=1,G=0;G<N;G++){var U=localStorage.key(G);if(U.indexOf(x)===0){var re=localStorage.getItem(U);if(re&&(re=S.serializer.deserialize(re)),re=d(re,U.substring(F),B++),re!==void 0)return re}}});return W(E,y),E}function or(d,y){var h=this,E=h.ready().then(function(){var S=h._dbInfo,x;try{x=localStorage.key(d)}catch(F){x=null}return x&&(x=x.substring(S.keyPrefix.length)),x});return W(E,y),E}function ln(d){var y=this,h=y.ready().then(function(){for(var E=y._dbInfo,S=localStorage.length,x=[],F=0;F<S;F++){var N=localStorage.key(F);N.indexOf(E.keyPrefix)===0&&x.push(N.substring(E.keyPrefix.length))}return x});return W(h,d),h}function un(d){var y=this,h=y.keys().then(function(E){return E.length});return W(h,d),h}function ie(d,y){var h=this;d=Ee(d);var E=h.ready().then(function(){var S=h._dbInfo;localStorage.removeItem(S.keyPrefix+d)});return W(E,y),E}function w(d,y,h){var E=this;d=Ee(d);var S=E.ready().then(function(){y===void 0&&(y=null);var x=y;return new z(function(F,N){var B=E._dbInfo;B.serializer.serialize(y,function(G,U){if(U)N(U);else try{localStorage.setItem(B.keyPrefix+d,G),F(x)}catch(re){(re.name==="QuotaExceededError"||re.name==="NS_ERROR_DOM_QUOTA_REACHED")&&N(re),N(re)}})})});return W(S,h),S}function j(d,y){if(y=ne.apply(this,arguments),d=typeof d!="function"&&d||{},!d.name){var h=this.config();d.name=d.name||h.name,d.storeName=d.storeName||h.storeName}var E=this,S;return d.name?S=new z(function(x){d.storeName?x(an(d,E._defaultConfig)):x(d.name+"/")}).then(function(x){for(var F=localStorage.length-1;F>=0;F--){var N=localStorage.key(F);N.indexOf(x)===0&&localStorage.removeItem(N)}}):S=z.reject("Invalid arguments"),W(S,y),S}var te={_driver:"localStorageWrapper",_initStorage:An,_support:$r(),iterate:kn,getItem:sn,setItem:w,removeItem:ie,clear:Ht,length:un,key:or,keys:ln,dropInstance:j},Ce=function(y,h){return y===h||typeof y=="number"&&typeof h=="number"&&isNaN(y)&&isNaN(h)},Ze=function(y,h){for(var E=y.length,S=0;S<E;){if(Ce(y[S],h))return!0;S++}return!1},Ve=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"},qe={},bt={},Mt={INDEXEDDB:Zt,WEBSQL:dt,LOCALSTORAGE:te},Je=[Mt.INDEXEDDB._driver,Mt.WEBSQL._driver,Mt.LOCALSTORAGE._driver],Dr=["dropInstance"],zr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Dr),pi={description:"",driver:Je.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function hi(d,y){d[y]=function(){var h=arguments;return d.ready().then(function(){return d[y].apply(d,h)})}}function fn(){for(var d=1;d<arguments.length;d++){var y=arguments[d];if(y)for(var h in y)y.hasOwnProperty(h)&&(Ve(y[h])?arguments[0][h]=y[h].slice():arguments[0][h]=y[h])}return arguments[0]}var mi=function(){function d(y){P(this,d);for(var h in Mt)if(Mt.hasOwnProperty(h)){var E=Mt[h],S=E._driver;this[h]=S,qe[S]||this.defineDriver(E)}this._defaultConfig=fn({},pi),this._config=fn({},this._defaultConfig,y),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return d.prototype.config=function(h){if((typeof h=="undefined"?"undefined":C(h))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var E in h){if(E==="storeName"&&(h[E]=h[E].replace(/\W/g,"_")),E==="version"&&typeof h[E]!="number")return new Error("Database version must be a number.");this._config[E]=h[E]}return"driver"in h&&h.driver?this.setDriver(this._config.driver):!0}else return typeof h=="string"?this._config[h]:this._config},d.prototype.defineDriver=function(h,E,S){var x=new z(function(F,N){try{var B=h._driver,G=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!h._driver){N(G);return}for(var U=zr.concat("_initStorage"),re=0,he=U.length;re<he;re++){var Ae=U[re],Ie=!Ze(Dr,Ae);if((Ie||h[Ae])&&typeof h[Ae]!="function"){N(G);return}}var Ne=function(){for(var cn=function(vi){return function(){var ji=new Error("Method "+vi+" is not implemented by the current driver"),Nn=z.reject(ji);return W(Nn,arguments[arguments.length-1]),Nn}},Rr=0,gi=Dr.length;Rr<gi;Rr++){var dn=Dr[Rr];h[dn]||(h[dn]=cn(dn))}};Ne();var Me=function(cn){qe[B]&&console.info("Redefining LocalForage driver: "+B),qe[B]=h,bt[B]=cn,F()};"_support"in h?h._support&&typeof h._support=="function"?h._support().then(Me,N):Me(!!h._support):Me(!0)}catch(_t){N(_t)}});return Y(x,E,S),x},d.prototype.driver=function(){return this._driver||null},d.prototype.getDriver=function(h,E,S){var x=qe[h]?z.resolve(qe[h]):z.reject(new Error("Driver not found."));return Y(x,E,S),x},d.prototype.getSerializer=function(h){var E=z.resolve(jr);return Y(E,h),E},d.prototype.ready=function(h){var E=this,S=E._driverSet.then(function(){return E._ready===null&&(E._ready=E._initDriver()),E._ready});return Y(S,h,h),S},d.prototype.setDriver=function(h,E,S){var x=this;Ve(h)||(h=[h]);var F=this._getSupportedDrivers(h);function N(){x._config.driver=x.driver()}function B(re){return x._extend(re),N(),x._ready=x._initStorage(x._config),x._ready}function G(re){return function(){var he=0;function Ae(){for(;he<re.length;){var Ie=re[he];return he++,x._dbInfo=null,x._ready=null,x.getDriver(Ie).then(B).catch(Ae)}N();var Ne=new Error("No available storage method found.");return x._driverSet=z.reject(Ne),x._driverSet}return Ae()}}var U=this._driverSet!==null?this._driverSet.catch(function(){return z.resolve()}):z.resolve();return this._driverSet=U.then(function(){var re=F[0];return x._dbInfo=null,x._ready=null,x.getDriver(re).then(function(he){x._driver=he._driver,N(),x._wrapLibraryMethodsWithReady(),x._initDriver=G(F)})}).catch(function(){N();var re=new Error("No available storage method found.");return x._driverSet=z.reject(re),x._driverSet}),Y(this._driverSet,E,S),this._driverSet},d.prototype.supports=function(h){return!!bt[h]},d.prototype._extend=function(h){fn(this,h)},d.prototype._getSupportedDrivers=function(h){for(var E=[],S=0,x=h.length;S<x;S++){var F=h[S];this.supports(F)&&E.push(F)}return E},d.prototype._wrapLibraryMethodsWithReady=function(){for(var h=0,E=zr.length;h<E;h++)hi(this,zr[h])},d.prototype.createInstance=function(h){return new d(h)},d}(),wt=new mi;p.exports=wt},{"3":3}]},{},[4])(4)})});var ga=eo((ma,Ci)=>{(function(s,r){"use strict";typeof Ci=="object"&&typeof Ci.exports=="object"?Ci.exports=s.document?r(s,!0):function(o){if(!o.document)throw new Error("jQuery requires a window with a document");return r(o)}:r(s)})(typeof window!="undefined"?window:ma,function(s,r){"use strict";var o=[],f=Object.getPrototypeOf,p=o.slice,_=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},C=o.push,P=o.indexOf,L={},q=L.toString,ae=L.hasOwnProperty,Fe=ae.toString,z=Fe.call(Object),W={},Y=function(t){return typeof t=="function"&&typeof t.nodeType!="number"&&typeof t.item!="function"},Ee=function(t){return t!=null&&t===t.window},ne=s.document,We={type:!0,src:!0,nonce:!0,noModule:!0};function at(e,t,n){n=n||ne;var a,l,u=n.createElement("script");if(u.text=e,t)for(a in We)l=t[a]||t.getAttribute&&t.getAttribute(a),l&&u.setAttribute(a,l);n.head.appendChild(u).parentNode.removeChild(u)}function De(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?L[q.call(e)]||"object":typeof e}var Re="3.7.1",rt=/HTML$/i,i=function(e,t){return new i.fn.init(e,t)};i.fn=i.prototype={jquery:Re,constructor:i,length:0,toArray:function(){return p.call(this)},get:function(e){return e==null?p.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=i.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return i.each(this,e)},map:function(e){return this.pushStack(i.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(p.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(i.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(i.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:C,sort:o.sort,splice:o.splice},i.extend=i.fn.extend=function(){var e,t,n,a,l,u,c=arguments[0]||{},v=1,g=arguments.length,T=!1;for(typeof c=="boolean"&&(T=c,c=arguments[v]||{},v++),typeof c!="object"&&!Y(c)&&(c={}),v===g&&(c=this,v--);v<g;v++)if((e=arguments[v])!=null)for(t in e)a=e[t],!(t==="__proto__"||c===a)&&(T&&a&&(i.isPlainObject(a)||(l=Array.isArray(a)))?(n=c[t],l&&!Array.isArray(n)?u=[]:!l&&!i.isPlainObject(n)?u={}:u=n,l=!1,c[t]=i.extend(T,u,a)):a!==void 0&&(c[t]=a));return c},i.extend({expando:"jQuery"+(Re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!e||q.call(e)!=="[object Object]"?!1:(t=f(e),t?(n=ae.call(t,"constructor")&&t.constructor,typeof n=="function"&&Fe.call(n)===z):!0)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){at(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,a=0;if(me(e))for(n=e.length;a<n&&t.call(e[a],a,e[a])!==!1;a++);else for(a in e)if(t.call(e[a],a,e[a])===!1)break;return e},text:function(e){var t,n="",a=0,l=e.nodeType;if(!l)for(;t=e[a++];)n+=i.text(t);return l===1||l===11?e.textContent:l===9?e.documentElement.textContent:l===3||l===4?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return e!=null&&(me(Object(e))?i.merge(n,typeof e=="string"?[e]:e):C.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:P.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!rt.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,a=0,l=e.length;a<n;a++)e[l++]=t[a];return e.length=l,e},grep:function(e,t,n){for(var a,l=[],u=0,c=e.length,v=!n;u<c;u++)a=!t(e[u],u),a!==v&&l.push(e[u]);return l},map:function(e,t,n){var a,l,u=0,c=[];if(me(e))for(a=e.length;u<a;u++)l=t(e[u],u,n),l!=null&&c.push(l);else for(u in e)l=t(e[u],u,n),l!=null&&c.push(l);return _(c)},guid:1,support:W}),typeof Symbol=="function"&&(i.fn[Symbol.iterator]=o[Symbol.iterator]),i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){L["[object "+t+"]"]=t.toLowerCase()});function me(e){var t=!!e&&"length"in e&&e.length,n=De(e);return Y(e)||Ee(e)?!1:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function ee(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Le=o.pop,Qe=o.sort,Pe=o.splice,ce="[\\x20\\t\\r\\n\\f]",Ye=new RegExp("^"+ce+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ce+"+$","g");i.contains=function(e,t){var n=t&&t.parentNode;return e===n||!!(n&&n.nodeType===1&&(e.contains?e.contains(n):e.compareDocumentPosition&&e.compareDocumentPosition(n)&16))};var Tt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function xr(e,t){return t?e==="\0"?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}i.escapeSelector=function(e){return(e+"").replace(Tt,xr)};var ht=ne,Er=C;(function(){var e,t,n,a,l,u=Er,c,v,g,T,I,O=i.expando,k=0,H=0,fe=yi(),Te=yi(),ve=yi(),pt=yi(),it=function(m,b){return m===b&&(l=!0),0},pr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",hr="(?:\\\\[\\da-fA-F]{1,6}"+ce+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",_e="\\["+ce+"*("+hr+")(?:"+ce+"*([*^$|!~]?=)"+ce+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+hr+"))|)"+ce+"*\\]",pn=":("+hr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+_e+")*)|.*)\\)|)",Se=new RegExp(ce+"+","g"),Xe=new RegExp("^"+ce+"*,"+ce+"*"),Un=new RegExp("^"+ce+"*([>+~]|"+ce+")"+ce+"*"),qi=new RegExp(ce+"|>"),mr=new RegExp(pn),Hn=new RegExp("^"+hr+"$"),gr={ID:new RegExp("^#("+hr+")"),CLASS:new RegExp("^\\.("+hr+")"),TAG:new RegExp("^("+hr+"|[*])"),ATTR:new RegExp("^"+_e),PSEUDO:new RegExp("^"+pn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ce+"*(even|odd|(([+-]|)(\\d*)n|)"+ce+"*(?:([+-]|)"+ce+"*(\\d+)|))"+ce+"*\\)|)","i"),bool:new RegExp("^(?:"+pr+")$","i"),needsContext:new RegExp("^"+ce+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ce+"*((?:-\\d)?\\d*)"+ce+"*\\)|)(?=[^-]|$)","i")},Vr=/^(?:input|select|textarea|button)$/i,qr=/^h\d$/i,Vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Yi=/[+~]/,Lr=new RegExp("\\\\[\\da-fA-F]{1,6}"+ce+"?|\\\\([^\\r\\n\\f])","g"),Pr=function(m,b){var A="0x"+m.slice(1)-65536;return b||(A<0?String.fromCharCode(A+65536):String.fromCharCode(A>>10|55296,A&1023|56320))},Bs=function(){Yr()},$s=wi(function(m){return m.disabled===!0&&ee(m,"fieldset")},{dir:"parentNode",next:"legend"});function Gs(){try{return c.activeElement}catch(m){}}try{u.apply(o=p.call(ht.childNodes),ht.childNodes),o[ht.childNodes.length].nodeType}catch(m){u={apply:function(b,A){Er.apply(b,p.call(A))},call:function(b){Er.apply(b,p.call(arguments,1))}}}function Oe(m,b,A,R){var M,V,K,oe,Q,ye,ue,de=b&&b.ownerDocument,be=b?b.nodeType:9;if(A=A||[],typeof m!="string"||!m||be!==1&&be!==9&&be!==11)return A;if(!R&&(Yr(b),b=b||c,g)){if(be!==11&&(Q=Vt.exec(m)))if(M=Q[1]){if(be===9)if(K=b.getElementById(M)){if(K.id===M)return u.call(A,K),A}else return A;else if(de&&(K=de.getElementById(M))&&Oe.contains(b,K)&&K.id===M)return u.call(A,K),A}else{if(Q[2])return u.apply(A,b.getElementsByTagName(m)),A;if((M=Q[3])&&b.getElementsByClassName)return u.apply(A,b.getElementsByClassName(M)),A}if(!pt[m+" "]&&(!T||!T.test(m))){if(ue=m,de=b,be===1&&(qi.test(m)||Un.test(m))){for(de=Yi.test(m)&&Xi(b.parentNode)||b,(de!=b||!W.scope)&&((oe=b.getAttribute("id"))?oe=i.escapeSelector(oe):b.setAttribute("id",oe=O)),ye=jn(m),V=ye.length;V--;)ye[V]=(oe?"#"+oe:":scope")+" "+bi(ye[V]);ue=ye.join(",")}try{return u.apply(A,de.querySelectorAll(ue)),A}catch(se){pt(m,!0)}finally{oe===O&&b.removeAttribute("id")}}}return ta(m.replace(Ye,"$1"),b,A,R)}function yi(){var m=[];function b(A,R){return m.push(A+" ")>t.cacheLength&&delete b[m.shift()],b[A+" "]=R}return b}function ar(m){return m[O]=!0,m}function Dn(m){var b=c.createElement("fieldset");try{return!!m(b)}catch(A){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function zs(m){return function(b){return ee(b,"input")&&b.type===m}}function Vs(m){return function(b){return(ee(b,"input")||ee(b,"button"))&&b.type===m}}function Jo(m){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===m:b.disabled===m:b.isDisabled===m||b.isDisabled!==!m&&$s(b)===m:b.disabled===m:"label"in b?b.disabled===m:!1}}function hn(m){return ar(function(b){return b=+b,ar(function(A,R){for(var M,V=m([],A.length,b),K=V.length;K--;)A[M=V[K]]&&(A[M]=!(R[M]=A[M]))})})}function Xi(m){return m&&typeof m.getElementsByTagName!="undefined"&&m}function Yr(m){var b,A=m?m.ownerDocument||m:ht;return A==c||A.nodeType!==9||!A.documentElement||(c=A,v=c.documentElement,g=!i.isXMLDoc(c),I=v.matches||v.webkitMatchesSelector||v.msMatchesSelector,v.msMatchesSelector&&ht!=c&&(b=c.defaultView)&&b.top!==b&&b.addEventListener("unload",Bs),W.getById=Dn(function(R){return v.appendChild(R).id=i.expando,!c.getElementsByName||!c.getElementsByName(i.expando).length}),W.disconnectedMatch=Dn(function(R){return I.call(R,"*")}),W.scope=Dn(function(){return c.querySelectorAll(":scope")}),W.cssHas=Dn(function(){try{return c.querySelector(":has(*,:jqfake)"),!1}catch(R){return!0}}),W.getById?(t.filter.ID=function(R){var M=R.replace(Lr,Pr);return function(V){return V.getAttribute("id")===M}},t.find.ID=function(R,M){if(typeof M.getElementById!="undefined"&&g){var V=M.getElementById(R);return V?[V]:[]}}):(t.filter.ID=function(R){var M=R.replace(Lr,Pr);return function(V){var K=typeof V.getAttributeNode!="undefined"&&V.getAttributeNode("id");return K&&K.value===M}},t.find.ID=function(R,M){if(typeof M.getElementById!="undefined"&&g){var V,K,oe,Q=M.getElementById(R);if(Q){if(V=Q.getAttributeNode("id"),V&&V.value===R)return[Q];for(oe=M.getElementsByName(R),K=0;Q=oe[K++];)if(V=Q.getAttributeNode("id"),V&&V.value===R)return[Q]}return[]}}),t.find.TAG=function(R,M){return typeof M.getElementsByTagName!="undefined"?M.getElementsByTagName(R):M.querySelectorAll(R)},t.find.CLASS=function(R,M){if(typeof M.getElementsByClassName!="undefined"&&g)return M.getElementsByClassName(R)},T=[],Dn(function(R){var M;v.appendChild(R).innerHTML="<a id='"+O+"' href='' disabled='disabled'></a><select id='"+O+"-\r\\' disabled='disabled'><option selected=''></option></select>",R.querySelectorAll("[selected]").length||T.push("\\["+ce+"*(?:value|"+pr+")"),R.querySelectorAll("[id~="+O+"-]").length||T.push("~="),R.querySelectorAll("a#"+O+"+*").length||T.push(".#.+[+~]"),R.querySelectorAll(":checked").length||T.push(":checked"),M=c.createElement("input"),M.setAttribute("type","hidden"),R.appendChild(M).setAttribute("name","D"),v.appendChild(R).disabled=!0,R.querySelectorAll(":disabled").length!==2&&T.push(":enabled",":disabled"),M=c.createElement("input"),M.setAttribute("name",""),R.appendChild(M),R.querySelectorAll("[name='']").length||T.push("\\["+ce+"*name"+ce+"*="+ce+`*(?:''|"")`)}),W.cssHas||T.push(":has"),T=T.length&&new RegExp(T.join("|")),it=function(R,M){if(R===M)return l=!0,0;var V=!R.compareDocumentPosition-!M.compareDocumentPosition;return V||(V=(R.ownerDocument||R)==(M.ownerDocument||M)?R.compareDocumentPosition(M):1,V&1||!W.sortDetached&&M.compareDocumentPosition(R)===V?R===c||R.ownerDocument==ht&&Oe.contains(ht,R)?-1:M===c||M.ownerDocument==ht&&Oe.contains(ht,M)?1:a?P.call(a,R)-P.call(a,M):0:V&4?-1:1)}),c}Oe.matches=function(m,b){return Oe(m,null,null,b)},Oe.matchesSelector=function(m,b){if(Yr(m),g&&!pt[b+" "]&&(!T||!T.test(b)))try{var A=I.call(m,b);if(A||W.disconnectedMatch||m.document&&m.document.nodeType!==11)return A}catch(R){pt(b,!0)}return Oe(b,c,null,[m]).length>0},Oe.contains=function(m,b){return(m.ownerDocument||m)!=c&&Yr(m),i.contains(m,b)},Oe.attr=function(m,b){(m.ownerDocument||m)!=c&&Yr(m);var A=t.attrHandle[b.toLowerCase()],R=A&&ae.call(t.attrHandle,b.toLowerCase())?A(m,b,!g):void 0;return R!==void 0?R:m.getAttribute(b)},Oe.error=function(m){throw new Error("Syntax error, unrecognized expression: "+m)},i.uniqueSort=function(m){var b,A=[],R=0,M=0;if(l=!W.sortStable,a=!W.sortStable&&p.call(m,0),Qe.call(m,it),l){for(;b=m[M++];)b===m[M]&&(R=A.push(M));for(;R--;)Pe.call(m,A[R],1)}return a=null,m},i.fn.uniqueSort=function(){return this.pushStack(i.uniqueSort(p.apply(this)))},t=i.expr={cacheLength:50,createPseudo:ar,match:gr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(m){return m[1]=m[1].replace(Lr,Pr),m[3]=(m[3]||m[4]||m[5]||"").replace(Lr,Pr),m[2]==="~="&&(m[3]=" "+m[3]+" "),m.slice(0,4)},CHILD:function(m){return m[1]=m[1].toLowerCase(),m[1].slice(0,3)==="nth"?(m[3]||Oe.error(m[0]),m[4]=+(m[4]?m[5]+(m[6]||1):2*(m[3]==="even"||m[3]==="odd")),m[5]=+(m[7]+m[8]||m[3]==="odd")):m[3]&&Oe.error(m[0]),m},PSEUDO:function(m){var b,A=!m[6]&&m[2];return gr.CHILD.test(m[0])?null:(m[3]?m[2]=m[4]||m[5]||"":A&&mr.test(A)&&(b=jn(A,!0))&&(b=A.indexOf(")",A.length-b)-A.length)&&(m[0]=m[0].slice(0,b),m[2]=A.slice(0,b)),m.slice(0,3))}},filter:{TAG:function(m){var b=m.replace(Lr,Pr).toLowerCase();return m==="*"?function(){return!0}:function(A){return ee(A,b)}},CLASS:function(m){var b=fe[m+" "];return b||(b=new RegExp("(^|"+ce+")"+m+"("+ce+"|$)"))&&fe(m,function(A){return b.test(typeof A.className=="string"&&A.className||typeof A.getAttribute!="undefined"&&A.getAttribute("class")||"")})},ATTR:function(m,b,A){return function(R){var M=Oe.attr(R,m);return M==null?b==="!=":b?(M+="",b==="="?M===A:b==="!="?M!==A:b==="^="?A&&M.indexOf(A)===0:b==="*="?A&&M.indexOf(A)>-1:b==="$="?A&&M.slice(-A.length)===A:b==="~="?(" "+M.replace(Se," ")+" ").indexOf(A)>-1:b==="|="?M===A||M.slice(0,A.length+1)===A+"-":!1):!0}},CHILD:function(m,b,A,R,M){var V=m.slice(0,3)!=="nth",K=m.slice(-4)!=="last",oe=b==="of-type";return R===1&&M===0?function(Q){return!!Q.parentNode}:function(Q,ye,ue){var de,be,se,Ue,Ot,xt=V!==K?"nextSibling":"previousSibling",qt=Q.parentNode,vr=oe&&Q.nodeName.toLowerCase(),Rn=!ue&&!oe,Ct=!1;if(qt){if(V){for(;xt;){for(se=Q;se=se[xt];)if(oe?ee(se,vr):se.nodeType===1)return!1;Ot=xt=m==="only"&&!Ot&&"nextSibling"}return!0}if(Ot=[K?qt.firstChild:qt.lastChild],K&&Rn){for(be=qt[O]||(qt[O]={}),de=be[m]||[],Ue=de[0]===k&&de[1],Ct=Ue&&de[2],se=Ue&&qt.childNodes[Ue];se=++Ue&&se&&se[xt]||(Ct=Ue=0)||Ot.pop();)if(se.nodeType===1&&++Ct&&se===Q){be[m]=[k,Ue,Ct];break}}else if(Rn&&(be=Q[O]||(Q[O]={}),de=be[m]||[],Ue=de[0]===k&&de[1],Ct=Ue),Ct===!1)for(;(se=++Ue&&se&&se[xt]||(Ct=Ue=0)||Ot.pop())&&!((oe?ee(se,vr):se.nodeType===1)&&++Ct&&(Rn&&(be=se[O]||(se[O]={}),be[m]=[k,Ct]),se===Q)););return Ct-=M,Ct===R||Ct%R==0&&Ct/R>=0}}},PSEUDO:function(m,b){var A,R=t.pseudos[m]||t.setFilters[m.toLowerCase()]||Oe.error("unsupported pseudo: "+m);return R[O]?R(b):R.length>1?(A=[m,m,"",b],t.setFilters.hasOwnProperty(m.toLowerCase())?ar(function(M,V){for(var K,oe=R(M,b),Q=oe.length;Q--;)K=P.call(M,oe[Q]),M[K]=!(V[K]=oe[Q])}):function(M){return R(M,0,A)}):R}},pseudos:{not:ar(function(m){var b=[],A=[],R=Ji(m.replace(Ye,"$1"));return R[O]?ar(function(M,V,K,oe){for(var Q,ye=R(M,null,oe,[]),ue=M.length;ue--;)(Q=ye[ue])&&(M[ue]=!(V[ue]=Q))}):function(M,V,K){return b[0]=M,R(b,null,K,A),b[0]=null,!A.pop()}}),has:ar(function(m){return function(b){return Oe(m,b).length>0}}),contains:ar(function(m){return m=m.replace(Lr,Pr),function(b){return(b.textContent||i.text(b)).indexOf(m)>-1}}),lang:ar(function(m){return Hn.test(m||"")||Oe.error("unsupported lang: "+m),m=m.replace(Lr,Pr).toLowerCase(),function(b){var A;do if(A=g?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return A=A.toLowerCase(),A===m||A.indexOf(m+"-")===0;while((b=b.parentNode)&&b.nodeType===1);return!1}}),target:function(m){var b=s.location&&s.location.hash;return b&&b.slice(1)===m.id},root:function(m){return m===v},focus:function(m){return m===Gs()&&c.hasFocus()&&!!(m.type||m.href||~m.tabIndex)},enabled:Jo(!1),disabled:Jo(!0),checked:function(m){return ee(m,"input")&&!!m.checked||ee(m,"option")&&!!m.selected},selected:function(m){return m.parentNode&&m.parentNode.selectedIndex,m.selected===!0},empty:function(m){for(m=m.firstChild;m;m=m.nextSibling)if(m.nodeType<6)return!1;return!0},parent:function(m){return!t.pseudos.empty(m)},header:function(m){return qr.test(m.nodeName)},input:function(m){return Vr.test(m.nodeName)},button:function(m){return ee(m,"input")&&m.type==="button"||ee(m,"button")},text:function(m){var b;return ee(m,"input")&&m.type==="text"&&((b=m.getAttribute("type"))==null||b.toLowerCase()==="text")},first:hn(function(){return[0]}),last:hn(function(m,b){return[b-1]}),eq:hn(function(m,b,A){return[A<0?A+b:A]}),even:hn(function(m,b){for(var A=0;A<b;A+=2)m.push(A);return m}),odd:hn(function(m,b){for(var A=1;A<b;A+=2)m.push(A);return m}),lt:hn(function(m,b,A){var R;for(A<0?R=A+b:A>b?R=b:R=A;--R>=0;)m.push(R);return m}),gt:hn(function(m,b,A){for(var R=A<0?A+b:A;++R<b;)m.push(R);return m})}},t.pseudos.nth=t.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=zs(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=Vs(e);function ea(){}ea.prototype=t.filters=t.pseudos,t.setFilters=new ea;function jn(m,b){var A,R,M,V,K,oe,Q,ye=Te[m+" "];if(ye)return b?0:ye.slice(0);for(K=m,oe=[],Q=t.preFilter;K;){(!A||(R=Xe.exec(K)))&&(R&&(K=K.slice(R[0].length)||K),oe.push(M=[])),A=!1,(R=Un.exec(K))&&(A=R.shift(),M.push({value:A,type:R[0].replace(Ye," ")}),K=K.slice(A.length));for(V in t.filter)(R=gr[V].exec(K))&&(!Q[V]||(R=Q[V](R)))&&(A=R.shift(),M.push({value:A,type:V,matches:R}),K=K.slice(A.length));if(!A)break}return b?K.length:K?Oe.error(m):Te(m,oe).slice(0)}function bi(m){for(var b=0,A=m.length,R="";b<A;b++)R+=m[b].value;return R}function wi(m,b,A){var R=b.dir,M=b.next,V=M||R,K=A&&V==="parentNode",oe=H++;return b.first?function(Q,ye,ue){for(;Q=Q[R];)if(Q.nodeType===1||K)return m(Q,ye,ue);return!1}:function(Q,ye,ue){var de,be,se=[k,oe];if(ue){for(;Q=Q[R];)if((Q.nodeType===1||K)&&m(Q,ye,ue))return!0}else for(;Q=Q[R];)if(Q.nodeType===1||K)if(be=Q[O]||(Q[O]={}),M&&ee(Q,M))Q=Q[R]||Q;else{if((de=be[V])&&de[0]===k&&de[1]===oe)return se[2]=de[2];if(be[V]=se,se[2]=m(Q,ye,ue))return!0}return!1}}function Ki(m){return m.length>1?function(b,A,R){for(var M=m.length;M--;)if(!m[M](b,A,R))return!1;return!0}:m[0]}function qs(m,b,A){for(var R=0,M=b.length;R<M;R++)Oe(m,b[R],A);return A}function _i(m,b,A,R,M){for(var V,K=[],oe=0,Q=m.length,ye=b!=null;oe<Q;oe++)(V=m[oe])&&(!A||A(V,R,M))&&(K.push(V),ye&&b.push(oe));return K}function Qi(m,b,A,R,M,V){return R&&!R[O]&&(R=Qi(R)),M&&!M[O]&&(M=Qi(M,V)),ar(function(K,oe,Q,ye){var ue,de,be,se,Ue=[],Ot=[],xt=oe.length,qt=K||qs(b||"*",Q.nodeType?[Q]:Q,[]),vr=m&&(K||!b)?_i(qt,Ue,m,Q,ye):qt;if(A?(se=M||(K?m:xt||R)?[]:oe,A(vr,se,Q,ye)):se=vr,R)for(ue=_i(se,Ot),R(ue,[],Q,ye),de=ue.length;de--;)(be=ue[de])&&(se[Ot[de]]=!(vr[Ot[de]]=be));if(K){if(M||m){if(M){for(ue=[],de=se.length;de--;)(be=se[de])&&ue.push(vr[de]=be);M(null,se=[],ue,ye)}for(de=se.length;de--;)(be=se[de])&&(ue=M?P.call(K,be):Ue[de])>-1&&(K[ue]=!(oe[ue]=be))}}else se=_i(se===oe?se.splice(xt,se.length):se),M?M(null,oe,se,ye):u.apply(oe,se)})}function Zi(m){for(var b,A,R,M=m.length,V=t.relative[m[0].type],K=V||t.relative[" "],oe=V?1:0,Q=wi(function(de){return de===b},K,!0),ye=wi(function(de){return P.call(b,de)>-1},K,!0),ue=[function(de,be,se){var Ue=!V&&(se||be!=n)||((b=be).nodeType?Q(de,be,se):ye(de,be,se));return b=null,Ue}];oe<M;oe++)if(A=t.relative[m[oe].type])ue=[wi(Ki(ue),A)];else{if(A=t.filter[m[oe].type].apply(null,m[oe].matches),A[O]){for(R=++oe;R<M&&!t.relative[m[R].type];R++);return Qi(oe>1&&Ki(ue),oe>1&&bi(m.slice(0,oe-1).concat({value:m[oe-2].type===" "?"*":""})).replace(Ye,"$1"),A,oe<R&&Zi(m.slice(oe,R)),R<M&&Zi(m=m.slice(R)),R<M&&bi(m))}ue.push(A)}return Ki(ue)}function Ys(m,b){var A=b.length>0,R=m.length>0,M=function(V,K,oe,Q,ye){var ue,de,be,se=0,Ue="0",Ot=V&&[],xt=[],qt=n,vr=V||R&&t.find.TAG("*",ye),Rn=k+=qt==null?1:Math.random()||.1,Ct=vr.length;for(ye&&(n=K==c||K||ye);Ue!==Ct&&(ue=vr[Ue])!=null;Ue++){if(R&&ue){for(de=0,!K&&ue.ownerDocument!=c&&(Yr(ue),oe=!g);be=m[de++];)if(be(ue,K||c,oe)){u.call(Q,ue);break}ye&&(k=Rn)}A&&((ue=!be&&ue)&&se--,V&&Ot.push(ue))}if(se+=Ue,A&&Ue!==se){for(de=0;be=b[de++];)be(Ot,xt,K,oe);if(V){if(se>0)for(;Ue--;)Ot[Ue]||xt[Ue]||(xt[Ue]=Le.call(Q));xt=_i(xt)}u.apply(Q,xt),ye&&!V&&xt.length>0&&se+b.length>1&&i.uniqueSort(Q)}return ye&&(k=Rn,n=qt),Ot};return A?ar(M):M}function Ji(m,b){var A,R=[],M=[],V=ve[m+" "];if(!V){for(b||(b=jn(m)),A=b.length;A--;)V=Zi(b[A]),V[O]?R.push(V):M.push(V);V=ve(m,Ys(M,R)),V.selector=m}return V}function ta(m,b,A,R){var M,V,K,oe,Q,ye=typeof m=="function"&&m,ue=!R&&jn(m=ye.selector||m);if(A=A||[],ue.length===1){if(V=ue[0]=ue[0].slice(0),V.length>2&&(K=V[0]).type==="ID"&&b.nodeType===9&&g&&t.relative[V[1].type]){if(b=(t.find.ID(K.matches[0].replace(Lr,Pr),b)||[])[0],b)ye&&(b=b.parentNode);else return A;m=m.slice(V.shift().value.length)}for(M=gr.needsContext.test(m)?0:V.length;M--&&(K=V[M],!t.relative[oe=K.type]);)if((Q=t.find[oe])&&(R=Q(K.matches[0].replace(Lr,Pr),Yi.test(V[0].type)&&Xi(b.parentNode)||b))){if(V.splice(M,1),m=R.length&&bi(V),!m)return u.apply(A,R),A;break}}return(ye||Ji(m,ue))(R,b,!g,A,!b||Yi.test(m)&&Xi(b.parentNode)||b),A}W.sortStable=O.split("").sort(it).join("")===O,Yr(),W.sortDetached=Dn(function(m){return m.compareDocumentPosition(c.createElement("fieldset"))&1}),i.find=Oe,i.expr[":"]=i.expr.pseudos,i.unique=i.uniqueSort,Oe.compile=Ji,Oe.select=ta,Oe.setDocument=Yr,Oe.tokenize=jn,Oe.escape=i.escapeSelector,Oe.getText=i.text,Oe.isXML=i.isXMLDoc,Oe.selectors=i.expr,Oe.support=i.support,Oe.uniqueSort=i.uniqueSort})();var mt=function(e,t,n){for(var a=[],l=n!==void 0;(e=e[t])&&e.nodeType!==9;)if(e.nodeType===1){if(l&&i(e).is(n))break;a.push(e)}return a},Qr=function(e,t){for(var n=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n},Zr=i.expr.match.needsContext,Ge=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function gt(e,t,n){return Y(t)?i.grep(e,function(a,l){return!!t.call(a,l,a)!==n}):t.nodeType?i.grep(e,function(a){return a===t!==n}):typeof t!="string"?i.grep(e,function(a){return P.call(t,a)>-1!==n}):i.filter(t,e,n)}i.filter=function(e,t,n){var a=t[0];return n&&(e=":not("+e+")"),t.length===1&&a.nodeType===1?i.find.matchesSelector(a,e)?[a]:[]:i.find.matches(e,i.grep(t,function(l){return l.nodeType===1}))},i.fn.extend({find:function(e){var t,n,a=this.length,l=this;if(typeof e!="string")return this.pushStack(i(e).filter(function(){for(t=0;t<a;t++)if(i.contains(l[t],this))return!0}));for(n=this.pushStack([]),t=0;t<a;t++)i.find(e,l[t],n);return a>1?i.uniqueSort(n):n},filter:function(e){return this.pushStack(gt(this,e||[],!1))},not:function(e){return this.pushStack(gt(this,e||[],!0))},is:function(e){return!!gt(this,typeof e=="string"&&Zr.test(e)?i(e):e||[],!1).length}});var ze,En=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,He=i.fn.init=function(e,t,n){var a,l;if(!e)return this;if(n=n||ze,typeof e=="string")if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?a=[null,e,null]:a=En.exec(e),a&&(a[1]||!t))if(a[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),Ge.test(a[1])&&i.isPlainObject(t))for(a in t)Y(this[a])?this[a](t[a]):this.attr(a,t[a]);return this}else return l=ne.getElementById(a[2]),l&&(this[0]=l,this.length=1),this;else return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);else{if(e.nodeType)return this[0]=e,this.length=1,this;if(Y(e))return n.ready!==void 0?n.ready(e):e(i)}return i.makeArray(e,this)};He.prototype=i.fn,ze=i(ne);var Tr=/^(?:parents|prev(?:Until|All))/,Jr={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(e){var t=i(e,this),n=t.length;return this.filter(function(){for(var a=0;a<n;a++)if(i.contains(this,t[a]))return!0})},closest:function(e,t){var n,a=0,l=this.length,u=[],c=typeof e!="string"&&i(e);if(!Zr.test(e)){for(;a<l;a++)for(n=this[a];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(c?c.index(n)>-1:n.nodeType===1&&i.find.matchesSelector(n,e))){u.push(n);break}}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(e){return e?typeof e=="string"?P.call(i(e),this[0]):P.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function en(e,t){for(;(e=e[t])&&e.nodeType!==1;);return e}i.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return mt(e,"parentNode")},parentsUntil:function(e,t,n){return mt(e,"parentNode",n)},next:function(e){return en(e,"nextSibling")},prev:function(e){return en(e,"previousSibling")},nextAll:function(e){return mt(e,"nextSibling")},prevAll:function(e){return mt(e,"previousSibling")},nextUntil:function(e,t,n){return mt(e,"nextSibling",n)},prevUntil:function(e,t,n){return mt(e,"previousSibling",n)},siblings:function(e){return Qr((e.parentNode||{}).firstChild,e)},children:function(e){return Qr(e.firstChild)},contents:function(e){return e.contentDocument!=null&&f(e.contentDocument)?e.contentDocument:(ee(e,"template")&&(e=e.content||e),i.merge([],e.childNodes))}},function(e,t){i.fn[e]=function(n,a){var l=i.map(this,t,n);return e.slice(-5)!=="Until"&&(a=n),a&&typeof a=="string"&&(l=i.filter(a,l)),this.length>1&&(Jr[e]||i.uniqueSort(l),Tr.test(e)&&l.reverse()),this.pushStack(l)}});var vt=/[^\x20\t\r\n\f]+/g;function Tn(e){var t={};return i.each(e.match(vt)||[],function(n,a){t[a]=!0}),t}i.Callbacks=function(e){e=typeof e=="string"?Tn(e):i.extend({},e);var t,n,a,l,u=[],c=[],v=-1,g=function(){for(l=l||e.once,a=t=!0;c.length;v=-1)for(n=c.shift();++v<u.length;)u[v].apply(n[0],n[1])===!1&&e.stopOnFalse&&(v=u.length,n=!1);e.memory||(n=!1),t=!1,l&&(n?u=[]:u="")},T={add:function(){return u&&(n&&!t&&(v=u.length-1,c.push(n)),function I(O){i.each(O,function(k,H){Y(H)?(!e.unique||!T.has(H))&&u.push(H):H&&H.length&&De(H)!=="string"&&I(H)})}(arguments),n&&!t&&g()),this},remove:function(){return i.each(arguments,function(I,O){for(var k;(k=i.inArray(O,u,k))>-1;)u.splice(k,1),k<=v&&v--}),this},has:function(I){return I?i.inArray(I,u)>-1:u.length>0},empty:function(){return u&&(u=[]),this},disable:function(){return l=c=[],u=n="",this},disabled:function(){return!u},lock:function(){return l=c=[],!n&&!t&&(u=n=""),this},locked:function(){return!!l},fireWith:function(I,O){return l||(O=O||[],O=[I,O.slice?O.slice():O],c.push(O),t||g()),this},fire:function(){return T.fireWith(this,arguments),this},fired:function(){return!!a}};return T};function Qt(e){return e}function Wt(e){throw e}function Nr(e,t,n,a){var l;try{e&&Y(l=e.promise)?l.call(e).done(t).fail(n):e&&Y(l=e.then)?l.call(e,t,n):t.apply(void 0,[e].slice(a))}catch(u){n.apply(void 0,[u])}}i.extend({Deferred:function(e){var t=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],n="pending",a={state:function(){return n},always:function(){return l.done(arguments).fail(arguments),this},catch:function(u){return a.then(null,u)},pipe:function(){var u=arguments;return i.Deferred(function(c){i.each(t,function(v,g){var T=Y(u[g[4]])&&u[g[4]];l[g[1]](function(){var I=T&&T.apply(this,arguments);I&&Y(I.promise)?I.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[g[0]+"With"](this,T?[I]:arguments)})}),u=null}).promise()},then:function(u,c,v){var g=0;function T(I,O,k,H){return function(){var fe=this,Te=arguments,ve=function(){var it,pr;if(!(I<g)){if(it=k.apply(fe,Te),it===O.promise())throw new TypeError("Thenable self-resolution");pr=it&&(typeof it=="object"||typeof it=="function")&&it.then,Y(pr)?H?pr.call(it,T(g,O,Qt,H),T(g,O,Wt,H)):(g++,pr.call(it,T(g,O,Qt,H),T(g,O,Wt,H),T(g,O,Qt,O.notifyWith))):(k!==Qt&&(fe=void 0,Te=[it]),(H||O.resolveWith)(fe,Te))}},pt=H?ve:function(){try{ve()}catch(it){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(it,pt.error),I+1>=g&&(k!==Wt&&(fe=void 0,Te=[it]),O.rejectWith(fe,Te))}};I?pt():(i.Deferred.getErrorHook?pt.error=i.Deferred.getErrorHook():i.Deferred.getStackHook&&(pt.error=i.Deferred.getStackHook()),s.setTimeout(pt))}}return i.Deferred(function(I){t[0][3].add(T(0,I,Y(v)?v:Qt,I.notifyWith)),t[1][3].add(T(0,I,Y(u)?u:Qt)),t[2][3].add(T(0,I,Y(c)?c:Wt))}).promise()},promise:function(u){return u!=null?i.extend(u,a):a}},l={};return i.each(t,function(u,c){var v=c[2],g=c[5];a[c[1]]=v.add,g&&v.add(function(){n=g},t[3-u][2].disable,t[3-u][3].disable,t[0][2].lock,t[0][3].lock),v.add(c[3].fire),l[c[0]]=function(){return l[c[0]+"With"](this===l?void 0:this,arguments),this},l[c[0]+"With"]=v.fireWith}),a.promise(l),e&&e.call(l,l),l},when:function(e){var t=arguments.length,n=t,a=Array(n),l=p.call(arguments),u=i.Deferred(),c=function(v){return function(g){a[v]=this,l[v]=arguments.length>1?p.call(arguments):g,--t||u.resolveWith(a,l)}};if(t<=1&&(Nr(e,u.done(c(n)).resolve,u.reject,!t),u.state()==="pending"||Y(l[n]&&l[n].then)))return u.then();for(;n--;)Nr(l[n],c(n),u.reject);return u.promise()}});var Zt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(e,t){s.console&&s.console.warn&&e&&Zt.test(e.name)&&s.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},i.readyException=function(e){s.setTimeout(function(){throw e})};var Sr=i.Deferred();i.fn.ready=function(e){return Sr.then(e).catch(function(t){i.readyException(t)}),this},i.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--i.readyWait:i.isReady)||(i.isReady=!0,!(e!==!0&&--i.readyWait>0)&&Sr.resolveWith(ne,[i]))}}),i.ready.then=Sr.then;function lt(){ne.removeEventListener("DOMContentLoaded",lt),s.removeEventListener("load",lt),i.ready()}ne.readyState==="complete"||ne.readyState!=="loading"&&!ne.documentElement.doScroll?s.setTimeout(i.ready):(ne.addEventListener("DOMContentLoaded",lt),s.addEventListener("load",lt));var st=function(e,t,n,a,l,u,c){var v=0,g=e.length,T=n==null;if(De(n)==="object"){l=!0;for(v in n)st(e,t,v,n[v],!0,u,c)}else if(a!==void 0&&(l=!0,Y(a)||(c=!0),T&&(c?(t.call(e,a),t=null):(T=t,t=function(I,O,k){return T.call(i(I),k)})),t))for(;v<g;v++)t(e[v],n,c?a:a.call(e[v],v,t(e[v],n)));return l?e:T?t.call(e):g?t(e[0],n):u},Cr=/^-ms-/,Jt=/-([a-z])/g;function Wr(e,t){return t.toUpperCase()}function ut(e){return e.replace(Cr,"ms-").replace(Jt,Wr)}var er=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function $t(){this.expando=i.expando+$t.uid++}$t.uid=1,$t.prototype={cache:function(e){var t=e[this.expando];return t||(t={},er(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var a,l=this.cache(e);if(typeof t=="string")l[ut(t)]=n;else for(a in t)l[ut(a)]=t[a];return l},get:function(e,t){return t===void 0?this.cache(e):e[this.expando]&&e[this.expando][ut(t)]},access:function(e,t,n){return t===void 0||t&&typeof t=="string"&&n===void 0?this.get(e,t):(this.set(e,t,n),n!==void 0?n:t)},remove:function(e,t){var n,a=e[this.expando];if(a!==void 0){if(t!==void 0)for(Array.isArray(t)?t=t.map(ut):(t=ut(t),t=t in a?[t]:t.match(vt)||[]),n=t.length;n--;)delete a[t[n]];(t===void 0||i.isEmptyObject(a))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==void 0&&!i.isEmptyObject(t)}};var J=new $t,Be=new $t,tr=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tn=/[A-Z]/g;function rn(e){return e==="true"?!0:e==="false"?!1:e==="null"?null:e===+e+""?+e:tr.test(e)?JSON.parse(e):e}function Ur(e,t,n){var a;if(n===void 0&&e.nodeType===1)if(a="data-"+t.replace(tn,"-$&").toLowerCase(),n=e.getAttribute(a),typeof n=="string"){try{n=rn(n)}catch(l){}Be.set(e,t,n)}else n=void 0;return n}i.extend({hasData:function(e){return Be.hasData(e)||J.hasData(e)},data:function(e,t,n){return Be.access(e,t,n)},removeData:function(e,t){Be.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),i.fn.extend({data:function(e,t){var n,a,l,u=this[0],c=u&&u.attributes;if(e===void 0){if(this.length&&(l=Be.get(u),u.nodeType===1&&!J.get(u,"hasDataAttrs"))){for(n=c.length;n--;)c[n]&&(a=c[n].name,a.indexOf("data-")===0&&(a=ut(a.slice(5)),Ur(u,a,l[a])));J.set(u,"hasDataAttrs",!0)}return l}return typeof e=="object"?this.each(function(){Be.set(this,e)}):st(this,function(v){var g;if(u&&v===void 0)return g=Be.get(u,e),g!==void 0||(g=Ur(u,e),g!==void 0)?g:void 0;this.each(function(){Be.set(this,e,v)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Be.remove(this,e)})}}),i.extend({queue:function(e,t,n){var a;if(e)return t=(t||"fx")+"queue",a=J.get(e,t),n&&(!a||Array.isArray(n)?a=J.access(e,t,i.makeArray(n)):a.push(n)),a||[]},dequeue:function(e,t){t=t||"fx";var n=i.queue(e,t),a=n.length,l=n.shift(),u=i._queueHooks(e,t),c=function(){i.dequeue(e,t)};l==="inprogress"&&(l=n.shift(),a--),l&&(t==="fx"&&n.unshift("inprogress"),delete u.stop,l.call(e,c,u)),!a&&u&&u.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:i.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),i.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?i.queue(this[0],e):t===void 0?this:this.each(function(){var a=i.queue(this,e,t);i._queueHooks(this,e),e==="fx"&&a[0]!=="inprogress"&&i.dequeue(this,e)})},dequeue:function(e){return this.each(function(){i.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,a=1,l=i.Deferred(),u=this,c=this.length,v=function(){--a||l.resolveWith(u,[u])};for(typeof e!="string"&&(t=e,e=void 0),e=e||"fx";c--;)n=J.get(u[c],e+"queueHooks"),n&&n.empty&&(a++,n.empty.add(v));return v(),l.promise(t)}});var Ar=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rr=new RegExp("^(?:([+-])=|)("+Ar+")([a-z%]*)$","i"),ft=["Top","Right","Bottom","Left"],St=ne.documentElement,nt=function(e){return i.contains(e.ownerDocument,e)},Gt={composed:!0};St.getRootNode&&(nt=function(e){return i.contains(e.ownerDocument,e)||e.getRootNode(Gt)===e.ownerDocument});var cr=function(e,t){return e=t||e,e.style.display==="none"||e.style.display===""&&nt(e)&&i.css(e,"display")==="none"};function Hr(e,t,n,a){var l,u,c=20,v=a?function(){return a.cur()}:function(){return i.css(e,t,"")},g=v(),T=n&&n[3]||(i.cssNumber[t]?"":"px"),I=e.nodeType&&(i.cssNumber[t]||T!=="px"&&+g)&&rr.exec(i.css(e,t));if(I&&I[3]!==T){for(g=g/2,T=T||I[3],I=+g||1;c--;)i.style(e,t,I+T),(1-u)*(1-(u=v()/g||.5))<=0&&(c=0),I=I/u;I=I*2,i.style(e,t,I+T),n=n||[]}return n&&(I=+I||+g||0,l=n[1]?I+(n[1]+1)*n[2]:+n[2],a&&(a.unit=T,a.start=I,a.end=l)),l}var jr={};function kr(e){var t,n=e.ownerDocument,a=e.nodeName,l=jr[a];return l||(t=n.body.appendChild(n.createElement(a)),l=i.css(t,"display"),t.parentNode.removeChild(t),l==="none"&&(l="block"),jr[a]=l,l)}function Ut(e,t){for(var n,a,l=[],u=0,c=e.length;u<c;u++)a=e[u],!!a.style&&(n=a.style.display,t?(n==="none"&&(l[u]=J.get(a,"display")||null,l[u]||(a.style.display="")),a.style.display===""&&cr(a)&&(l[u]=kr(a))):n!=="none"&&(l[u]="none",J.set(a,"display",n)));for(u=0;u<c;u++)l[u]!=null&&(e[u].style.display=l[u]);return e}i.fn.extend({show:function(){return Ut(this,!0)},hide:function(){return Ut(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){cr(this)?i(this).show():i(this).hide()})}});var yt=/^(?:checkbox|radio)$/i,dr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Sn=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=ne.createDocumentFragment(),t=e.appendChild(ne.createElement("div")),n=ne.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),W.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",W.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",W.option=!!t.lastChild})();var ct={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td,W.option||(ct.optgroup=ct.option=[1,"<select multiple='multiple'>","</select>"]);function xe(e,t){var n;return typeof e.getElementsByTagName!="undefined"?n=e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!="undefined"?n=e.querySelectorAll(t||"*"):n=[],t===void 0||t&&ee(e,t)?i.merge([e],n):n}function zt(e,t){for(var n=0,a=e.length;n<a;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}var On=/<|&#?\w+;/;function nn(e,t,n,a,l){for(var u,c,v,g,T,I,O=t.createDocumentFragment(),k=[],H=0,fe=e.length;H<fe;H++)if(u=e[H],u||u===0)if(De(u)==="object")i.merge(k,u.nodeType?[u]:u);else if(!On.test(u))k.push(t.createTextNode(u));else{for(c=c||O.appendChild(t.createElement("div")),v=(dr.exec(u)||["",""])[1].toLowerCase(),g=ct[v]||ct._default,c.innerHTML=g[1]+i.htmlPrefilter(u)+g[2],I=g[0];I--;)c=c.lastChild;i.merge(k,c.childNodes),c=O.firstChild,c.textContent=""}for(O.textContent="",H=0;u=k[H++];){if(a&&i.inArray(u,a)>-1){l&&l.push(u);continue}if(T=nt(u),c=xe(O.appendChild(u),"script"),T&&zt(c),n)for(I=0;u=c[I++];)Sn.test(u.type||"")&&n.push(u)}return O}var Br=/^([^.]*)(?:\.(.+)|)/;function nr(){return!0}function ir(){return!1}function on(e,t,n,a,l,u){var c,v;if(typeof t=="object"){typeof n!="string"&&(a=a||n,n=void 0);for(v in t)on(e,v,n,a,t[v],u);return e}if(a==null&&l==null?(l=n,a=n=void 0):l==null&&(typeof n=="string"?(l=a,a=void 0):(l=a,a=n,n=void 0)),l===!1)l=ir;else if(!l)return e;return u===1&&(c=l,l=function(g){return i().off(g),c.apply(this,arguments)},l.guid=c.guid||(c.guid=i.guid++)),e.each(function(){i.event.add(this,t,l,a,n)})}i.event={global:{},add:function(e,t,n,a,l){var u,c,v,g,T,I,O,k,H,fe,Te,ve=J.get(e);if(!!er(e))for(n.handler&&(u=n,n=u.handler,l=u.selector),l&&i.find.matchesSelector(St,l),n.guid||(n.guid=i.guid++),(g=ve.events)||(g=ve.events=Object.create(null)),(c=ve.handle)||(c=ve.handle=function(pt){return typeof i!="undefined"&&i.event.triggered!==pt.type?i.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(vt)||[""],T=t.length;T--;)v=Br.exec(t[T])||[],H=Te=v[1],fe=(v[2]||"").split(".").sort(),!!H&&(O=i.event.special[H]||{},H=(l?O.delegateType:O.bindType)||H,O=i.event.special[H]||{},I=i.extend({type:H,origType:Te,data:a,handler:n,guid:n.guid,selector:l,needsContext:l&&i.expr.match.needsContext.test(l),namespace:fe.join(".")},u),(k=g[H])||(k=g[H]=[],k.delegateCount=0,(!O.setup||O.setup.call(e,a,fe,c)===!1)&&e.addEventListener&&e.addEventListener(H,c)),O.add&&(O.add.call(e,I),I.handler.guid||(I.handler.guid=n.guid)),l?k.splice(k.delegateCount++,0,I):k.push(I),i.event.global[H]=!0)},remove:function(e,t,n,a,l){var u,c,v,g,T,I,O,k,H,fe,Te,ve=J.hasData(e)&&J.get(e);if(!(!ve||!(g=ve.events))){for(t=(t||"").match(vt)||[""],T=t.length;T--;){if(v=Br.exec(t[T])||[],H=Te=v[1],fe=(v[2]||"").split(".").sort(),!H){for(H in g)i.event.remove(e,H+t[T],n,a,!0);continue}for(O=i.event.special[H]||{},H=(a?O.delegateType:O.bindType)||H,k=g[H]||[],v=v[2]&&new RegExp("(^|\\.)"+fe.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=u=k.length;u--;)I=k[u],(l||Te===I.origType)&&(!n||n.guid===I.guid)&&(!v||v.test(I.namespace))&&(!a||a===I.selector||a==="**"&&I.selector)&&(k.splice(u,1),I.selector&&k.delegateCount--,O.remove&&O.remove.call(e,I));c&&!k.length&&((!O.teardown||O.teardown.call(e,fe,ve.handle)===!1)&&i.removeEvent(e,H,ve.handle),delete g[H])}i.isEmptyObject(g)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,a,l,u,c,v=new Array(arguments.length),g=i.event.fix(e),T=(J.get(this,"events")||Object.create(null))[g.type]||[],I=i.event.special[g.type]||{};for(v[0]=g,t=1;t<arguments.length;t++)v[t]=arguments[t];if(g.delegateTarget=this,!(I.preDispatch&&I.preDispatch.call(this,g)===!1)){for(c=i.event.handlers.call(this,g,T),t=0;(l=c[t++])&&!g.isPropagationStopped();)for(g.currentTarget=l.elem,n=0;(u=l.handlers[n++])&&!g.isImmediatePropagationStopped();)(!g.rnamespace||u.namespace===!1||g.rnamespace.test(u.namespace))&&(g.handleObj=u,g.data=u.data,a=((i.event.special[u.origType]||{}).handle||u.handler).apply(l.elem,v),a!==void 0&&(g.result=a)===!1&&(g.preventDefault(),g.stopPropagation()));return I.postDispatch&&I.postDispatch.call(this,g),g.result}},handlers:function(e,t){var n,a,l,u,c,v=[],g=t.delegateCount,T=e.target;if(g&&T.nodeType&&!(e.type==="click"&&e.button>=1)){for(;T!==this;T=T.parentNode||this)if(T.nodeType===1&&!(e.type==="click"&&T.disabled===!0)){for(u=[],c={},n=0;n<g;n++)a=t[n],l=a.selector+" ",c[l]===void 0&&(c[l]=a.needsContext?i(l,this).index(T)>-1:i.find(l,this,null,[T]).length),c[l]&&u.push(a);u.length&&v.push({elem:T,handlers:u})}}return T=this,g<t.length&&v.push({elem:T,handlers:t.slice(g)}),v},addProp:function(e,t){Object.defineProperty(i.Event.prototype,e,{enumerable:!0,configurable:!0,get:Y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(n){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(e){return e[i.expando]?e:new i.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return yt.test(t.type)&&t.click&&ee(t,"input")&&dt(t,"click",!0),!1},trigger:function(e){var t=this||e;return yt.test(t.type)&&t.click&&ee(t,"input")&&dt(t,"click"),!0},_default:function(e){var t=e.target;return yt.test(t.type)&&t.click&&ee(t,"input")&&J.get(t,"click")||ee(t,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};function dt(e,t,n){if(!n){J.get(e,t)===void 0&&i.event.add(e,t,nr);return}J.set(e,t,!1),i.event.add(e,t,{namespace:!1,handler:function(a){var l,u=J.get(this,t);if(a.isTrigger&1&&this[t]){if(u)(i.event.special[t]||{}).delegateType&&a.stopPropagation();else if(u=p.call(arguments),J.set(this,t,u),this[t](),l=J.get(this,t),J.set(this,t,!1),u!==l)return a.stopImmediatePropagation(),a.preventDefault(),l}else u&&(J.set(this,t,i.event.trigger(u[0],u.slice(1),this)),a.stopPropagation(),a.isImmediatePropagationStopped=nr)}})}i.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},i.Event=function(e,t){if(!(this instanceof i.Event))return new i.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?nr:ir,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&i.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[i.expando]=!0},i.Event.prototype={constructor:i.Event,isDefaultPrevented:ir,isPropagationStopped:ir,isImmediatePropagationStopped:ir,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=nr,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=nr,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=nr,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},i.event.addProp),i.each({focus:"focusin",blur:"focusout"},function(e,t){function n(a){if(ne.documentMode){var l=J.get(this,"handle"),u=i.event.fix(a);u.type=a.type==="focusin"?"focus":"blur",u.isSimulated=!0,l(a),u.target===u.currentTarget&&l(u)}else i.event.simulate(t,a.target,i.event.fix(a))}i.event.special[e]={setup:function(){var a;if(dt(this,e,!0),ne.documentMode)a=J.get(this,t),a||this.addEventListener(t,n),J.set(this,t,(a||0)+1);else return!1},trigger:function(){return dt(this,e),!0},teardown:function(){var a;if(ne.documentMode)a=J.get(this,t)-1,a?J.set(this,t,a):(this.removeEventListener(t,n),J.remove(this,t));else return!1},_default:function(a){return J.get(a.target,e)},delegateType:t},i.event.special[t]={setup:function(){var a=this.ownerDocument||this.document||this,l=ne.documentMode?this:a,u=J.get(l,t);u||(ne.documentMode?this.addEventListener(t,n):a.addEventListener(e,n,!0)),J.set(l,t,(u||0)+1)},teardown:function(){var a=this.ownerDocument||this.document||this,l=ne.documentMode?this:a,u=J.get(l,t)-1;u?J.set(l,t,u):(ne.documentMode?this.removeEventListener(t,n):a.removeEventListener(e,n,!0),J.remove(l,t))}}}),i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){i.event.special[e]={delegateType:t,bindType:t,handle:function(n){var a,l=this,u=n.relatedTarget,c=n.handleObj;return(!u||u!==l&&!i.contains(l,u))&&(n.type=c.origType,a=c.handler.apply(this,arguments),n.type=t),a}}}),i.fn.extend({on:function(e,t,n,a){return on(this,e,t,n,a)},one:function(e,t,n,a){return on(this,e,t,n,a,1)},off:function(e,t,n){var a,l;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,i(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if(typeof e=="object"){for(l in e)this.off(l,t,e[l]);return this}return(t===!1||typeof t=="function")&&(n=t,t=void 0),n===!1&&(n=ir),this.each(function(){i.event.remove(this,e,n,t)})}});var $r=/<script|<style|<link/i,an=/checked\s*(?:[^=]|=\s*.checked.)/i,Cn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Gr(e,t){return ee(e,"table")&&ee(t.nodeType!==11?t:t.firstChild,"tr")&&i(e).children("tbody")[0]||e}function An(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function Ht(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}function sn(e,t){var n,a,l,u,c,v,g;if(t.nodeType===1){if(J.hasData(e)&&(u=J.get(e),g=u.events,g)){J.remove(t,"handle events");for(l in g)for(n=0,a=g[l].length;n<a;n++)i.event.add(t,l,g[l][n])}Be.hasData(e)&&(c=Be.access(e),v=i.extend({},c),Be.set(t,v))}}function kn(e,t){var n=t.nodeName.toLowerCase();n==="input"&&yt.test(e.type)?t.checked=e.checked:(n==="input"||n==="textarea")&&(t.defaultValue=e.defaultValue)}function or(e,t,n,a){t=_(t);var l,u,c,v,g,T,I=0,O=e.length,k=O-1,H=t[0],fe=Y(H);if(fe||O>1&&typeof H=="string"&&!W.checkClone&&an.test(H))return e.each(function(Te){var ve=e.eq(Te);fe&&(t[0]=H.call(this,Te,ve.html())),or(ve,t,n,a)});if(O&&(l=nn(t,e[0].ownerDocument,!1,e,a),u=l.firstChild,l.childNodes.length===1&&(l=u),u||a)){for(c=i.map(xe(l,"script"),An),v=c.length;I<O;I++)g=l,I!==k&&(g=i.clone(g,!0,!0),v&&i.merge(c,xe(g,"script"))),n.call(e[I],g,I);if(v)for(T=c[c.length-1].ownerDocument,i.map(c,Ht),I=0;I<v;I++)g=c[I],Sn.test(g.type||"")&&!J.access(g,"globalEval")&&i.contains(T,g)&&(g.src&&(g.type||"").toLowerCase()!=="module"?i._evalUrl&&!g.noModule&&i._evalUrl(g.src,{nonce:g.nonce||g.getAttribute("nonce")},T):at(g.textContent.replace(Cn,""),g,T))}return e}function ln(e,t,n){for(var a,l=t?i.filter(t,e):e,u=0;(a=l[u])!=null;u++)!n&&a.nodeType===1&&i.cleanData(xe(a)),a.parentNode&&(n&&nt(a)&&zt(xe(a,"script")),a.parentNode.removeChild(a));return e}i.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var a,l,u,c,v=e.cloneNode(!0),g=nt(e);if(!W.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!i.isXMLDoc(e))for(c=xe(v),u=xe(e),a=0,l=u.length;a<l;a++)kn(u[a],c[a]);if(t)if(n)for(u=u||xe(e),c=c||xe(v),a=0,l=u.length;a<l;a++)sn(u[a],c[a]);else sn(e,v);return c=xe(v,"script"),c.length>0&&zt(c,!g&&xe(e,"script")),v},cleanData:function(e){for(var t,n,a,l=i.event.special,u=0;(n=e[u])!==void 0;u++)if(er(n)){if(t=n[J.expando]){if(t.events)for(a in t.events)l[a]?i.event.remove(n,a):i.removeEvent(n,a,t.handle);n[J.expando]=void 0}n[Be.expando]&&(n[Be.expando]=void 0)}}}),i.fn.extend({detach:function(e){return ln(this,e,!0)},remove:function(e){return ln(this,e)},text:function(e){return st(this,function(t){return t===void 0?i.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=t)})},null,e,arguments.length)},append:function(){return or(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Gr(this,e);t.appendChild(e)}})},prepend:function(){return or(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Gr(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return or(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return or(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;(e=this[t])!=null;t++)e.nodeType===1&&(i.cleanData(xe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return i.clone(this,e,t)})},html:function(e){return st(this,function(t){var n=this[0]||{},a=0,l=this.length;if(t===void 0&&n.nodeType===1)return n.innerHTML;if(typeof t=="string"&&!$r.test(t)&&!ct[(dr.exec(t)||["",""])[1].toLowerCase()]){t=i.htmlPrefilter(t);try{for(;a<l;a++)n=this[a]||{},n.nodeType===1&&(i.cleanData(xe(n,!1)),n.innerHTML=t);n=0}catch(u){}}n&&this.empty().append(t)},null,e,arguments.length)},replaceWith:function(){var e=[];return or(this,arguments,function(t){var n=this.parentNode;i.inArray(this,e)<0&&(i.cleanData(xe(this)),n&&n.replaceChild(t,this))},e)}}),i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){i.fn[e]=function(n){for(var a,l=[],u=i(n),c=u.length-1,v=0;v<=c;v++)a=v===c?this:this.clone(!0),i(u[v])[t](a),C.apply(l,a.get());return this.pushStack(l)}});var un=new RegExp("^("+Ar+")(?!px)[a-z%]+$","i"),ie=/^--/,w=function(e){var t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=s),t.getComputedStyle(e)},j=function(e,t,n){var a,l,u={};for(l in t)u[l]=e.style[l],e.style[l]=t[l];a=n.call(e);for(l in t)e.style[l]=u[l];return a},te=new RegExp(ft.join("|"),"i");(function(){function e(){if(!!T){g.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",T.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",St.appendChild(g).appendChild(T);var I=s.getComputedStyle(T);n=I.top!=="1%",v=t(I.marginLeft)===12,T.style.right="60%",u=t(I.right)===36,a=t(I.width)===36,T.style.position="absolute",l=t(T.offsetWidth/3)===12,St.removeChild(g),T=null}}function t(I){return Math.round(parseFloat(I))}var n,a,l,u,c,v,g=ne.createElement("div"),T=ne.createElement("div");!T.style||(T.style.backgroundClip="content-box",T.cloneNode(!0).style.backgroundClip="",W.clearCloneStyle=T.style.backgroundClip==="content-box",i.extend(W,{boxSizingReliable:function(){return e(),a},pixelBoxStyles:function(){return e(),u},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),v},scrollboxSize:function(){return e(),l},reliableTrDimensions:function(){var I,O,k,H;return c==null&&(I=ne.createElement("table"),O=ne.createElement("tr"),k=ne.createElement("div"),I.style.cssText="position:absolute;left:-11111px;border-collapse:separate",O.style.cssText="box-sizing:content-box;border:1px solid",O.style.height="1px",k.style.height="9px",k.style.display="block",St.appendChild(I).appendChild(O).appendChild(k),H=s.getComputedStyle(O),c=parseInt(H.height,10)+parseInt(H.borderTopWidth,10)+parseInt(H.borderBottomWidth,10)===O.offsetHeight,St.removeChild(I)),c}}))})();function Ce(e,t,n){var a,l,u,c,v=ie.test(t),g=e.style;return n=n||w(e),n&&(c=n.getPropertyValue(t)||n[t],v&&c&&(c=c.replace(Ye,"$1")||void 0),c===""&&!nt(e)&&(c=i.style(e,t)),!W.pixelBoxStyles()&&un.test(c)&&te.test(t)&&(a=g.width,l=g.minWidth,u=g.maxWidth,g.minWidth=g.maxWidth=g.width=c,c=n.width,g.width=a,g.minWidth=l,g.maxWidth=u)),c!==void 0?c+"":c}function Ze(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}var Ve=["Webkit","Moz","ms"],qe=ne.createElement("div").style,bt={};function Mt(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ve.length;n--;)if(e=Ve[n]+t,e in qe)return e}function Je(e){var t=i.cssProps[e]||bt[e];return t||(e in qe?e:bt[e]=Mt(e)||e)}var Dr=/^(none|table(?!-c[ea]).+)/,zr={position:"absolute",visibility:"hidden",display:"block"},pi={letterSpacing:"0",fontWeight:"400"};function hi(e,t,n){var a=rr.exec(t);return a?Math.max(0,a[2]-(n||0))+(a[3]||"px"):t}function fn(e,t,n,a,l,u){var c=t==="width"?1:0,v=0,g=0,T=0;if(n===(a?"border":"content"))return 0;for(;c<4;c+=2)n==="margin"&&(T+=i.css(e,n+ft[c],!0,l)),a?(n==="content"&&(g-=i.css(e,"padding"+ft[c],!0,l)),n!=="margin"&&(g-=i.css(e,"border"+ft[c]+"Width",!0,l))):(g+=i.css(e,"padding"+ft[c],!0,l),n!=="padding"?g+=i.css(e,"border"+ft[c]+"Width",!0,l):v+=i.css(e,"border"+ft[c]+"Width",!0,l));return!a&&u>=0&&(g+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-u-g-v-.5))||0),g+T}function mi(e,t,n){var a=w(e),l=!W.boxSizingReliable()||n,u=l&&i.css(e,"boxSizing",!1,a)==="border-box",c=u,v=Ce(e,t,a),g="offset"+t[0].toUpperCase()+t.slice(1);if(un.test(v)){if(!n)return v;v="auto"}return(!W.boxSizingReliable()&&u||!W.reliableTrDimensions()&&ee(e,"tr")||v==="auto"||!parseFloat(v)&&i.css(e,"display",!1,a)==="inline")&&e.getClientRects().length&&(u=i.css(e,"boxSizing",!1,a)==="border-box",c=g in e,c&&(v=e[g])),v=parseFloat(v)||0,v+fn(e,t,n||(u?"border":"content"),c,a,v)+"px"}i.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ce(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,a){if(!(!e||e.nodeType===3||e.nodeType===8||!e.style)){var l,u,c,v=ut(t),g=ie.test(t),T=e.style;if(g||(t=Je(v)),c=i.cssHooks[t]||i.cssHooks[v],n!==void 0){if(u=typeof n,u==="string"&&(l=rr.exec(n))&&l[1]&&(n=Hr(e,t,l),u="number"),n==null||n!==n)return;u==="number"&&!g&&(n+=l&&l[3]||(i.cssNumber[v]?"":"px")),!W.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(T[t]="inherit"),(!c||!("set"in c)||(n=c.set(e,n,a))!==void 0)&&(g?T.setProperty(t,n):T[t]=n)}else return c&&"get"in c&&(l=c.get(e,!1,a))!==void 0?l:T[t]}},css:function(e,t,n,a){var l,u,c,v=ut(t),g=ie.test(t);return g||(t=Je(v)),c=i.cssHooks[t]||i.cssHooks[v],c&&"get"in c&&(l=c.get(e,!0,n)),l===void 0&&(l=Ce(e,t,a)),l==="normal"&&t in pi&&(l=pi[t]),n===""||n?(u=parseFloat(l),n===!0||isFinite(u)?u||0:l):l}}),i.each(["height","width"],function(e,t){i.cssHooks[t]={get:function(n,a,l){if(a)return Dr.test(i.css(n,"display"))&&(!n.getClientRects().length||!n.getBoundingClientRect().width)?j(n,zr,function(){return mi(n,t,l)}):mi(n,t,l)},set:function(n,a,l){var u,c=w(n),v=!W.scrollboxSize()&&c.position==="absolute",g=v||l,T=g&&i.css(n,"boxSizing",!1,c)==="border-box",I=l?fn(n,t,l,T,c):0;return T&&v&&(I-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(c[t])-fn(n,t,"border",!1,c)-.5)),I&&(u=rr.exec(a))&&(u[3]||"px")!=="px"&&(n.style[t]=a,a=i.css(n,t)),hi(n,a,I)}}}),i.cssHooks.marginLeft=Ze(W.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ce(e,"marginLeft"))||e.getBoundingClientRect().left-j(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),i.each({margin:"",padding:"",border:"Width"},function(e,t){i.cssHooks[e+t]={expand:function(n){for(var a=0,l={},u=typeof n=="string"?n.split(" "):[n];a<4;a++)l[e+ft[a]+t]=u[a]||u[a-2]||u[0];return l}},e!=="margin"&&(i.cssHooks[e+t].set=hi)}),i.fn.extend({css:function(e,t){return st(this,function(n,a,l){var u,c,v={},g=0;if(Array.isArray(a)){for(u=w(n),c=a.length;g<c;g++)v[a[g]]=i.css(n,a[g],!1,u);return v}return l!==void 0?i.style(n,a,l):i.css(n,a)},e,t,arguments.length>1)}});function wt(e,t,n,a,l){return new wt.prototype.init(e,t,n,a,l)}i.Tween=wt,wt.prototype={constructor:wt,init:function(e,t,n,a,l,u){this.elem=e,this.prop=n,this.easing=l||i.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=u||(i.cssNumber[n]?"":"px")},cur:function(){var e=wt.propHooks[this.prop];return e&&e.get?e.get(this):wt.propHooks._default.get(this)},run:function(e){var t,n=wt.propHooks[this.prop];return this.options.duration?this.pos=t=i.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):wt.propHooks._default.set(this),this}},wt.prototype.init.prototype=wt.prototype,wt.propHooks={_default:{get:function(e){var t;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(t=i.css(e.elem,e.prop,""),!t||t==="auto"?0:t)},set:function(e){i.fx.step[e.prop]?i.fx.step[e.prop](e):e.elem.nodeType===1&&(i.cssHooks[e.prop]||e.elem.style[Je(e.prop)]!=null)?i.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},wt.propHooks.scrollTop=wt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},i.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},i.fx=wt.prototype.init,i.fx.step={};var d,y,h=/^(?:toggle|show|hide)$/,E=/queueHooks$/;function S(){y&&(ne.hidden===!1&&s.requestAnimationFrame?s.requestAnimationFrame(S):s.setTimeout(S,i.fx.interval),i.fx.tick())}function x(){return s.setTimeout(function(){d=void 0}),d=Date.now()}function F(e,t){var n,a=0,l={height:e};for(t=t?1:0;a<4;a+=2-t)n=ft[a],l["margin"+n]=l["padding"+n]=e;return t&&(l.opacity=l.width=e),l}function N(e,t,n){for(var a,l=(U.tweeners[t]||[]).concat(U.tweeners["*"]),u=0,c=l.length;u<c;u++)if(a=l[u].call(n,t,e))return a}function B(e,t,n){var a,l,u,c,v,g,T,I,O="width"in t||"height"in t,k=this,H={},fe=e.style,Te=e.nodeType&&cr(e),ve=J.get(e,"fxshow");n.queue||(c=i._queueHooks(e,"fx"),c.unqueued==null&&(c.unqueued=0,v=c.empty.fire,c.empty.fire=function(){c.unqueued||v()}),c.unqueued++,k.always(function(){k.always(function(){c.unqueued--,i.queue(e,"fx").length||c.empty.fire()})}));for(a in t)if(l=t[a],h.test(l)){if(delete t[a],u=u||l==="toggle",l===(Te?"hide":"show"))if(l==="show"&&ve&&ve[a]!==void 0)Te=!0;else continue;H[a]=ve&&ve[a]||i.style(e,a)}if(g=!i.isEmptyObject(t),!(!g&&i.isEmptyObject(H))){O&&e.nodeType===1&&(n.overflow=[fe.overflow,fe.overflowX,fe.overflowY],T=ve&&ve.display,T==null&&(T=J.get(e,"display")),I=i.css(e,"display"),I==="none"&&(T?I=T:(Ut([e],!0),T=e.style.display||T,I=i.css(e,"display"),Ut([e]))),(I==="inline"||I==="inline-block"&&T!=null)&&i.css(e,"float")==="none"&&(g||(k.done(function(){fe.display=T}),T==null&&(I=fe.display,T=I==="none"?"":I)),fe.display="inline-block")),n.overflow&&(fe.overflow="hidden",k.always(function(){fe.overflow=n.overflow[0],fe.overflowX=n.overflow[1],fe.overflowY=n.overflow[2]})),g=!1;for(a in H)g||(ve?"hidden"in ve&&(Te=ve.hidden):ve=J.access(e,"fxshow",{display:T}),u&&(ve.hidden=!Te),Te&&Ut([e],!0),k.done(function(){Te||Ut([e]),J.remove(e,"fxshow");for(a in H)i.style(e,a,H[a])})),g=N(Te?ve[a]:0,a,k),a in ve||(ve[a]=g.start,Te&&(g.end=g.start,g.start=0))}}function G(e,t){var n,a,l,u,c;for(n in e)if(a=ut(n),l=t[a],u=e[n],Array.isArray(u)&&(l=u[1],u=e[n]=u[0]),n!==a&&(e[a]=u,delete e[n]),c=i.cssHooks[a],c&&"expand"in c){u=c.expand(u),delete e[a];for(n in u)n in e||(e[n]=u[n],t[n]=l)}else t[a]=l}function U(e,t,n){var a,l,u=0,c=U.prefilters.length,v=i.Deferred().always(function(){delete g.elem}),g=function(){if(l)return!1;for(var O=d||x(),k=Math.max(0,T.startTime+T.duration-O),H=k/T.duration||0,fe=1-H,Te=0,ve=T.tweens.length;Te<ve;Te++)T.tweens[Te].run(fe);return v.notifyWith(e,[T,fe,k]),fe<1&&ve?k:(ve||v.notifyWith(e,[T,1,0]),v.resolveWith(e,[T]),!1)},T=v.promise({elem:e,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},n),originalProperties:t,originalOptions:n,startTime:d||x(),duration:n.duration,tweens:[],createTween:function(O,k){var H=i.Tween(e,T.opts,O,k,T.opts.specialEasing[O]||T.opts.easing);return T.tweens.push(H),H},stop:function(O){var k=0,H=O?T.tweens.length:0;if(l)return this;for(l=!0;k<H;k++)T.tweens[k].run(1);return O?(v.notifyWith(e,[T,1,0]),v.resolveWith(e,[T,O])):v.rejectWith(e,[T,O]),this}}),I=T.props;for(G(I,T.opts.specialEasing);u<c;u++)if(a=U.prefilters[u].call(T,e,I,T.opts),a)return Y(a.stop)&&(i._queueHooks(T.elem,T.opts.queue).stop=a.stop.bind(a)),a;return i.map(I,N,T),Y(T.opts.start)&&T.opts.start.call(e,T),T.progress(T.opts.progress).done(T.opts.done,T.opts.complete).fail(T.opts.fail).always(T.opts.always),i.fx.timer(i.extend(g,{elem:e,anim:T,queue:T.opts.queue})),T}i.Animation=i.extend(U,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return Hr(n.elem,e,rr.exec(t),n),n}]},tweener:function(e,t){Y(e)?(t=e,e=["*"]):e=e.match(vt);for(var n,a=0,l=e.length;a<l;a++)n=e[a],U.tweeners[n]=U.tweeners[n]||[],U.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?U.prefilters.unshift(e):U.prefilters.push(e)}}),i.speed=function(e,t,n){var a=e&&typeof e=="object"?i.extend({},e):{complete:n||!n&&t||Y(e)&&e,duration:e,easing:n&&t||t&&!Y(t)&&t};return i.fx.off?a.duration=0:typeof a.duration!="number"&&(a.duration in i.fx.speeds?a.duration=i.fx.speeds[a.duration]:a.duration=i.fx.speeds._default),(a.queue==null||a.queue===!0)&&(a.queue="fx"),a.old=a.complete,a.complete=function(){Y(a.old)&&a.old.call(this),a.queue&&i.dequeue(this,a.queue)},a},i.fn.extend({fadeTo:function(e,t,n,a){return this.filter(cr).css("opacity",0).show().end().animate({opacity:t},e,n,a)},animate:function(e,t,n,a){var l=i.isEmptyObject(e),u=i.speed(t,n,a),c=function(){var v=U(this,i.extend({},e),u);(l||J.get(this,"finish"))&&v.stop(!0)};return c.finish=c,l||u.queue===!1?this.each(c):this.queue(u.queue,c)},stop:function(e,t,n){var a=function(l){var u=l.stop;delete l.stop,u(n)};return typeof e!="string"&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var l=!0,u=e!=null&&e+"queueHooks",c=i.timers,v=J.get(this);if(u)v[u]&&v[u].stop&&a(v[u]);else for(u in v)v[u]&&v[u].stop&&E.test(u)&&a(v[u]);for(u=c.length;u--;)c[u].elem===this&&(e==null||c[u].queue===e)&&(c[u].anim.stop(n),l=!1,c.splice(u,1));(l||!n)&&i.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),a=n[e+"queue"],l=n[e+"queueHooks"],u=i.timers,c=a?a.length:0;for(n.finish=!0,i.queue(this,e,[]),l&&l.stop&&l.stop.call(this,!0),t=u.length;t--;)u[t].elem===this&&u[t].queue===e&&(u[t].anim.stop(!0),u.splice(t,1));for(t=0;t<c;t++)a[t]&&a[t].finish&&a[t].finish.call(this);delete n.finish})}}),i.each(["toggle","show","hide"],function(e,t){var n=i.fn[t];i.fn[t]=function(a,l,u){return a==null||typeof a=="boolean"?n.apply(this,arguments):this.animate(F(t,!0),a,l,u)}}),i.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){i.fn[e]=function(n,a,l){return this.animate(t,n,a,l)}}),i.timers=[],i.fx.tick=function(){var e,t=0,n=i.timers;for(d=Date.now();t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||i.fx.stop(),d=void 0},i.fx.timer=function(e){i.timers.push(e),i.fx.start()},i.fx.interval=13,i.fx.start=function(){y||(y=!0,S())},i.fx.stop=function(){y=null},i.fx.speeds={slow:600,fast:200,_default:400},i.fn.delay=function(e,t){return e=i.fx&&i.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(n,a){var l=s.setTimeout(n,e);a.stop=function(){s.clearTimeout(l)}})},function(){var e=ne.createElement("input"),t=ne.createElement("select"),n=t.appendChild(ne.createElement("option"));e.type="checkbox",W.checkOn=e.value!=="",W.optSelected=n.selected,e=ne.createElement("input"),e.value="t",e.type="radio",W.radioValue=e.value==="t"}();var re,he=i.expr.attrHandle;i.fn.extend({attr:function(e,t){return st(this,i.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){i.removeAttr(this,e)})}}),i.extend({attr:function(e,t,n){var a,l,u=e.nodeType;if(!(u===3||u===8||u===2)){if(typeof e.getAttribute=="undefined")return i.prop(e,t,n);if((u!==1||!i.isXMLDoc(e))&&(l=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?re:void 0)),n!==void 0){if(n===null){i.removeAttr(e,t);return}return l&&"set"in l&&(a=l.set(e,n,t))!==void 0?a:(e.setAttribute(t,n+""),n)}return l&&"get"in l&&(a=l.get(e,t))!==null?a:(a=i.find.attr(e,t),a==null?void 0:a)}},attrHooks:{type:{set:function(e,t){if(!W.radioValue&&t==="radio"&&ee(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,a=0,l=t&&t.match(vt);if(l&&e.nodeType===1)for(;n=l[a++];)e.removeAttribute(n)}}),re={set:function(e,t,n){return t===!1?i.removeAttr(e,n):e.setAttribute(n,n),n}},i.each(i.expr.match.bool.source.match(/\w+/g),function(e,t){var n=he[t]||i.find.attr;he[t]=function(a,l,u){var c,v,g=l.toLowerCase();return u||(v=he[g],he[g]=c,c=n(a,l,u)!=null?g:null,he[g]=v),c}});var Ae=/^(?:input|select|textarea|button)$/i,Ie=/^(?:a|area)$/i;i.fn.extend({prop:function(e,t){return st(this,i.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[i.propFix[e]||e]})}}),i.extend({prop:function(e,t,n){var a,l,u=e.nodeType;if(!(u===3||u===8||u===2))return(u!==1||!i.isXMLDoc(e))&&(t=i.propFix[t]||t,l=i.propHooks[t]),n!==void 0?l&&"set"in l&&(a=l.set(e,n,t))!==void 0?a:e[t]=n:l&&"get"in l&&(a=l.get(e,t))!==null?a:e[t]},propHooks:{tabIndex:{get:function(e){var t=i.find.attr(e,"tabindex");return t?parseInt(t,10):Ae.test(e.nodeName)||Ie.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),W.optSelected||(i.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});function Ne(e){var t=e.match(vt)||[];return t.join(" ")}function Me(e){return e.getAttribute&&e.getAttribute("class")||""}function _t(e){return Array.isArray(e)?e:typeof e=="string"?e.match(vt)||[]:[]}i.fn.extend({addClass:function(e){var t,n,a,l,u,c;return Y(e)?this.each(function(v){i(this).addClass(e.call(this,v,Me(this)))}):(t=_t(e),t.length?this.each(function(){if(a=Me(this),n=this.nodeType===1&&" "+Ne(a)+" ",n){for(u=0;u<t.length;u++)l=t[u],n.indexOf(" "+l+" ")<0&&(n+=l+" ");c=Ne(n),a!==c&&this.setAttribute("class",c)}}):this)},removeClass:function(e){var t,n,a,l,u,c;return Y(e)?this.each(function(v){i(this).removeClass(e.call(this,v,Me(this)))}):arguments.length?(t=_t(e),t.length?this.each(function(){if(a=Me(this),n=this.nodeType===1&&" "+Ne(a)+" ",n){for(u=0;u<t.length;u++)for(l=t[u];n.indexOf(" "+l+" ")>-1;)n=n.replace(" "+l+" "," ");c=Ne(n),a!==c&&this.setAttribute("class",c)}}):this):this.attr("class","")},toggleClass:function(e,t){var n,a,l,u,c=typeof e,v=c==="string"||Array.isArray(e);return Y(e)?this.each(function(g){i(this).toggleClass(e.call(this,g,Me(this),t),t)}):typeof t=="boolean"&&v?t?this.addClass(e):this.removeClass(e):(n=_t(e),this.each(function(){if(v)for(u=i(this),l=0;l<n.length;l++)a=n[l],u.hasClass(a)?u.removeClass(a):u.addClass(a);else(e===void 0||c==="boolean")&&(a=Me(this),a&&J.set(this,"__className__",a),this.setAttribute&&this.setAttribute("class",a||e===!1?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,a=0;for(t=" "+e+" ";n=this[a++];)if(n.nodeType===1&&(" "+Ne(Me(n))+" ").indexOf(t)>-1)return!0;return!1}});var cn=/\r/g;i.fn.extend({val:function(e){var t,n,a,l=this[0];return arguments.length?(a=Y(e),this.each(function(u){var c;this.nodeType===1&&(a?c=e.call(this,u,i(this).val()):c=e,c==null?c="":typeof c=="number"?c+="":Array.isArray(c)&&(c=i.map(c,function(v){return v==null?"":v+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],(!t||!("set"in t)||t.set(this,c,"value")===void 0)&&(this.value=c))})):l?(t=i.valHooks[l.type]||i.valHooks[l.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(l,"value"))!==void 0?n:(n=l.value,typeof n=="string"?n.replace(cn,""):n==null?"":n)):void 0}}),i.extend({valHooks:{option:{get:function(e){var t=i.find.attr(e,"value");return t!=null?t:Ne(i.text(e))}},select:{get:function(e){var t,n,a,l=e.options,u=e.selectedIndex,c=e.type==="select-one",v=c?null:[],g=c?u+1:l.length;for(u<0?a=g:a=c?u:0;a<g;a++)if(n=l[a],(n.selected||a===u)&&!n.disabled&&(!n.parentNode.disabled||!ee(n.parentNode,"optgroup"))){if(t=i(n).val(),c)return t;v.push(t)}return v},set:function(e,t){for(var n,a,l=e.options,u=i.makeArray(t),c=l.length;c--;)a=l[c],(a.selected=i.inArray(i.valHooks.option.get(a),u)>-1)&&(n=!0);return n||(e.selectedIndex=-1),u}}}}),i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=i.inArray(i(e).val(),t)>-1}},W.checkOn||(i.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var Rr=s.location,gi={guid:Date.now()},dn=/\?/;i.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{t=new s.DOMParser().parseFromString(e,"text/xml")}catch(a){}return n=t&&t.getElementsByTagName("parsererror")[0],(!t||n)&&i.error("Invalid XML: "+(n?i.map(n.childNodes,function(a){return a.textContent}).join(`
`):e)),t};var Hi=/^(?:focusinfocus|focusoutblur)$/,vi=function(e){e.stopPropagation()};i.extend(i.event,{trigger:function(e,t,n,a){var l,u,c,v,g,T,I,O,k=[n||ne],H=ae.call(e,"type")?e.type:e,fe=ae.call(e,"namespace")?e.namespace.split("."):[];if(u=O=c=n=n||ne,!(n.nodeType===3||n.nodeType===8)&&!Hi.test(H+i.event.triggered)&&(H.indexOf(".")>-1&&(fe=H.split("."),H=fe.shift(),fe.sort()),g=H.indexOf(":")<0&&"on"+H,e=e[i.expando]?e:new i.Event(H,typeof e=="object"&&e),e.isTrigger=a?2:3,e.namespace=fe.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+fe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=t==null?[e]:i.makeArray(t,[e]),I=i.event.special[H]||{},!(!a&&I.trigger&&I.trigger.apply(n,t)===!1))){if(!a&&!I.noBubble&&!Ee(n)){for(v=I.delegateType||H,Hi.test(v+H)||(u=u.parentNode);u;u=u.parentNode)k.push(u),c=u;c===(n.ownerDocument||ne)&&k.push(c.defaultView||c.parentWindow||s)}for(l=0;(u=k[l++])&&!e.isPropagationStopped();)O=u,e.type=l>1?v:I.bindType||H,T=(J.get(u,"events")||Object.create(null))[e.type]&&J.get(u,"handle"),T&&T.apply(u,t),T=g&&u[g],T&&T.apply&&er(u)&&(e.result=T.apply(u,t),e.result===!1&&e.preventDefault());return e.type=H,!a&&!e.isDefaultPrevented()&&(!I._default||I._default.apply(k.pop(),t)===!1)&&er(n)&&g&&Y(n[H])&&!Ee(n)&&(c=n[g],c&&(n[g]=null),i.event.triggered=H,e.isPropagationStopped()&&O.addEventListener(H,vi),n[H](),e.isPropagationStopped()&&O.removeEventListener(H,vi),i.event.triggered=void 0,c&&(n[g]=c)),e.result}},simulate:function(e,t,n){var a=i.extend(new i.Event,n,{type:e,isSimulated:!0});i.event.trigger(a,null,t)}}),i.fn.extend({trigger:function(e,t){return this.each(function(){i.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return i.event.trigger(e,t,n,!0)}});var ji=/\[\]$/,Nn=/\r?\n/g,As=/^(?:submit|button|image|reset|file)$/i,ks=/^(?:input|select|textarea|keygen)/i;function Bi(e,t,n,a){var l;if(Array.isArray(t))i.each(t,function(u,c){n||ji.test(e)?a(e,c):Bi(e+"["+(typeof c=="object"&&c!=null?u:"")+"]",c,n,a)});else if(!n&&De(t)==="object")for(l in t)Bi(e+"["+l+"]",t[l],n,a);else a(e,t)}i.param=function(e,t){var n,a=[],l=function(u,c){var v=Y(c)?c():c;a[a.length]=encodeURIComponent(u)+"="+encodeURIComponent(v==null?"":v)};if(e==null)return"";if(Array.isArray(e)||e.jquery&&!i.isPlainObject(e))i.each(e,function(){l(this.name,this.value)});else for(n in e)Bi(n,e[n],t,l);return a.join("&")},i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=i.prop(this,"elements");return e?i.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!i(this).is(":disabled")&&ks.test(this.nodeName)&&!As.test(e)&&(this.checked||!yt.test(e))}).map(function(e,t){var n=i(this).val();return n==null?null:Array.isArray(n)?i.map(n,function(a){return{name:t.name,value:a.replace(Nn,`\r
`)}}):{name:t.name,value:n.replace(Nn,`\r
`)}}).get()}});var Ds=/%20/g,Rs=/#.*$/,Ls=/([?&])_=[^&]*/,Ps=/^(.*?):[ \t]*([^\r\n]*)$/mg,Is=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fs=/^(?:GET|HEAD)$/,Ms=/^\/\//,Yo={},$i={},Xo="*/".concat("*"),Gi=ne.createElement("a");Gi.href=Rr.href;function Ko(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var a,l=0,u=t.toLowerCase().match(vt)||[];if(Y(n))for(;a=u[l++];)a[0]==="+"?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(n)):(e[a]=e[a]||[]).push(n)}}function Qo(e,t,n,a){var l={},u=e===$i;function c(v){var g;return l[v]=!0,i.each(e[v]||[],function(T,I){var O=I(t,n,a);if(typeof O=="string"&&!u&&!l[O])return t.dataTypes.unshift(O),c(O),!1;if(u)return!(g=O)}),g}return c(t.dataTypes[0])||!l["*"]&&c("*")}function zi(e,t){var n,a,l=i.ajaxSettings.flatOptions||{};for(n in t)t[n]!==void 0&&((l[n]?e:a||(a={}))[n]=t[n]);return a&&i.extend(!0,e,a),e}function Os(e,t,n){for(var a,l,u,c,v=e.contents,g=e.dataTypes;g[0]==="*";)g.shift(),a===void 0&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a){for(l in v)if(v[l]&&v[l].test(a)){g.unshift(l);break}}if(g[0]in n)u=g[0];else{for(l in n){if(!g[0]||e.converters[l+" "+g[0]]){u=l;break}c||(c=l)}u=u||c}if(u)return u!==g[0]&&g.unshift(u),n[u]}function Ns(e,t,n,a){var l,u,c,v,g,T={},I=e.dataTypes.slice();if(I[1])for(c in e.converters)T[c.toLowerCase()]=e.converters[c];for(u=I.shift();u;)if(e.responseFields[u]&&(n[e.responseFields[u]]=t),!g&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),g=u,u=I.shift(),u){if(u==="*")u=g;else if(g!=="*"&&g!==u){if(c=T[g+" "+u]||T["* "+u],!c){for(l in T)if(v=l.split(" "),v[1]===u&&(c=T[g+" "+v[0]]||T["* "+v[0]],c)){c===!0?c=T[l]:T[l]!==!0&&(u=v[0],I.unshift(v[1]));break}}if(c!==!0)if(c&&e.throws)t=c(t);else try{t=c(t)}catch(O){return{state:"parsererror",error:c?O:"No conversion from "+g+" to "+u}}}}return{state:"success",data:t}}i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rr.href,type:"GET",isLocal:Is.test(Rr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zi(zi(e,i.ajaxSettings),t):zi(i.ajaxSettings,e)},ajaxPrefilter:Ko(Yo),ajaxTransport:Ko($i),ajax:function(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};var n,a,l,u,c,v,g,T,I,O,k=i.ajaxSetup({},t),H=k.context||k,fe=k.context&&(H.nodeType||H.jquery)?i(H):i.event,Te=i.Deferred(),ve=i.Callbacks("once memory"),pt=k.statusCode||{},it={},pr={},hr="canceled",_e={readyState:0,getResponseHeader:function(Se){var Xe;if(g){if(!u)for(u={};Xe=Ps.exec(l);)u[Xe[1].toLowerCase()+" "]=(u[Xe[1].toLowerCase()+" "]||[]).concat(Xe[2]);Xe=u[Se.toLowerCase()+" "]}return Xe==null?null:Xe.join(", ")},getAllResponseHeaders:function(){return g?l:null},setRequestHeader:function(Se,Xe){return g==null&&(Se=pr[Se.toLowerCase()]=pr[Se.toLowerCase()]||Se,it[Se]=Xe),this},overrideMimeType:function(Se){return g==null&&(k.mimeType=Se),this},statusCode:function(Se){var Xe;if(Se)if(g)_e.always(Se[_e.status]);else for(Xe in Se)pt[Xe]=[pt[Xe],Se[Xe]];return this},abort:function(Se){var Xe=Se||hr;return n&&n.abort(Xe),pn(0,Xe),this}};if(Te.promise(_e),k.url=((e||k.url||Rr.href)+"").replace(Ms,Rr.protocol+"//"),k.type=t.method||t.type||k.method||k.type,k.dataTypes=(k.dataType||"*").toLowerCase().match(vt)||[""],k.crossDomain==null){v=ne.createElement("a");try{v.href=k.url,v.href=v.href,k.crossDomain=Gi.protocol+"//"+Gi.host!=v.protocol+"//"+v.host}catch(Se){k.crossDomain=!0}}if(k.data&&k.processData&&typeof k.data!="string"&&(k.data=i.param(k.data,k.traditional)),Qo(Yo,k,t,_e),g)return _e;T=i.event&&k.global,T&&i.active++==0&&i.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Fs.test(k.type),a=k.url.replace(Rs,""),k.hasContent?k.data&&k.processData&&(k.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(k.data=k.data.replace(Ds,"+")):(O=k.url.slice(a.length),k.data&&(k.processData||typeof k.data=="string")&&(a+=(dn.test(a)?"&":"?")+k.data,delete k.data),k.cache===!1&&(a=a.replace(Ls,"$1"),O=(dn.test(a)?"&":"?")+"_="+gi.guid+++O),k.url=a+O),k.ifModified&&(i.lastModified[a]&&_e.setRequestHeader("If-Modified-Since",i.lastModified[a]),i.etag[a]&&_e.setRequestHeader("If-None-Match",i.etag[a])),(k.data&&k.hasContent&&k.contentType!==!1||t.contentType)&&_e.setRequestHeader("Content-Type",k.contentType),_e.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(k.dataTypes[0]!=="*"?", "+Xo+"; q=0.01":""):k.accepts["*"]);for(I in k.headers)_e.setRequestHeader(I,k.headers[I]);if(k.beforeSend&&(k.beforeSend.call(H,_e,k)===!1||g))return _e.abort();if(hr="abort",ve.add(k.complete),_e.done(k.success),_e.fail(k.error),n=Qo($i,k,t,_e),!n)pn(-1,"No Transport");else{if(_e.readyState=1,T&&fe.trigger("ajaxSend",[_e,k]),g)return _e;k.async&&k.timeout>0&&(c=s.setTimeout(function(){_e.abort("timeout")},k.timeout));try{g=!1,n.send(it,pn)}catch(Se){if(g)throw Se;pn(-1,Se)}}function pn(Se,Xe,Un,qi){var mr,Hn,gr,Vr,qr,Vt=Xe;g||(g=!0,c&&s.clearTimeout(c),n=void 0,l=qi||"",_e.readyState=Se>0?4:0,mr=Se>=200&&Se<300||Se===304,Un&&(Vr=Os(k,_e,Un)),!mr&&i.inArray("script",k.dataTypes)>-1&&i.inArray("json",k.dataTypes)<0&&(k.converters["text script"]=function(){}),Vr=Ns(k,Vr,_e,mr),mr?(k.ifModified&&(qr=_e.getResponseHeader("Last-Modified"),qr&&(i.lastModified[a]=qr),qr=_e.getResponseHeader("etag"),qr&&(i.etag[a]=qr)),Se===204||k.type==="HEAD"?Vt="nocontent":Se===304?Vt="notmodified":(Vt=Vr.state,Hn=Vr.data,gr=Vr.error,mr=!gr)):(gr=Vt,(Se||!Vt)&&(Vt="error",Se<0&&(Se=0))),_e.status=Se,_e.statusText=(Xe||Vt)+"",mr?Te.resolveWith(H,[Hn,Vt,_e]):Te.rejectWith(H,[_e,Vt,gr]),_e.statusCode(pt),pt=void 0,T&&fe.trigger(mr?"ajaxSuccess":"ajaxError",[_e,k,mr?Hn:gr]),ve.fireWith(H,[_e,Vt]),T&&(fe.trigger("ajaxComplete",[_e,k]),--i.active||i.event.trigger("ajaxStop")))}return _e},getJSON:function(e,t,n){return i.get(e,t,n,"json")},getScript:function(e,t){return i.get(e,void 0,t,"script")}}),i.each(["get","post"],function(e,t){i[t]=function(n,a,l,u){return Y(a)&&(u=u||l,l=a,a=void 0),i.ajax(i.extend({url:n,type:t,dataType:u,data:a,success:l},i.isPlainObject(n)&&n))}}),i.ajaxPrefilter(function(e){var t;for(t in e.headers)t.toLowerCase()==="content-type"&&(e.contentType=e.headers[t]||"")}),i._evalUrl=function(e,t,n){return i.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(a){i.globalEval(a,t,n)}})},i.fn.extend({wrapAll:function(e){var t;return this[0]&&(Y(e)&&(e=e.call(this[0])),t=i(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(e){return Y(e)?this.each(function(t){i(this).wrapInner(e.call(this,t))}):this.each(function(){var t=i(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Y(e);return this.each(function(n){i(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(e){return!i.expr.pseudos.visible(e)},i.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new s.XMLHttpRequest}catch(e){}};var Ws={0:200,1223:204},Wn=i.ajaxSettings.xhr();W.cors=!!Wn&&"withCredentials"in Wn,W.ajax=Wn=!!Wn,i.ajaxTransport(function(e){var t,n;if(W.cors||Wn&&!e.crossDomain)return{send:function(a,l){var u,c=e.xhr();if(c.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(u in e.xhrFields)c[u]=e.xhrFields[u];e.mimeType&&c.overrideMimeType&&c.overrideMimeType(e.mimeType),!e.crossDomain&&!a["X-Requested-With"]&&(a["X-Requested-With"]="XMLHttpRequest");for(u in a)c.setRequestHeader(u,a[u]);t=function(v){return function(){t&&(t=n=c.onload=c.onerror=c.onabort=c.ontimeout=c.onreadystatechange=null,v==="abort"?c.abort():v==="error"?typeof c.status!="number"?l(0,"error"):l(c.status,c.statusText):l(Ws[c.status]||c.status,c.statusText,(c.responseType||"text")!=="text"||typeof c.responseText!="string"?{binary:c.response}:{text:c.responseText},c.getAllResponseHeaders()))}},c.onload=t(),n=c.onerror=c.ontimeout=t("error"),c.onabort!==void 0?c.onabort=n:c.onreadystatechange=function(){c.readyState===4&&s.setTimeout(function(){t&&n()})},t=t("abort");try{c.send(e.hasContent&&e.data||null)}catch(v){if(t)throw v}},abort:function(){t&&t()}}}),i.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return i.globalEval(e),e}}}),i.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),i.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(a,l){t=i("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(u){t.remove(),n=null,u&&l(u.type==="error"?404:200,u.type)}),ne.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Zo=[],Vi=/(=)\?(?=&|$)|\?\?/;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zo.pop()||i.expando+"_"+gi.guid++;return this[e]=!0,e}}),i.ajaxPrefilter("json jsonp",function(e,t,n){var a,l,u,c=e.jsonp!==!1&&(Vi.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Vi.test(e.data)&&"data");if(c||e.dataTypes[0]==="jsonp")return a=e.jsonpCallback=Y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,c?e[c]=e[c].replace(Vi,"$1"+a):e.jsonp!==!1&&(e.url+=(dn.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return u||i.error(a+" was not called"),u[0]},e.dataTypes[0]="json",l=s[a],s[a]=function(){u=arguments},n.always(function(){l===void 0?i(s).removeProp(a):s[a]=l,e[a]&&(e.jsonpCallback=t.jsonpCallback,Zo.push(a)),u&&Y(l)&&l(u[0]),u=l=void 0}),"script"}),W.createHTMLDocument=function(){var e=ne.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",e.childNodes.length===2}(),i.parseHTML=function(e,t,n){if(typeof e!="string")return[];typeof t=="boolean"&&(n=t,t=!1);var a,l,u;return t||(W.createHTMLDocument?(t=ne.implementation.createHTMLDocument(""),a=t.createElement("base"),a.href=ne.location.href,t.head.appendChild(a)):t=ne),l=Ge.exec(e),u=!n&&[],l?[t.createElement(l[1])]:(l=nn([e],t,u),u&&u.length&&i(u).remove(),i.merge([],l.childNodes))},i.fn.load=function(e,t,n){var a,l,u,c=this,v=e.indexOf(" ");return v>-1&&(a=Ne(e.slice(v)),e=e.slice(0,v)),Y(t)?(n=t,t=void 0):t&&typeof t=="object"&&(l="POST"),c.length>0&&i.ajax({url:e,type:l||"GET",dataType:"html",data:t}).done(function(g){u=arguments,c.html(a?i("<div>").append(i.parseHTML(g)).find(a):g)}).always(n&&function(g,T){c.each(function(){n.apply(this,u||[g.responseText,T,g])})}),this},i.expr.pseudos.animated=function(e){return i.grep(i.timers,function(t){return e===t.elem}).length},i.offset={setOffset:function(e,t,n){var a,l,u,c,v,g,T,I=i.css(e,"position"),O=i(e),k={};I==="static"&&(e.style.position="relative"),v=O.offset(),u=i.css(e,"top"),g=i.css(e,"left"),T=(I==="absolute"||I==="fixed")&&(u+g).indexOf("auto")>-1,T?(a=O.position(),c=a.top,l=a.left):(c=parseFloat(u)||0,l=parseFloat(g)||0),Y(t)&&(t=t.call(e,n,i.extend({},v))),t.top!=null&&(k.top=t.top-v.top+c),t.left!=null&&(k.left=t.left-v.left+l),"using"in t?t.using.call(e,k):O.css(k)}},i.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(l){i.offset.setOffset(this,e,l)});var t,n,a=this[0];if(!!a)return a.getClientRects().length?(t=a.getBoundingClientRect(),n=a.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var e,t,n,a=this[0],l={top:0,left:0};if(i.css(a,"position")==="fixed")t=a.getBoundingClientRect();else{for(t=this.offset(),n=a.ownerDocument,e=a.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&i.css(e,"position")==="static";)e=e.parentNode;e&&e!==a&&e.nodeType===1&&(l=i(e).offset(),l.top+=i.css(e,"borderTopWidth",!0),l.left+=i.css(e,"borderLeftWidth",!0))}return{top:t.top-l.top-i.css(a,"marginTop",!0),left:t.left-l.left-i.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&i.css(e,"position")==="static";)e=e.offsetParent;return e||St})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=t==="pageYOffset";i.fn[e]=function(a){return st(this,function(l,u,c){var v;if(Ee(l)?v=l:l.nodeType===9&&(v=l.defaultView),c===void 0)return v?v[t]:l[u];v?v.scrollTo(n?v.pageXOffset:c,n?c:v.pageYOffset):l[u]=c},e,a,arguments.length)}}),i.each(["top","left"],function(e,t){i.cssHooks[t]=Ze(W.pixelPosition,function(n,a){if(a)return a=Ce(n,t),un.test(a)?i(n).position()[t]+"px":a})}),i.each({Height:"height",Width:"width"},function(e,t){i.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,a){i.fn[a]=function(l,u){var c=arguments.length&&(n||typeof l!="boolean"),v=n||(l===!0||u===!0?"margin":"border");return st(this,function(g,T,I){var O;return Ee(g)?a.indexOf("outer")===0?g["inner"+e]:g.document.documentElement["client"+e]:g.nodeType===9?(O=g.documentElement,Math.max(g.body["scroll"+e],O["scroll"+e],g.body["offset"+e],O["offset"+e],O["client"+e])):I===void 0?i.css(g,T,v):i.style(g,T,I,v)},t,c?l:void 0,c)}})}),i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){i.fn[t]=function(n){return this.on(t,n)}}),i.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,a){return this.on(t,e,n,a)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){i.fn[t]=function(n,a){return arguments.length>0?this.on(t,null,n,a):this.trigger(t)}});var Us=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;i.proxy=function(e,t){var n,a,l;if(typeof t=="string"&&(n=e[t],t=e,e=n),!!Y(e))return a=p.call(arguments,2),l=function(){return e.apply(t||this,a.concat(p.call(arguments)))},l.guid=e.guid=e.guid||i.guid++,l},i.holdReady=function(e){e?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=ee,i.isFunction=Y,i.isWindow=Ee,i.camelCase=ut,i.type=De,i.now=Date.now,i.isNumeric=function(e){var t=i.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},i.trim=function(e){return e==null?"":(e+"").replace(Us,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return i});var Hs=s.jQuery,js=s.$;return i.noConflict=function(e){return s.$===i&&(s.$=js),e&&s.jQuery===i&&(s.jQuery=Hs),i},typeof r=="undefined"&&(s.jQuery=s.$=i),i})});var es=eo((sc,Ja)=>{"use strict";var{entries:Ua,setPrototypeOf:Ha,isFrozen:sl,getPrototypeOf:ll,getOwnPropertyDescriptor:ul}=Object,{freeze:Rt,seal:Xt,create:ja}=Object,{apply:Co,construct:Ao}=typeof Reflect!="undefined"&&Reflect;Rt||(Rt=function(r){return r});Xt||(Xt=function(r){return r});Co||(Co=function(r,o,f){return r.apply(o,f)});Ao||(Ao=function(r,o){return new r(...o)});var Di=Pt(Array.prototype.forEach),fl=Pt(Array.prototype.lastIndexOf),Ba=Pt(Array.prototype.pop),Jn=Pt(Array.prototype.push),cl=Pt(Array.prototype.splice),Ri=Pt(String.prototype.toLowerCase),ko=Pt(String.prototype.toString),$a=Pt(String.prototype.match),ei=Pt(String.prototype.replace),dl=Pt(String.prototype.indexOf),pl=Pt(String.prototype.trim),lr=Pt(Object.prototype.hasOwnProperty),Lt=Pt(RegExp.prototype.test),ti=hl(TypeError);function Pt(s){return function(r){for(var o=arguments.length,f=new Array(o>1?o-1:0),p=1;p<o;p++)f[p-1]=arguments[p];return Co(s,r,f)}}function hl(s){return function(){for(var r=arguments.length,o=new Array(r),f=0;f<r;f++)o[f]=arguments[f];return Ao(s,o)}}function we(s,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ri;Ha&&Ha(s,null);let f=r.length;for(;f--;){let p=r[f];if(typeof p=="string"){let _=o(p);_!==p&&(sl(r)||(r[f]=_),p=_)}s[p]=!0}return s}function ml(s){for(let r=0;r<s.length;r++)lr(s,r)||(s[r]=null);return s}function yn(s){let r=ja(null);for(let[o,f]of Ua(s))lr(s,o)&&(Array.isArray(f)?r[o]=ml(f):f&&typeof f=="object"&&f.constructor===Object?r[o]=yn(f):r[o]=f);return r}function ri(s,r){for(;s!==null;){let f=ul(s,r);if(f){if(f.get)return Pt(f.get);if(typeof f.value=="function")return Pt(f.value)}s=ll(s)}function o(){return null}return o}var Ga=Rt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Do=Rt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ro=Rt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),gl=Rt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Lo=Rt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),vl=Rt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),za=Rt(["#text"]),Va=Rt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Po=Rt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),qa=Rt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Li=Rt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),yl=Xt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),bl=Xt(/<%[\w\W]*|[\w\W]*%>/gm),wl=Xt(/\$\{[\w\W]*/gm),_l=Xt(/^data-[\-\w.\u00B7-\uFFFF]+$/),xl=Xt(/^aria-[\-\w]+$/),Ya=Xt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),El=Xt(/^(?:\w+script|data):/i),Tl=Xt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Xa=Xt(/^html$/i),Sl=Xt(/^[a-z][.\w]*(-[.\w]+)+$/i),Ka=Object.freeze({__proto__:null,ARIA_ATTR:xl,ATTR_WHITESPACE:Tl,CUSTOM_ELEMENT:Sl,DATA_ATTR:_l,DOCTYPE_NAME:Xa,ERB_EXPR:bl,IS_ALLOWED_URI:Ya,IS_SCRIPT_OR_DATA:El,MUSTACHE_EXPR:yl,TMPLIT_EXPR:wl}),ni={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Cl=function(){return typeof window=="undefined"?null:window},Al=function(r,o){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let f=null,p="data-tt-policy-suffix";o&&o.hasAttribute(p)&&(f=o.getAttribute(p));let _="dompurify"+(f?"#"+f:"");try{return r.createPolicy(_,{createHTML(C){return C},createScriptURL(C){return C}})}catch(C){return console.warn("TrustedTypes policy "+_+" could not be created."),null}},Qa=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Za(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cl(),r=ie=>Za(ie);if(r.version="3.2.4",r.removed=[],!s||!s.document||s.document.nodeType!==ni.document||!s.Element)return r.isSupported=!1,r;let{document:o}=s,f=o,p=f.currentScript,{DocumentFragment:_,HTMLTemplateElement:C,Node:P,Element:L,NodeFilter:q,NamedNodeMap:ae=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:Fe,DOMParser:z,trustedTypes:W}=s,Y=L.prototype,Ee=ri(Y,"cloneNode"),ne=ri(Y,"remove"),We=ri(Y,"nextSibling"),at=ri(Y,"childNodes"),De=ri(Y,"parentNode");if(typeof C=="function"){let ie=o.createElement("template");ie.content&&ie.content.ownerDocument&&(o=ie.content.ownerDocument)}let Re,rt="",{implementation:i,createNodeIterator:me,createDocumentFragment:ee,getElementsByTagName:Le}=o,{importNode:Qe}=f,Pe=Qa();r.isSupported=typeof Ua=="function"&&typeof De=="function"&&i&&i.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:ce,ERB_EXPR:Ye,TMPLIT_EXPR:Tt,DATA_ATTR:xr,ARIA_ATTR:ht,IS_SCRIPT_OR_DATA:Er,ATTR_WHITESPACE:mt,CUSTOM_ELEMENT:Qr}=Ka,{IS_ALLOWED_URI:Zr}=Ka,Ge=null,gt=we({},[...Ga,...Do,...Ro,...Lo,...za]),ze=null,En=we({},[...Va,...Po,...qa,...Li]),He=Object.seal(ja(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Tr=null,Jr=null,en=!0,vt=!0,Tn=!1,Qt=!0,Wt=!1,Nr=!0,Zt=!1,Sr=!1,lt=!1,st=!1,Cr=!1,Jt=!1,Wr=!0,ut=!1,er="user-content-",$t=!0,J=!1,Be={},tr=null,tn=we({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),rn=null,Ur=we({},["audio","video","img","source","image","track"]),Ar=null,rr=we({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ft="http://www.w3.org/1998/Math/MathML",St="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml",Gt=nt,cr=!1,Hr=null,jr=we({},[ft,St,nt],ko),kr=we({},["mi","mo","mn","ms","mtext"]),Ut=we({},["annotation-xml"]),yt=we({},["title","style","font","a","script"]),dr=null,Sn=["application/xhtml+xml","text/html"],ct="text/html",xe=null,zt=null,On=o.createElement("form"),nn=function(w){return w instanceof RegExp||w instanceof Function},Br=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(zt&&zt===w)){if((!w||typeof w!="object")&&(w={}),w=yn(w),dr=Sn.indexOf(w.PARSER_MEDIA_TYPE)===-1?ct:w.PARSER_MEDIA_TYPE,xe=dr==="application/xhtml+xml"?ko:Ri,Ge=lr(w,"ALLOWED_TAGS")?we({},w.ALLOWED_TAGS,xe):gt,ze=lr(w,"ALLOWED_ATTR")?we({},w.ALLOWED_ATTR,xe):En,Hr=lr(w,"ALLOWED_NAMESPACES")?we({},w.ALLOWED_NAMESPACES,ko):jr,Ar=lr(w,"ADD_URI_SAFE_ATTR")?we(yn(rr),w.ADD_URI_SAFE_ATTR,xe):rr,rn=lr(w,"ADD_DATA_URI_TAGS")?we(yn(Ur),w.ADD_DATA_URI_TAGS,xe):Ur,tr=lr(w,"FORBID_CONTENTS")?we({},w.FORBID_CONTENTS,xe):tn,Tr=lr(w,"FORBID_TAGS")?we({},w.FORBID_TAGS,xe):{},Jr=lr(w,"FORBID_ATTR")?we({},w.FORBID_ATTR,xe):{},Be=lr(w,"USE_PROFILES")?w.USE_PROFILES:!1,en=w.ALLOW_ARIA_ATTR!==!1,vt=w.ALLOW_DATA_ATTR!==!1,Tn=w.ALLOW_UNKNOWN_PROTOCOLS||!1,Qt=w.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Wt=w.SAFE_FOR_TEMPLATES||!1,Nr=w.SAFE_FOR_XML!==!1,Zt=w.WHOLE_DOCUMENT||!1,st=w.RETURN_DOM||!1,Cr=w.RETURN_DOM_FRAGMENT||!1,Jt=w.RETURN_TRUSTED_TYPE||!1,lt=w.FORCE_BODY||!1,Wr=w.SANITIZE_DOM!==!1,ut=w.SANITIZE_NAMED_PROPS||!1,$t=w.KEEP_CONTENT!==!1,J=w.IN_PLACE||!1,Zr=w.ALLOWED_URI_REGEXP||Ya,Gt=w.NAMESPACE||nt,kr=w.MATHML_TEXT_INTEGRATION_POINTS||kr,Ut=w.HTML_INTEGRATION_POINTS||Ut,He=w.CUSTOM_ELEMENT_HANDLING||{},w.CUSTOM_ELEMENT_HANDLING&&nn(w.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(He.tagNameCheck=w.CUSTOM_ELEMENT_HANDLING.tagNameCheck),w.CUSTOM_ELEMENT_HANDLING&&nn(w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(He.attributeNameCheck=w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),w.CUSTOM_ELEMENT_HANDLING&&typeof w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(He.allowCustomizedBuiltInElements=w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Wt&&(vt=!1),Cr&&(st=!0),Be&&(Ge=we({},za),ze=[],Be.html===!0&&(we(Ge,Ga),we(ze,Va)),Be.svg===!0&&(we(Ge,Do),we(ze,Po),we(ze,Li)),Be.svgFilters===!0&&(we(Ge,Ro),we(ze,Po),we(ze,Li)),Be.mathMl===!0&&(we(Ge,Lo),we(ze,qa),we(ze,Li))),w.ADD_TAGS&&(Ge===gt&&(Ge=yn(Ge)),we(Ge,w.ADD_TAGS,xe)),w.ADD_ATTR&&(ze===En&&(ze=yn(ze)),we(ze,w.ADD_ATTR,xe)),w.ADD_URI_SAFE_ATTR&&we(Ar,w.ADD_URI_SAFE_ATTR,xe),w.FORBID_CONTENTS&&(tr===tn&&(tr=yn(tr)),we(tr,w.FORBID_CONTENTS,xe)),$t&&(Ge["#text"]=!0),Zt&&we(Ge,["html","head","body"]),Ge.table&&(we(Ge,["tbody"]),delete Tr.tbody),w.TRUSTED_TYPES_POLICY){if(typeof w.TRUSTED_TYPES_POLICY.createHTML!="function")throw ti('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof w.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ti('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Re=w.TRUSTED_TYPES_POLICY,rt=Re.createHTML("")}else Re===void 0&&(Re=Al(W,p)),Re!==null&&typeof rt=="string"&&(rt=Re.createHTML(""));Rt&&Rt(w),zt=w}},nr=we({},[...Do,...Ro,...gl]),ir=we({},[...Lo,...vl]),on=function(w){let j=De(w);(!j||!j.tagName)&&(j={namespaceURI:Gt,tagName:"template"});let te=Ri(w.tagName),Ce=Ri(j.tagName);return Hr[w.namespaceURI]?w.namespaceURI===St?j.namespaceURI===nt?te==="svg":j.namespaceURI===ft?te==="svg"&&(Ce==="annotation-xml"||kr[Ce]):Boolean(nr[te]):w.namespaceURI===ft?j.namespaceURI===nt?te==="math":j.namespaceURI===St?te==="math"&&Ut[Ce]:Boolean(ir[te]):w.namespaceURI===nt?j.namespaceURI===St&&!Ut[Ce]||j.namespaceURI===ft&&!kr[Ce]?!1:!ir[te]&&(yt[te]||!nr[te]):!!(dr==="application/xhtml+xml"&&Hr[w.namespaceURI]):!1},dt=function(w){Jn(r.removed,{element:w});try{De(w).removeChild(w)}catch(j){ne(w)}},$r=function(w,j){try{Jn(r.removed,{attribute:j.getAttributeNode(w),from:j})}catch(te){Jn(r.removed,{attribute:null,from:j})}if(j.removeAttribute(w),w==="is")if(st||Cr)try{dt(j)}catch(te){}else try{j.setAttribute(w,"")}catch(te){}},an=function(w){let j=null,te=null;if(lt)w="<remove></remove>"+w;else{let Ve=$a(w,/^[\r\n\t ]+/);te=Ve&&Ve[0]}dr==="application/xhtml+xml"&&Gt===nt&&(w='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+w+"</body></html>");let Ce=Re?Re.createHTML(w):w;if(Gt===nt)try{j=new z().parseFromString(Ce,dr)}catch(Ve){}if(!j||!j.documentElement){j=i.createDocument(Gt,"template",null);try{j.documentElement.innerHTML=cr?rt:Ce}catch(Ve){}}let Ze=j.body||j.documentElement;return w&&te&&Ze.insertBefore(o.createTextNode(te),Ze.childNodes[0]||null),Gt===nt?Le.call(j,Zt?"html":"body")[0]:Zt?j.documentElement:Ze},Cn=function(w){return me.call(w.ownerDocument||w,w,q.SHOW_ELEMENT|q.SHOW_COMMENT|q.SHOW_TEXT|q.SHOW_PROCESSING_INSTRUCTION|q.SHOW_CDATA_SECTION,null)},Gr=function(w){return w instanceof Fe&&(typeof w.nodeName!="string"||typeof w.textContent!="string"||typeof w.removeChild!="function"||!(w.attributes instanceof ae)||typeof w.removeAttribute!="function"||typeof w.setAttribute!="function"||typeof w.namespaceURI!="string"||typeof w.insertBefore!="function"||typeof w.hasChildNodes!="function")},An=function(w){return typeof P=="function"&&w instanceof P};function Ht(ie,w,j){Di(ie,te=>{te.call(r,w,j,zt)})}let sn=function(w){let j=null;if(Ht(Pe.beforeSanitizeElements,w,null),Gr(w))return dt(w),!0;let te=xe(w.nodeName);if(Ht(Pe.uponSanitizeElement,w,{tagName:te,allowedTags:Ge}),w.hasChildNodes()&&!An(w.firstElementChild)&&Lt(/<[/\w]/g,w.innerHTML)&&Lt(/<[/\w]/g,w.textContent)||w.nodeType===ni.progressingInstruction||Nr&&w.nodeType===ni.comment&&Lt(/<[/\w]/g,w.data))return dt(w),!0;if(!Ge[te]||Tr[te]){if(!Tr[te]&&or(te)&&(He.tagNameCheck instanceof RegExp&&Lt(He.tagNameCheck,te)||He.tagNameCheck instanceof Function&&He.tagNameCheck(te)))return!1;if($t&&!tr[te]){let Ce=De(w)||w.parentNode,Ze=at(w)||w.childNodes;if(Ze&&Ce){let Ve=Ze.length;for(let qe=Ve-1;qe>=0;--qe){let bt=Ee(Ze[qe],!0);bt.__removalCount=(w.__removalCount||0)+1,Ce.insertBefore(bt,We(w))}}}return dt(w),!0}return w instanceof L&&!on(w)||(te==="noscript"||te==="noembed"||te==="noframes")&&Lt(/<\/no(script|embed|frames)/i,w.innerHTML)?(dt(w),!0):(Wt&&w.nodeType===ni.text&&(j=w.textContent,Di([ce,Ye,Tt],Ce=>{j=ei(j,Ce," ")}),w.textContent!==j&&(Jn(r.removed,{element:w.cloneNode()}),w.textContent=j)),Ht(Pe.afterSanitizeElements,w,null),!1)},kn=function(w,j,te){if(Wr&&(j==="id"||j==="name")&&(te in o||te in On))return!1;if(!(vt&&!Jr[j]&&Lt(xr,j))){if(!(en&&Lt(ht,j))){if(!ze[j]||Jr[j]){if(!(or(w)&&(He.tagNameCheck instanceof RegExp&&Lt(He.tagNameCheck,w)||He.tagNameCheck instanceof Function&&He.tagNameCheck(w))&&(He.attributeNameCheck instanceof RegExp&&Lt(He.attributeNameCheck,j)||He.attributeNameCheck instanceof Function&&He.attributeNameCheck(j))||j==="is"&&He.allowCustomizedBuiltInElements&&(He.tagNameCheck instanceof RegExp&&Lt(He.tagNameCheck,te)||He.tagNameCheck instanceof Function&&He.tagNameCheck(te))))return!1}else if(!Ar[j]){if(!Lt(Zr,ei(te,mt,""))){if(!((j==="src"||j==="xlink:href"||j==="href")&&w!=="script"&&dl(te,"data:")===0&&rn[w])){if(!(Tn&&!Lt(Er,ei(te,mt,"")))){if(te)return!1}}}}}}return!0},or=function(w){return w!=="annotation-xml"&&$a(w,Qr)},ln=function(w){Ht(Pe.beforeSanitizeAttributes,w,null);let{attributes:j}=w;if(!j||Gr(w))return;let te={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ze,forceKeepAttr:void 0},Ce=j.length;for(;Ce--;){let Ze=j[Ce],{name:Ve,namespaceURI:qe,value:bt}=Ze,Mt=xe(Ve),Je=Ve==="value"?bt:pl(bt);if(te.attrName=Mt,te.attrValue=Je,te.keepAttr=!0,te.forceKeepAttr=void 0,Ht(Pe.uponSanitizeAttribute,w,te),Je=te.attrValue,ut&&(Mt==="id"||Mt==="name")&&($r(Ve,w),Je=er+Je),Nr&&Lt(/((--!?|])>)|<\/(style|title)/i,Je)){$r(Ve,w);continue}if(te.forceKeepAttr||($r(Ve,w),!te.keepAttr))continue;if(!Qt&&Lt(/\/>/i,Je)){$r(Ve,w);continue}Wt&&Di([ce,Ye,Tt],zr=>{Je=ei(Je,zr," ")});let Dr=xe(w.nodeName);if(!!kn(Dr,Mt,Je)){if(Re&&typeof W=="object"&&typeof W.getAttributeType=="function"&&!qe)switch(W.getAttributeType(Dr,Mt)){case"TrustedHTML":{Je=Re.createHTML(Je);break}case"TrustedScriptURL":{Je=Re.createScriptURL(Je);break}}try{qe?w.setAttributeNS(qe,Ve,Je):w.setAttribute(Ve,Je),Gr(w)?dt(w):Ba(r.removed)}catch(zr){}}}Ht(Pe.afterSanitizeAttributes,w,null)},un=function ie(w){let j=null,te=Cn(w);for(Ht(Pe.beforeSanitizeShadowDOM,w,null);j=te.nextNode();)Ht(Pe.uponSanitizeShadowNode,j,null),sn(j),ln(j),j.content instanceof _&&ie(j.content);Ht(Pe.afterSanitizeShadowDOM,w,null)};return r.sanitize=function(ie){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=null,te=null,Ce=null,Ze=null;if(cr=!ie,cr&&(ie="<!-->"),typeof ie!="string"&&!An(ie))if(typeof ie.toString=="function"){if(ie=ie.toString(),typeof ie!="string")throw ti("dirty is not a string, aborting")}else throw ti("toString is not a function");if(!r.isSupported)return ie;if(Sr||Br(w),r.removed=[],typeof ie=="string"&&(J=!1),J){if(ie.nodeName){let bt=xe(ie.nodeName);if(!Ge[bt]||Tr[bt])throw ti("root node is forbidden and cannot be sanitized in-place")}}else if(ie instanceof P)j=an("<!---->"),te=j.ownerDocument.importNode(ie,!0),te.nodeType===ni.element&&te.nodeName==="BODY"||te.nodeName==="HTML"?j=te:j.appendChild(te);else{if(!st&&!Wt&&!Zt&&ie.indexOf("<")===-1)return Re&&Jt?Re.createHTML(ie):ie;if(j=an(ie),!j)return st?null:Jt?rt:""}j&&lt&&dt(j.firstChild);let Ve=Cn(J?ie:j);for(;Ce=Ve.nextNode();)sn(Ce),ln(Ce),Ce.content instanceof _&&un(Ce.content);if(J)return ie;if(st){if(Cr)for(Ze=ee.call(j.ownerDocument);j.firstChild;)Ze.appendChild(j.firstChild);else Ze=j;return(ze.shadowroot||ze.shadowrootmode)&&(Ze=Qe.call(f,Ze,!0)),Ze}let qe=Zt?j.outerHTML:j.innerHTML;return Zt&&Ge["!doctype"]&&j.ownerDocument&&j.ownerDocument.doctype&&j.ownerDocument.doctype.name&&Lt(Xa,j.ownerDocument.doctype.name)&&(qe="<!DOCTYPE "+j.ownerDocument.doctype.name+`>
`+qe),Wt&&Di([ce,Ye,Tt],bt=>{qe=ei(qe,bt," ")}),Re&&Jt?Re.createHTML(qe):qe},r.setConfig=function(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Br(ie),Sr=!0},r.clearConfig=function(){zt=null,Sr=!1},r.isValidAttribute=function(ie,w,j){zt||Br({});let te=xe(ie),Ce=xe(w);return kn(te,Ce,j)},r.addHook=function(ie,w){typeof w=="function"&&Jn(Pe[ie],w)},r.removeHook=function(ie,w){if(w!==void 0){let j=fl(Pe[ie],w);return j===-1?void 0:cl(Pe[ie],j,1)[0]}return Ba(Pe[ie])},r.removeHooks=function(ie){Pe[ie]=[]},r.removeAllHooks=function(){Pe=Qa()},r}var kl=Za();Ja.exports=kl});var Io=to(so());var Si=class{constructor(r,o){r=r||[],this.lines=r,this.text=o,this.offset2loc=new Map,this.line2offset=new Map;for(var f of r)f.offset>=0&&(this.offset2loc[f.offset]||(this.offset2loc[f.offset]=f),this.line2offset[f.line]||(this.line2offset[f.line]=f.offset))}findLineForOffset(r,o){if(this.offset2loc)for(var f=0;f<=o;f++){var p=this.offset2loc[r];if(p)return p;r--}return null}lineCount(){return this.lines.length}};function da(s){return"errors"in s}function pa(s){return"output"in s}var ha=to(so()),lo=class{constructor(r){this.preset_id=kt(r)}async getRemoteFile(r){return new Promise((o,f)=>Gn(r,o,mn(r)?"arraybuffer":"text"))}async getFileData(r){var o="presets/"+this.preset_id+"/"+r,f=await this.getRemoteFile(o);return f&&console.log("read",o,f.length,"bytes"),f}async setFileData(r,o){}};var Vn=class{constructor(r,o){this.basefs=r,this.overlayfs=o}async getFileData(r){var o=await this.overlayfs.getFileData(r);return o==null?this.basefs.getFileData(r):o}async setFileData(r,o){return await this.overlayfs.setFileData(r,o),this.basefs.setFileData(r,o)}},uo=class{constructor(r){this.store=r}async getFileData(r){return this.store.getItem(r)}async setFileData(r,o){return this.store.setItem(r,o)}};var fo=class{constructor(r,o,f,p){this.filedata={};this.pendingWorkerMessages=0;this.hasDoneInitialCompilation=!1;this.tools_preloaded={};this.isCompiling=!1;this.filename2path={};this.worker=r,this.platform_id=o,this.platform=f,this.filesystem=p,r.onmessage=_=>{this.receiveWorkerMessage(_.data)}}receiveWorkerMessage(r){var o=this.pendingWorkerMessages>1;o?(this.sendBuild(),this.pendingWorkerMessages=1):(this.callbackBuildStatus&&this.callbackBuildStatus(!1),this.isCompiling||(console.log(this.pendingWorkerMessages),console.trace()),this.isCompiling=!1,this.pendingWorkerMessages=0,this.hasDoneInitialCompilation=!0),r&&pa(r)?this.processBuildResult(r):da(r)&&this.processBuildListings(r),this.callbackBuildResult(r)}getToolForFilename(r){return this.remoteTool?"remote:"+this.remoteTool:this.platform.getToolForFilename(r)}preloadWorker(r){var o=this.getToolForFilename(r);o&&!this.tools_preloaded[o]&&(this.worker.postMessage({preload:o,platform:this.platform_id}),this.tools_preloaded[o]=!0)}pushAllFiles(r,o){r.push(o);var f=ro(this.mainPath);f.length>0&&f!="local"&&r.push(f+"/"+o)}parseIncludeDependencies(r){let o=[],f;if(this.platform_id.startsWith("verilog")){let p=/^\s*(`include|[.]include)\s+"(.+?)"/gmi;for(;f=p.exec(r);)this.pushAllFiles(o,f[2]);let _=/^\s*\$(include|\$dofile|\$write_image_in_table)\('(.+?)'/gmi;for(;f=_.exec(r);)this.pushAllFiles(o,f[2]);let C=/^\s*([.]arch)\s+(\w+)/gmi;for(;f=C.exec(r);)this.pushAllFiles(o,f[2]+".json");let P=/\$readmem[bh]\("(.+?)"/gmi;for(;f=P.exec(r);)this.pushAllFiles(o,f[1])}else{let p=/^\s*[.#%]?(include|incbin|embed)\s+"(.+?)"/gmi;for(;f=p.exec(r);)this.pushAllFiles(o,f[2]);let _=/^\s*([;']|[/][/])#(resource)\s+"(.+?)"/gm;for(;f=_.exec(r);)this.pushAllFiles(o,f[3]);let C=/^\s+(USE|ASM)\s+(\S+[.]\S+)/gm;for(;f=C.exec(r);)this.pushAllFiles(o,f[2]);let P=/^\s*(import|embed)\s*"(.+?)";/gmi;for(;f=P.exec(r);)f[1]=="import"?this.pushAllFiles(o,f[2]+".wiz"):this.pushAllFiles(o,f[2]);let L=/^\s*(import)\s*"(.+?)"/gmi;for(;f=L.exec(r);)this.pushAllFiles(o,f[2]);let q=/^[!]src\s+"(.+?)"/gmi;for(;f=q.exec(r);)this.pushAllFiles(o,f[1])}return o}parseLinkDependencies(r){let o=[],f;if(!this.platform_id.startsWith("verilog")){let p=/^\s*([;]|[/][/])#link\s+"(.+?)"/gm;for(;f=p.exec(r);)this.pushAllFiles(o,f[2])}return o}loadFileDependencies(r){let o=this.parseIncludeDependencies(r),f=this.parseLinkDependencies(r),p=o.concat(f);return this.loadFiles(p).then(_=>{if(_)for(let C of _)C.link=f.indexOf(C.path)>=0;return _})}okToSend(){let r=window.autoCompileEnabled===!0,o=!this.hasDoneInitialCompilation;return this.mainPath!=null&&(r||o)?this.pendingWorkerMessages++==0:!1}updateFileInStore(r,o){this.filesystem.setFileData(r,o)}buildWorkerMessage(r){this.preloadWorker(this.mainPath);var o={updates:[],buildsteps:[]},f=this.stripLocalPath(this.mainPath),p=this.getFile(this.mainPath),_=[];o.updates.push({path:f,data:p}),this.filename2path[f]=this.mainPath;let P=this.getToolForFilename(this.mainPath).startsWith("remote:");for(var L of r)(!L.link||P)&&(o.updates.push({path:L.filename,data:L.data}),_.push(L.filename)),this.filename2path[L.filename]=L.path;o.buildsteps.push({path:f,files:[f].concat(_),platform:this.platform_id,tool:this.getToolForFilename(this.mainPath),mainfile:!0});for(var L of r)L.data&&L.link&&(this.preloadWorker(L.filename),o.updates.push({path:L.filename,data:L.data}),o.buildsteps.push({path:L.filename,files:[L.filename].concat(_),platform:this.platform_id,tool:this.getToolForFilename(L.path)}));return this.dataItems&&(o.setitems=this.dataItems),o}async loadFiles(r){var o=[],f=(C,P)=>{o.push({path:C,filename:this.stripLocalPath(C),link:!0,data:P})};for(var p of r)if(p in this.filedata){var _=this.filedata[p];_&&f(p,_)}else{var _=await this.filesystem.getFileData(p);_?(this.filedata[p]=_,f(p,_)):this.filedata[p]=null}return o}getFile(r){return this.filedata[r]}iterateFiles(r){for(var o in this.filedata)r(o,this.getFile(o))}sendBuild(){if(!this.mainPath)throw Error("need to call setMainFile first");var r=this.getFile(this.mainPath);if(r instanceof Uint8Array){this.isCompiling=!0,this.receiveWorkerMessage({output:r,errors:[],listings:null,symbolmap:null,params:{}});return}var o=typeof r=="string"?r:"";return this.loadFileDependencies(o).then(f=>{f||(f=[]);var p=this.buildWorkerMessage(f);this.worker.postMessage(p),this.isCompiling=!0})}updateFile(r,o){this.filedata[r]!=o&&(this.updateFileInStore(r,o),this.filedata[r]=o,this.okToSend()&&(this.callbackBuildStatus&&this.callbackBuildStatus(!0),this.sendBuild()))}setMainFile(r){this.mainPath=r,this.callbackBuildStatus&&this.callbackBuildStatus(!0),this.sendBuild()}processBuildListings(r){if(r.listings){this.listings=r.listings;for(var o in this.listings){var f=this.listings[o];f.lines&&(f.sourcefile=new Si(f.lines,f.text)),f.asmlines&&(f.assemblyfile=new Si(f.asmlines,f.text))}}}processBuildResult(r){this.processBuildListings(r),this.processBuildSegments(r)}processBuildSegments(r){var o=this.platform.getMemoryMap&&this.platform.getMemoryMap().main||[];(o==null?void 0:o.length)&&o.forEach(f=>f.source="native"),r.segments&&(r.segments.forEach(f=>f.source="linker"),o=o.concat(r.segments||[])),o.sort((f,p)=>f.start-p.start),this.segments=o}getListings(){return this.listings}getListingForFile(r){var o=Et(this.stripLocalPath(r)),f=this.getListings();for(var p in f)if(p==r)return f[p];for(var p in f)if(Et(p)==o)return f[p]}stripLocalPath(r){if(this.mainPath){var o=ro(this.mainPath);o!=""&&r.startsWith(o+"/")&&(r=r.substring(o.length+1))}return r}updateDataItems(r){this.dataItems=r,this.okToSend()&&this.sendBuild()}};function qn(s){var r=ha.default.createInstance({name:"__"+s,version:2});return r}var co=ga(),po=class{constructor(r,o){this.id2window={};this.id2createfn={};this.id2showfn={};this.id2div={};this.containerdiv=r,this.project=o,this.undofiles=[]}isWindow(r){return this.id2createfn[r]!=null}setCreateFunc(r,o){this.id2createfn[r]=o}setShowFunc(r,o){this.id2showfn[r]=o}create(r){var o=this.id2window[r];o||(console.log("creating window",r),o=this.id2window[r]=this.id2createfn[r](r));var f=this.id2div[r];return f||(f=this.id2div[r]=o.createDiv(this.containerdiv),co(f).hide()),o}createOrShow(r,o){var f=this.create(r),p=this.id2div[r];return this.activewnd!=f?(this.activediv&&co(this.activediv).hide(),this.activewnd&&this.activewnd.setVisible&&this.activewnd.setVisible(!1),this.activediv=p,this.activewnd=f,co(p).show(),this.refresh(!0),this.refreshErrors(),f.setVisible&&f.setVisible(!0),this.id2showfn[r]&&this.id2showfn[r](r,f)):this.refresh(o),this.activeid=r,f}put(r,o){this.id2window[r]=o}refresh(r){this.activewnd&&this.activewnd.refresh&&this.activewnd.refresh(r)}tick(){this.activewnd&&this.activewnd.tick&&this.activewnd.tick()}setErrors(r){this.lasterrors=r,this.refreshErrors()}refreshErrors(){this.activewnd&&this.activewnd.markErrors&&(this.lasterrors&&this.lasterrors.length?this.activewnd.markErrors(this.lasterrors):this.activewnd.clearErrors())}getActive(){return this.activewnd}getActiveID(){return this.activeid}getCurrentText(){if(this.activewnd&&this.activewnd.getValue)return this.activewnd.getValue();bootbox.alert("Please switch to an editor window.")}resize(){this.activeid&&this.activewnd&&this.activewnd.recreateOnResize&&(this.activewnd=null,this.id2window[this.activeid]=null,this.id2div[this.activeid]=null,this.createOrShow(this.activeid))}updateFile(r,o){var f=this.id2window[r];f&&f.setText&&typeof o=="string"?(f.setText(o),this.undofiles.push(r)):this.project.updateFile(r,o)}undoStep(){var r=this.undofiles.pop(),o=this.id2window[r];o&&o.undoStep?o.undoStep():bootbox.alert("No more steps to undo.")}updateAllOpenWindows(r){for(var o in this.id2window){var f=this.id2window[o];f&&f.setText&&r.getItem(o).then(p=>{this.updateFile(o,p)})}}findWindowWithFilePrefix(r){r=At(Et(r));for(var o in this.id2createfn)if(!(o.toLowerCase().endsWith(".h")||o.toLowerCase().endsWith(".inc")||o.toLowerCase().endsWith(".bas"))&&At(Et(o))==r)return o;return null}};var Qs=`$NAME
=====

[Open this project in 8bitworkshop](http://8bitworkshop.com/redir.html?platform=$PLATFORM&githubURL=$GITHUBURL&file=$MAINFILE).
`;function In(){for(var s={},r=0;r<localStorage.length;r++){var o=localStorage.key(r);if(o.startsWith("__repo__")){var f=JSON.parse(localStorage.getItem(o)),p=o.substring("__repo__".length);s[p]=f}}return s}function Yn(s){var r=s.split("/",8);return r.length<5||r[0]!="https:"||r[2]!="github.com"||r[5]&&r[5]!="tree"?null:{user:r[3],repo:r[4],repopath:r[3]+"/"+r[4],branch:r[6],subtreepath:r[7]}}var ho=class{constructor(r,o,f,p){this.githubCons=r,this.githubToken=o,this.store=f,this.project=p,this.recreateGithub()}recreateGithub(){this.github=new this.githubCons({token:this.githubToken})}login(){if(this.githubToken&&this.githubToken.length)return new Promise((o,f)=>{o()});var r=new firebase.auth.GithubAuthProvider;return r.addScope("repo"),firebase.auth().signInWithPopup(r).then(o=>{this.githubToken=o.credential.accessToken;var f=o.user;this.recreateGithub(),document.cookie="__github_key="+this.githubToken+";path=/;max-age=31536000",console.log("Stored GitHub OAUTH key")})}logout(){return this.githubToken&&this.githubToken.length?firebase.auth().signOut().then(()=>{document.cookie="__github_key=;path=/;max-age=0",this.githubToken=null,this.recreateGithub()}):new Promise((r,o)=>{r()})}isFileIgnored(r){return r=r.toUpperCase(),!!(r.startsWith("LICENSE")||r.startsWith("README")||r.startsWith("."))}async getGithubSession(r){var o=Yn(r);if(!o)throw new Error("Please enter a valid GitHub URL.");var f=In()[o.repopath],p=o.branch||f&&f.branch,_=this.github.repos(o.user,o.repo);try{p=(await _.fetch()).defaultBranch||"master"}catch(P){console.log("could not fetch default branch: "+P),p="main"}console.log("branch =",p);var C={url:r,user:o.user,reponame:o.repo,repopath:o.repopath,branch:p,subtreepath:o.subtreepath,prefix:"",repo:_,platform_id:this.project?this.project.platform_id:f?f.platform_id:null};return C}getGithubHEADTree(r){var o;return this.getGithubSession(r).then(f=>(o=f,o.repo.git.refs.heads(o.branch).fetch())).then(f=>(o.head=f,o.sha=f.object.sha,o.repo.git.trees(o.sha).fetch())).then(f=>{if(o.subtreepath){for(let p of f.tree)if(p.type=="tree"&&p.path==o.subtreepath&&p.sha)return o.repo.git.trees(p.sha).fetch();throw Error("Cannot find subtree '"+o.subtreepath+"' in tree "+f.sha)}return f}).then(f=>(o.tree=f,o))}bind(r,o){var f="__repo__"+r.repopath;if(o){var p={url:r.url,branch:r.branch,platform_id:r.platform_id,mainPath:r.mainPath,sha:r.sha};console.log("storing",p),localStorage.setItem(f,JSON.stringify(p))}else localStorage.removeItem(f)}import(r){var o;return this.getGithubSession(r).then(f=>(o=f,o.repo.contents("README.md").read())).catch(f=>(console.log(f),console.log("no README.md found"),o.repo.fetch().then(p=>""))).then(f=>{var p;if(p=/8bitworkshop.com[^)]+file=([^)&]+)/.exec(f),p&&p[1]&&(console.log("main path: '"+p[1]+"'"),o.mainPath=p[1]),p=/8bitworkshop.com[^)]+platform=([A-Za-z0-9._\-]+)/.exec(f),p){if(console.log("platform id: '"+p[1]+"'"),o.platform_id&&!o.platform_id.startsWith(p[1]))throw Error("Platform mismatch: Repository is "+p[1]+", you have "+o.platform_id+" selected.");o.platform_id=p[1]}return this.bind(o,!0),o})}pull(r,o){var f;return this.getGithubHEADTree(r).then(p=>{f=p;let _=[];return f.paths=[],f.tree.tree.forEach(C=>{if(console.log(C.path,C.type,C.size),f.paths.push(C.path),C.type=="blob"&&!this.isFileIgnored(C.path)){var P=f.repo.git.blobs(C.sha).fetch().then(L=>{var q=f.prefix+C.path,ae=C.size,Fe=L.encoding,z=L.content;if(L.encoding=="base64"){var W=Ei(atob(z)),Y=mn(C.path,W);z=Y?W:$n(W)}return L.size!=z.length&&(z=z.slice(0,L.size)),(o||this.store).setItem(q,z)});_.push(P)}else console.log("ignoring "+C.path)}),Promise.all(_)}).then(p=>f)}importAndPull(r){return this.import(r).then(o=>this.pull(r))}publish(r,o,f,p){var _,C=this.project.platform_id,P=this.project.stripLocalPath(this.project.mainPath);return this.github.user.repos.create({name:r,description:o,private:p,auto_init:!1,license_template:f}).then(L=>{_=L;var q=Qs;q=q.replace(/\$NAME/g,encodeURIComponent(r)),q=q.replace(/\$PLATFORM/g,encodeURIComponent(C)),q=q.replace(/\$GITHUBURL/g,encodeURIComponent(_.htmlUrl)),q=q.replace(/\$MAINFILE/g,encodeURIComponent(P));var ae={message:"8bitworkshop: updated metadata in README.md",content:btoa(q)};return _.contents("README.md").add(ae)}).then(()=>this.getGithubSession(_.htmlUrl))}commit(r,o,f){var p;return o||(o="updated from 8bitworkshop.com"),this.getGithubHEADTree(r).then(_=>{if(p=_,p.subtreepath)throw Error("Sorry, right now you can only commit files to the root directory of a repository.");return Promise.all(f.map(C=>typeof C.data=="string"?p.repo.git.blobs.create({content:C.data,encoding:"utf-8"}):p.repo.git.blobs.create({content:btoa(Ti(C.data)),encoding:"base64"})))}).then(_=>p.repo.git.trees.create({tree:f.map((C,P)=>({path:C.path,mode:"100644",type:"blob",sha:_[P].sha})),base_tree:p.tree.sha})).then(_=>p.repo.git.commits.create({message:o,tree:_.sha,parents:[p.head.object.sha]})).then(_=>p.repo.commits(_.sha).fetch()).then(_=>(p.commit=_,p))}push(r){return r.head.update({sha:r.commit.sha}).then(o=>r)}deleteRepository(r){return this.getGithubSession(r).then(o=>o.repo.remove())}};var Xn=window.matchMedia&&window.matchMedia("only screen and (max-width: 760px)").matches;function va(s,r){var o=s.charCoords({line:r,ch:0},"local").top,f=s.getScrollerElement().offsetHeight/2;s.scrollTo(null,o-f-5)}function ya(s,r){var o=document.createElement("span");return o.setAttribute("class",r),o.appendChild(document.createTextNode(s)),o}var Ai=64,Zs=200,mo={default:{theme:"mbo"},"6502":{isAsm:!0},z80:{isAsm:!0},jsasm:{isAsm:!0},gas:{isAsm:!0},vasm:{isAsm:!0},nasm:{isAsm:!0},inform6:{theme:"cobalt"},markdown:{lineWrap:!0},fastbasic:{noGutters:!0},basic:{noLineNumbers:!0,noGutters:!0},qbasic:{noLineNumbers:!0,noGutters:!0},pascal:{theme:"mbo"},ecs:{theme:"mbo",isAsm:!0},c:{theme:"mbo"}},ba={input:null},Kn=class{constructor(r,o){this.updateTimer=null;this.dirtylisting=!0;this.errormsgs=[];this.errorwidgets=[];this.errormarks=[];this.refreshDelayMsec=300;this.path=r,this.mode=o}createDiv(r){var o=document.createElement("div");o.setAttribute("class","editor"),r.appendChild(o);var f=le.getFile(this.path),p=f&&this.mode=="verilog"&&/__asm\b([\s\S]+?)\b__endasm\b/.test(f);return this.newEditor(o,p),f&&(this.setText(f),this.editor.setSelection({line:0,ch:0},{line:0,ch:0},{scroll:!0})),this.setupEditor(),le.getToolForFilename(this.path).startsWith("remote:")&&(this.refreshDelayMsec=1e3),o}setVisible(r){r&&this.editor.focus()}newEditor(r,o){var f=mo[this.mode]||mo.default,p=o||f.isAsm,_=!!f.lineWrap,C=f.theme||mo.default.theme,P=!f.noLineNumbers&&!Xn;X.embed&&(P=!1,p=!1);var L=["CodeMirror-linenumbers","gutter-offset","gutter-info"];p&&(L=["CodeMirror-linenumbers","gutter-offset","gutter-bytes","gutter-clock","gutter-info"]),(f.noGutters||Xn)&&(L=["gutter-info"]),this.editor=CodeMirror(r,{theme:C,lineNumbers:P,matchBrackets:!0,tabSize:8,indentAuto:!0,lineWrapping:_,gutters:L})}editorChanged(){clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>{le.updateFile(this.path,this.editor.getValue())},this.refreshDelayMsec),this.markHighlight&&(this.markHighlight.clear(),this.markHighlight=null)}setupEditor(){this.editor.on("changes",(r,o)=>{this.editorChanged()}),this.editor.on("cursorActivity",r=>{this.inspectUnderCursor()}),this.editor.on("gutterClick",(r,o)=>{this.toggleBreakpoint(o)}),this.editor.setOption("mode",this.mode),this.editor.on("beforeChange",(r,o)=>{ba.input&&o.text&&(o.text=o.text.map(ba.input))})}inspectUnderCursor(){var r=this.editor.getCursor(!0),o=this.editor.getCursor(!1);if(r.line==o.line&&r.ch<o.ch&&o.ch-r.ch<80){var f=this.editor.getSelection();this.inspect(f)}else this.inspect(null)}inspect(r){var o;if(D.inspect&&(o=D.inspect(r)),this.inspectWidget&&(this.inspectWidget.clear(),this.inspectWidget=null),o){var f=ya(o,"tooltipinfoline"),p=this.editor.getCursor().line;this.inspectWidget=this.editor.addLineWidget(p,f,{above:!1})}}setText(r){var o,f,p=this.editor.getValue();p!=r&&(this.editor.setValue(r),p==""&&this.editor.clearHistory())}insertText(r){var o=this.editor.getCursor();this.editor.replaceRange(r,o,o)}highlightLines(r,o){var f="hilite-span",p={className:f,inclusiveLeft:!0};this.markHighlight=this.editor.markText({line:r,ch:0},{line:o,ch:0},p),this.editor.scrollIntoView({from:{line:r,ch:0},to:{line:o,ch:0}})}replaceSelection(r,o,f){this.editor.setSelection(this.editor.posFromIndex(r),this.editor.posFromIndex(o)),this.editor.replaceSelection(f)}getValue(){return this.editor.getValue()}getPath(){return this.path}addError(r){if(!r.path||this.path.endsWith(r.path)){var o=this.editor.lineCount(),f=r.line-1;if((isNaN(f)||f<0||f>=o)&&(f=0),this.addErrorMarker(f,r.msg),r.start!=null){var p={className:"mark-error",inclusiveLeft:!0},_={line:f,ch:r.end?r.start:r.start-1},C={line:f,ch:r.end?r.end:r.start},P=this.editor.markText(_,C,p);this.errormarks.push(P)}}}addErrorMarker(r,o){var f=document.createElement("div");f.setAttribute("class","tooltipbox tooltiperror"),f.appendChild(document.createTextNode("\u24CD")),this.editor.setGutterMarker(r,"gutter-info",f),this.errormsgs.push({line:r,msg:o}),$(f).mouseover(p=>{this.expandErrors()})}addErrorLine(r,o){var f=ya(o,"tooltiperrorline");this.errorwidgets.push(this.editor.addLineWidget(r,f))}expandErrors(){for(var r;r=this.errormsgs.shift();)this.addErrorLine(r.line,r.msg)}markErrors(r){this.clearErrors(),r=r.slice(0,Zs);for(var o of r)this.addError(o)}clearErrors(){for(this.dirtylisting=!0,this.editor.clearGutter("gutter-info"),this.errormsgs=[];this.errorwidgets.length;)this.errorwidgets.shift().clear();for(;this.errormarks.length;)this.errormarks.shift().clear()}getSourceFile(){return this.sourcefile}updateListing(){this.clearErrors(),this.editor.clearGutter("gutter-bytes"),this.editor.clearGutter("gutter-offset"),this.editor.clearGutter("gutter-clock");var r=this.sourcefile.lines||[];for(var o of r)if(o.offset>=0&&this.setGutter("gutter-offset",o.line-1,yr(o.offset&65535,4)),o.insns){var f=o.insns.length>9?"...":o.insns;if(this.setGutter("gutter-bytes",o.line-1,f),o.iscode){if(o.cycles)this.setGutter("gutter-clock",o.line-1,o.cycles+"");else if(D.getOpcodeMetadata){var p=parseInt(o.insns.split(" ")[0],16),_=D.getOpcodeMetadata(p,o.offset);if(_&&_.minCycles){var C=_.minCycles+"";this.setGutter("gutter-clock",o.line-1,C)}}}}}setGutter(r,o,f){var p=this.editor.lineInfo(o);if(!(p&&p.gutterMarkers&&p.gutterMarkers[r])){var _=document.createTextNode(f);this.editor.setGutterMarker(o,r,_)}}setGutterBytes(r,o){this.setGutter("gutter-bytes",r-1,o)}setTimingResult(r){if(this.editor.clearGutter("gutter-bytes"),this.sourcefile!=null)for(let _ of Object.keys(this.sourcefile.line2offset)){let C=this.sourcefile.line2offset[_],P=r.pc2clockrange[C];var o=P&&P.minclocks,f=P&&P.maxclocks;if(o>=0&&f>=0){var p;f==o?p=o+"":p=o+"-"+f,f==r.MAX_CLOCKS&&(p+="+"),this.setGutterBytes(parseInt(_),p)}}}setCurrentLine(r,o){var f=D.isBlocked&&D.isBlocked(),p=P=>{var L=document.createElement("div"),q=f?"currentpc-marker-blocked":"currentpc-marker";L.classList.add(q),L.appendChild(document.createTextNode("\u25B6")),this.editor.setGutterMarker(P.line-1,"gutter-info",L)};if(this.clearCurrentLine(o),r){p(r),o&&this.editor.setCursor({line:r.line-1,ch:r.start||0},{scroll:!0});var _=f?"currentpc-span-blocked":"currentpc-span",C={className:_,inclusiveLeft:!0};r.start||r.end?this.markCurrentPC=this.editor.markText({line:r.line-1,ch:r.start},{line:r.line-1,ch:r.end||r.start+1},C):this.markCurrentPC=this.editor.markText({line:r.line-1,ch:0},{line:r.line,ch:0},C),this.currentDebugLine=r}}clearCurrentLine(r){this.currentDebugLine&&(this.editor.clearGutter("gutter-info"),r&&this.editor.setSelection(this.editor.getCursor()),this.currentDebugLine=null),this.markCurrentPC&&(this.markCurrentPC.clear(),this.markCurrentPC=null)}getActiveLine(){if(this.sourcefile){var r=Ir&&Ir.c;if(!r&&D.getCPUState&&!D.isRunning()&&(r=D.getCPUState()),r){var o=r&&(r.EPC||r.PC),f=this.sourcefile.findLineForOffset(o,Ai);return f}}}refreshDebugState(r){this.clearCurrentLine(r);var o=this.getActiveLine();o&&this.setCurrentLine(o,r)}refreshListing(){var r=le.getListingForFile(this.path);r&&r.sourcefile&&r.sourcefile!==this.sourcefile&&(this.sourcefile=r.sourcefile,this.dirtylisting=!0),!(!this.sourcefile||!this.dirtylisting)&&(this.updateListing(),this.dirtylisting=!1)}refresh(r){this.refreshListing(),this.refreshDebugState(r)}tick(){this.refreshDebugState(!1)}getLine(r){return this.editor.getLine(r-1)}getCurrentLine(){return this.editor.getCursor().line+1}getCursorPC(){for(var r=this.getCurrentLine();this.sourcefile&&r>=0;){var o=this.sourcefile.line2offset[r];if(o>=0)return o;r--}return-1}undoStep(){this.editor.execCommand("undo")}toggleBreakpoint(r){if(this.sourcefile!=null){var o=this.sourcefile.line2offset[r+1];Qn(o)}}},go=1024,wa=class{getDisasmView(){return this.disasmview}createDiv(r){var o=document.createElement("div");return o.setAttribute("class","editor"),r.appendChild(o),this.newEditor(o),o}newEditor(r){this.disasmview=CodeMirror(r,{mode:"z80",theme:"cobalt",tabSize:8,readOnly:!0,styleActiveLine:!0})}refresh(r){let o=Ir||D.saveState(),f=o.c?o.c.PC:0,p=0,_=0,C=D.debugSymbols&&D.debugSymbols.addr2symbol||{},P=(ae,Fe)=>{let z="",W=0;for(;W<Fe;){let Y=ae+W|0,Ee=D.disassemble(Y,D.readAddress.bind(D)),ne="",We="";for(let Re=0;Re<Ee.nbytes;Re++)ne+=yr(D.readAddress(Y+Re));for(;ne.length<14;)ne+=" ";let at=Ee.line;if(C&&Ee.isaddr&&(at=at.replace(/([^#])[$]([0-9A-F]+)/,(Re,...rt)=>{let i=parseInt(rt[1],16),me=C[i];return me?rt[0]+me:(me=C[i-1],me?rt[0]+me+"+1":Re)})),C){let Re=C[Y];Re&&(We="; "+Re)}z+=yr(Y,4)+"	"+xi(ne,14)+"	"+xi(at,30)+We+`
`,Y==f&&(_=p),p++,W+=Ee.nbytes||1}return z};var L=f<0?f-go:Math.max(0,f-go);let q=P(L,f-L)+P(f,go);this.disasmview.setValue(q),r&&this.disasmview.setCursor(_,0),va(this.disasmview,_)}getCursorPC(){var r=this.disasmview.getCursor().line;if(r>=0){var o=this.disasmview.getLine(r).trim().split(/\s+/);if(o&&o.length>=1){var f=parseInt(o[0],16);if(f>=0)return f}}return-1}},vo=class extends wa{constructor(r){super();this.path=r}refreshListing(){var r=le.getListingForFile(this.path);this.assemblyfile=r&&(r.assemblyfile||r.sourcefile)}refresh(r){if(this.refreshListing(),!!this.assemblyfile){var o=this.assemblyfile.text,f=this.getDisasmView();if(f.setValue(o),!!D.saveState){var p=Ir||D.saveState(),_=p.c?p.c.EPC||p.c.PC:0;if(_>=0&&this.assemblyfile){var C=this.assemblyfile.findLineForOffset(_,Ai);C&&(r&&f.setCursor(C.line-1,0),va(f,C.line-1))}}}}};var yo=class{constructor(r,o){this.recreateOnResize=!0;this.path=r,this.data=o}createDiv(r){return this.vlist=new oa(r),this.vlist.create(r,this.data.length+15>>4,this.getMemoryLineAt.bind(this)),this.vlist.maindiv}getMemoryLineAt(r){for(var o=r*16,f=0,p=16,_=yr(o+f,4)+" ",C=0;C<f;C++)_+="   ";f>8&&(_+=" ");for(var C=f;C<p;C++){var P=this.data[o+C];C==8&&(_+=" "),_+=" "+(P>=0?yr(P,2):"  ")}return{text:_}}refresh(){this.vlist.refresh()}getPath(){return this.path}};function ke(s){s?(sr(0),$("#pleaseWaitModal").modal("show")):(sr(1),$("#pleaseWaitModal").modal("hide"))}function sr(s){$("#pleaseWaitProgressBar").css("width",s*100+"%").show()}function pe(s){ke(!1),bootbox.alert({title:'<span class="glyphicon glyphicon-alert" aria-hidden="true"></span> Alert',message:Pn.sanitize(s)})}function jt(s){ke(!1),bootbox.alert(Pn.sanitize(s))}function _a(s){throw pe(s),new Error(s)}function Js(){if(window.GA4_TRACKING_ID)return window.GA4_TRACKING_ID;if(typeof gtag!="undefined"&&window.dataLayer){let s=window.dataLayer;for(let r=0;r<s.length;r++)if(s[r][0]==="config"&&s[r][1])return s[r][1]}return null}function Dt(s,r,o,f){if(typeof gtag!="undefined"){let p={event_category:s,event_label:o};f!==void 0&&(p.value=f),gtag("event",r,p)}}function xa(s){if(typeof gtag!="undefined"){let r=Js();r?gtag("config",r,{page_path:s}):gtag("event","page_view",{page_path:s})}}var wo;async function vn(){if(!wo){await Yt("lib/octokat.js"),await Yt("https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"),await Yt("https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"),await Yt("config.js");var s=zn("__github_key");wo=new ho(Octokat,s,Fr(),wr()),console.log("loaded github service")}return wo}function Zn(){var s=($e||"").split("/");return s.length!=2?(pe("You are not in a GitHub repository. Choose one from the pulldown, or Import or Publish one."),null):"https://github.com/"+s[0]+"/"+s[1]}async function ki(s,r){var o,f=Yn(s);if(!f){pe("Could not parse Github URL.");return}var p=In()[f.repopath];if(!(p&&!confirm("You've already imported "+f.repopath+" -- do you want to replace all local files?"))){ke(!0);var _=qn(f.repopath);sr(.25);var C=await vn();return C.import(s).then(P=>(o=P,sr(.75),C.pull(s,_))).then(P=>{ke(!1),Dt("sync","import",s),Xr(r,{repo:f.repopath})}).catch(P=>{ke(!1),console.log(P),pe("Could not import "+s+"."+P)})}}async function Ea(s){var r=await vn();r.login().then(()=>{jt("You are signed in to Github.")}).catch(o=>{pe("Could not sign in."+o)})}async function Ta(s){var r=await vn();r.logout().then(()=>{jt("You are logged out of Github.")})}function Sa(s){var r=$("#importGithubModal"),o=$("#importGithubButton");r.modal("show"),o.off("click").on("click",()=>{var f=$("#importGithubURL").val()+"";r.modal("hide"),ki(f,!1)})}function Ca(s){if(!($e&&!confirm("This project ("+wr().mainPath+") is already bound to a Github repository. Do you want to re-publish to a new repository? (You can instead choose 'Push Changes' to update files in the existing repository.)"))){var r=$("#publishGithubModal"),o=$("#publishGithubButton");$("#githubRepoName").val(Et(At(wr().mainPath))),r.modal("show"),o.off("click").on("click",async()=>{var f=$("#githubRepoName").val()+"",p=$("#githubRepoDesc").val()+"",_=$("#githubRepoPrivate").val()=="private",C=$("#githubRepoLicense").val()+"",P;if(!f){pe("You did not enter a project name.");return}r.modal("hide"),ke(!0);var L=await vn();L.login().then(()=>(sr(.25),L.publish(f,p,C,_))).then(q=>(P=q,sr(.5),Da("initial import from 8bitworkshop.com"))).then(()=>{Dt("sync","publish",_?"":f),ki(P.url,!1)}).catch(q=>{ke(!1),console.log(q),pe("Could not publish GitHub repository: "+q)})})}}function Aa(s){var r=Zn();if(!!r){var o=$("#pushGithubModal"),f=$("#pushGithubButton");o.modal("show"),f.off("click").on("click",()=>{var p=$("#githubCommitMsg").val()+"";o.modal("hide"),Da(p)})}}function ka(s){var r=Zn();!r||bootbox.confirm("Pull from repository and replace all local files? Any changes you've made will be overwritten.",async o=>{if(o){ke(!0);var f=await vn();f.pull(r).then(p=>{ke(!1),ge.updateAllOpenWindows(Fr())})}})}function el(s){return new Promise((r,o)=>{var f=s.commit.files;if(console.log(f),f.length==0){ke(!1),jt("No files changed.");return}var p="";for(var _ of f)p+=Pn.sanitize(_.filename)+": "+_.status,(_.additions||_.deletions||_.changes)&&(p+=" ("+_.additions+" additions, "+_.deletions+" deletions, "+_.changes+" changes)"),p+="<br/>";bootbox.confirm(p,C=>{C?r(s):ke(!1)})})}async function Da(s){var r=Zn();if(!!r){var o=[];for(var f in wr().filedata){var p=wr().stripLocalPath(f),_=wr().filedata[f];p&&_&&o.push({path:p,data:_})}if(ot()instanceof Uint8Array){let P="bin/"+tt()+".rom";o.push({path:P,data:ot()})}ke(!0);var C=await vn();return C.login().then(()=>(sr(.5),C.commit(r,s,o))).then(P=>el(P)).then(P=>C.push(P)).then(P=>(ke(!1),jt("Pushed files to "+r),P)).catch(P=>{ke(!1),console.log(P),pe("Could not push GitHub repository: "+P)})}}function Ra(){var s=Zn();!s||bootbox.prompt("<p>Are you sure you want to delete this repository ("+Pn.sanitize(s)+") from browser storage?</p><p>All changes since last commit will be lost.</p><p>Type DELETE to proceed.<p>",r=>{r.trim().toUpperCase()=="DELETE"&&tl()})}async function tl(){var s=Zn();ke(!0);let r=await vn(),o=await r.getGithubSession(s);r.bind(o,!1),await Fr().keys().then(f=>Promise.all(f.map(p=>Fr().removeItem(p)))),ke(!1),Xr(!1,{repo:"/"})}var _o=class{constructor(r){this.options=r,this.sampleRate=44100,this.soundData=[],this.tapData=[67,54,52,45,84,65,80,69,45,82,65,87,1,0,0,0,0,0,0,0]}getWAVHeader(){let r=new Uint8Array(44),o=new DataView(r.buffer);return o.setUint32(0,1380533830,!1),o.setUint32(4,44+this.soundData.length,!0),o.setUint32(8,1463899717,!1),o.setUint32(12,1718449184,!1),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,1,!0),o.setUint32(24,this.sampleRate,!0),o.setUint32(28,this.sampleRate*2,!0),o.setUint16(32,1,!0),o.setUint16(34,8,!0),o.setUint32(36,1684108385,!1),o.setUint32(40,this.soundData.length,!0),r}addSilence(r){let o=Math.floor(this.sampleRate*r);for(let p=0;p<o;p++)this.soundData.push(0);let f=et.CLOCK_RATE*r;this.tapData.push(0),this.tapData.push(f&255),this.tapData.push(f>>8&255),this.tapData.push(f>>16&255)}addCycle(r){this.tapData.push(r);let o=Math.floor(this.sampleRate*et.TAP_LENGTH_IN_SECONDS*r);for(let f=0;f<o;f++){let p;this.options.sine_wave?p=-Math.sin(f/o*2*Math.PI):f<o/2?p=-1:p=1,this.options.invert_waveform&&(p=-p),this.soundData.push(Math.round(128+p*127))}}updateTAPHeader(){let r=this.tapData.length-20;this.tapData[16]=r&255,this.tapData[17]=r>>8&255,this.tapData[18]=r>>16&255,this.tapData[19]=r>>24&255}getTAPData(){return this.updateTAPHeader(),new Uint8Array(this.tapData)}getSoundData(){let r=this.getWAVHeader(),o=new Uint8Array(r.length+this.soundData.length);return o.set(r,0),o.set(new Uint8Array(this.soundData),r.length),o}},Ke=class{constructor(r,o){this.options=o,this.checksum=0,this.data=new Uint8Array(0),this.filenameData=this.makeFilename(r),this.startAddress=0,this.endAddress=0,this.fileType=Ke.FILE_TYPE_NONE,this.waveFile=null}makeFilename(r){let o=[],f=32;r=r.toUpperCase();for(let p=0;p<Ke.FILENAME_BUFFER_SIZE;p++)if(r.length<=p)o.push(f);else{let _=r.charCodeAt(p);o.push(_)}return o}setContent(r){this.data=r.data,this.startAddress=r.startAddress,this.endAddress=r.startAddress+r.data.length,this.fileType=r.type}generateSound(r){this.waveFile=r,this.addHeader(!1),this.addHeader(!0),r.addSilence(.1),this.addFile()}addTapCycle(r){this.waveFile.addCycle(r)}addBit(r){r===0?(this.addTapCycle(Ke.SHORT_PULSE),this.addTapCycle(Ke.MEDIUM_PULSE)):(this.addTapCycle(Ke.MEDIUM_PULSE),this.addTapCycle(Ke.SHORT_PULSE))}addDataMarker(r){r?(this.addTapCycle(Ke.LONG_PULSE),this.addTapCycle(Ke.MEDIUM_PULSE)):(this.addTapCycle(Ke.LONG_PULSE),this.addTapCycle(Ke.SHORT_PULSE))}resetChecksum(){this.checksum=0}addByteFrame(r,o){let f=1;for(let p=0;p<8;p++){let _=(r&1<<p)!=0?1:0;this.addBit(_),f^=_}this.addBit(f),this.addDataMarker(o),this.checksum^=r}addLeader(r){let o;r===Ke.LEADER_TYPE_HEADER?o=27136:r===Ke.LEADER_TYPE_CONTENT?o=6656:o=79;for(let f=0;f<o;f++)this.addTapCycle(Ke.SHORT_PULSE)}addSyncChain(r){let o;r?o=9:o=137;let f=9;for(;f>0;)this.addByteFrame(o,!0),o-=1,f-=1}addData(){for(let r=0;r<this.data.length;r++)this.addByteFrame(this.data[r],!0)}addFilename(){for(let r=0;r<this.filenameData.length;r++)this.addByteFrame(this.filenameData[r],!0)}addHeader(r){r?this.addLeader(Ke.LEADER_TYPE_REPEATED):this.addLeader(Ke.LEADER_TYPE_HEADER),this.addDataMarker(!0),this.addSyncChain(r),this.resetChecksum(),this.addByteFrame(this.fileType,!0),this.addByteFrame(this.startAddress&255,!0),this.addByteFrame((this.startAddress&65280)>>8,!0),this.addByteFrame(this.endAddress&255,!0),this.addByteFrame((this.endAddress&65280)>>8,!0),this.addFilename();for(let o=0;o<Ke.NUMBER_OF_PADDING_BYTES;o++)this.addByteFrame(Ke.PADDING_CHARACTER,!0);this.addByteFrame(this.checksum,!1)}addFile(){let r=!1;for(let o=0;o<2;o++)r?this.addLeader(Ke.LEADER_TYPE_REPEATED):this.addLeader(Ke.LEADER_TYPE_CONTENT),this.addDataMarker(!0),this.addSyncChain(r),this.resetChecksum(),this.addData(),this.addByteFrame(this.checksum,!1),r=!0;this.addLeader(1)}},et=Ke;et.CLOCK_RATE=985248,et.TAP_LENGTH_IN_SECONDS=8/Ke.CLOCK_RATE,et.FILENAME_BUFFER_SIZE=16,et.FILE_TYPE_NONE=0,et.FILE_TYPE_RELOCATABLE=1,et.FILE_TYPE_SEQUENTIAL=2,et.FILE_TYPE_NON_RELOCATABLE=3,et.LEADER_TYPE_HEADER=0,et.LEADER_TYPE_CONTENT=1,et.LEADER_TYPE_REPEATED=2,et.NUMBER_OF_PADDING_BYTES=171,et.PADDING_CHARACTER=32,et.SHORT_PULSE=48,et.MEDIUM_PULSE=66,et.LONG_PULSE=86;var _r=to(Ks());function La(s){return ot()==null?(pe("Please fix errors before sharing."),!0):ot()instanceof Uint8Array?(rl(),Yt("lib/liblzg.js").then(()=>{var r=na(window.Module,Array.from(ot()));window.Module=null;var o=btoa(Ti(r)),f={p:Z,r:o},p=$.param(f),_=nl(p,"player.html"),C='<iframe width=640 height=600 src="'+_+'">';$("#embedLinkTextarea").text(_),$("#embedIframeTextarea").text(C),$("#embedLinkModal").modal("show"),$("#embedAdviceWarnAll").hide(),$("#embedAdviceWarnIE").hide(),_.length>=65536?$("#embedAdviceWarnAll").show():_.length>=5120&&$("#embedAdviceWarnIE").show()}),!0):(pe("Can't share a Verilog executable yet. (It's not actually a ROM...)"),!0)}function rl(){console.log("clipboard"),import("./clipboard-2SP4SJIP.js").then(s=>{let r=s.default;new r(".btn")})}function nl(s,r){console.log(s);var o=window.location,f=o.pathname.replace("index.html",""),p=o.host=="8bitworkshop.com"?"https:":o.protocol,_=p+"//"+o.host+f+r+"?"+s;return _}function il(s){var o;var r=(o=bo())==null?void 0:o.code_start;Yt("lib/c2t.js").then(()=>{var f="",p=function(z){f+=z+`
`},_=window.c2t({noInitialRun:!0,print:p,printErr:p}),C=_.FS,P=tt()+".bin",L=tt()+".wav";C.writeFile(P,ot(),{encoding:"binary"});var q=["-2bc",P+","+r.toString(16),L];_.callMain(q);var ae=C.readFile(L,{encoding:"binary"});if(ae){var Fe=new Blob([ae],{type:"audio/wav"});(0,_r.saveAs)(Fe,L),f+="Then connect your audio output to the cassette input, turn up the volume, and play the audio file.",jt(f)}})}function ol(s){Yt("lib/makewav.js").then(()=>{let r="",o=function(P){r+=P+`
`};var f=Et(tt());let p=f+".bin",_=f+".wav";window.makewav({noInitialRun:!1,print:o,printErr:o,arguments:["-ts","-f0","-v10",p],preRun:P=>{P.FS.writeFile(p,ot(),{encoding:"binary"})}}).ready.then(P=>{let L=[p];P.run(L),console.log(r);let ae=P.FS.readFile(_,{encoding:"binary"});if(ae){let Fe=new Blob([ae],{type:"audio/wav"});(0,_r.saveAs)(Fe,_),r+=`
Connect your audio output to the SuperCharger input, turn up the volume, and play the audio file.`,jt(r)}})})}function al(s){var r=Et(tt());let o=r+".tap",f=new et(r),p=new _o({sine_wave:!0}),_=ot(),C=_[0]+_[1]*256;_=_.slice(2),f.setContent({data:_,startAddress:C,type:et.FILE_TYPE_NON_RELOCATABLE}),f.generateSound(p);let P=p.getTAPData();if(P){let L=new Blob([P],{type:"application/octet-stream"});(0,_r.saveAs)(L,o)}}function xo(){switch(kt(Z)){case"vcs":return ol;case"apple2":return il;case"c64":return al}}function Pa(s){if(ot()==null)return pe("Please fix errors before exporting."),!0;var r=xo();if(r===void 0)return pe("Cassette export is not supported on this platform."),!0;r(s)}function Eo(s){if(console.log("_downloadROMImage called, platform:",Z),console.log("getCurrentOutput():",ot()),console.log("platform.getDownloadFile exists:",!!D.getDownloadFile),ot()==null)return pe("Please finish compiling with no errors before downloading ROM."),!0;var r=Et(tt());if(D.getDownloadFile){var o=D.getDownloadFile();if(console.log("platform.getDownloadFile() returned:",o),o){var r=Et(tt());console.log("Downloading file:",r+o.extension),(0,_r.saveAs)(o.blob,r+o.extension),Dt("download","rom",Z)}else console.log("getDownloadFile() returned null/undefined"),pe("No downloadable file available. Make sure you have compiled a program.")}else if(ot()instanceof Uint8Array){var f=new Blob([ot()],{type:"application/octet-stream"}),p=D.getROMExtension&&D.getROMExtension(ot())||"-"+kt(Z)+".bin";console.log("Using fallback download, suffix:",p),(0,_r.saveAs)(f,r+p),Dt("download","rom",Z)}else pe(`The "${Z}" platform doesn't have downloadable ROMs.`)}function Ia(s){var r=ge.getCurrentText();if(!r)return!1;var o=new Blob([r],{type:"text/plain;charset=utf-8"});(0,_r.saveAs)(o,So(),{autoBom:!1}),Dt("download","source",Z)}async function Fa(){let s=(await import("./jszip.min-QZ4ZBVAS.js")).default;return new s}async function Ma(s){var r=await Fa();wr().iterateFiles((o,f)=>{f&&r.file(At(o),f)}),r.generateAsync({type:"blob"}).then(o=>{(0,_r.saveAs)(o,tt()+"-"+kt(Z)+".zip"),Dt("download","zip",Z)})}function Oa(s){let r=D.getDebugSymbolFile&&D.getDebugSymbolFile();if(!r){pe("This project does not have debug information.");return}var o=Et(tt());(0,_r.saveAs)(r.blob,o+r.extension,{autoBom:!1})}async function Na(s){var r=await Fa(),o=await Fr().keys();ke(!0);try{var f=0;await Promise.all(o.map(_=>Fr().getItem(_).then(C=>{sr(f++/(o.length+1)),C&&r.file(_,C)})));var p=await r.generateAsync({type:"blob"});(0,_r.saveAs)(p,kt(Z)+"-all.zip")}finally{ke(!1)}}var To=!1;function Wa(){To||Yt("lib/gif.js").then(()=>{var s=$("#emulator").find("canvas")[0];if(!s){pe("Could not find canvas element to record video!");return}var r=0;s.style&&s.style.transform&&(s.style.transform.indexOf("rotate(-90deg)")>=0?r=-1:s.style.transform.indexOf("rotate(90deg)")>=0&&(r=1));var o=new GIF({workerScript:"lib/gif.worker.js",workers:4,quality:10,rotate:r}),f=$("#videoPreviewImage");o.on("progress",L=>{sr(L)}),o.on("finished",L=>{f.attr("src",URL.createObjectURL(L)),ke(!1),D.resume(),$("#videoPreviewModal").modal("show")});var p=20,_=300,C=0;console.log("Recording video",s),$("#emulator").css("backgroundColor","#cc3333");var P=()=>{C++>_?(console.log("Rendering video"),$("#emulator").css("backgroundColor","inherit"),ke(!0),D.pause(),o.render(),To=!1):(o.addFrame(s,{delay:p,copy:!0}),setTimeout(P,p),To=!0)};P()})}var Dl=Xs(),bn=es(),X=no(window.location.search||"?"),Z,Kt,$e,D,le,ge,wn=null,Fo=!1,Ir,Pi,Mo,ii=$("#controls_top"),je,It,Oo,_n,Ii,Bt,Nt=!0,ts="retrogamecoders_auto_compile";function Rl(){let s=zn(ts);return s!==null?s==="true":!0}function Ll(s){ia(ts,s.toString(),365)}var oi=Ln(X.electron),Ft=Ln(X.embed),ai,si,Fi=!1,Fn=!1,Mi=null,rs=null,No=!1,ns="c.PC == 0x6000";function Fr(){return Bt}function wr(){return le}function ot(){return _n}function bo(){return Pi}var Pl={dasm:"6502",acme:"6502",cc65:"text/x-csrc",ca65:"6502",nesasm:"6502",z80asm:"z80",sdasz80:"z80",sdcc:"text/x-csrc",verilator:"verilog",jsasm:"z80",zmac:"z80",bataribasic:"bataribasic",markdown:"markdown",js:"javascript",xasm6809:"z80",cmoc:"text/x-csrc",yasm:"gas",smlrc:"text/x-csrc",inform6:"inform6",fastbasic:"fastbasic",basic:"basic",c64basic:"c64basic",silice:"verilog",wiz:"text/x-wiz",none:"text/x-csrc",vasmarm:"vasm",armips:"vasm",ecs:"ecs","remote:llvm-mos":"text/x-csrc",cc7800:"text/x-csrc",armtcc:"text/x-csrc",oscar64:"text/x-csrc",bbcbasic:"basic"},Il={dasm:"https://raw.githubusercontent.com/sehugg/dasm/master/doc/dasm.txt",cc65:"https://cc65.github.io/doc/cc65.html",ca65:"https://cc65.github.io/doc/ca65.html",sdcc:"http://sdcc.sourceforge.net/doc/sdccman.pdf",verilator:"https://www.veripool.org/ftp/verilator_doc.pdf",fastbasic:"https://github.com/dmsc/fastbasic/blob/master/manual.md",bataribasic:"help/bataribasic/manual.html",wiz:"https://github.com/wiz-lang/wiz/blob/master/readme.md#wiz",silice:"https://github.com/sylefeb/Silice",zmac:"https://raw.githubusercontent.com/sehugg/zmac/master/doc.txt",cmoc:"http://perso.b2b2c.ca/~sarrazip/dev/cmoc.html","remote:llvm-mos":"https://llvm-mos.org/wiki/Welcome",acme:"https://raw.githubusercontent.com/sehugg/acme/main/docs/QuickRef.txt"};function Fl(){return new Worker(`./gen/worker/bundle.js?t=${Date.now()}`)}var ur=function(){try{let r="__some_random_key_you_are_not_going_to_use__";localStorage.setItem(r,r);var s=localStorage.getItem(r)==r;return localStorage.removeItem(r),s}catch(r){return!1}}(),is=class{setLastPreset(r){ur&&!Ft&&($e&&Z&&!oi?localStorage.setItem("__lastrepo_"+Z,$e):localStorage.removeItem("__lastrepo_"+Z),localStorage.setItem("__lastplatform",Z),localStorage.setItem("__lastid_"+Kt,r))}unsetLastPreset(){ur&&!Ft&&(delete X.file,localStorage.removeItem("__lastid_"+Kt))}getLastPreset(){return ur&&!Ft&&localStorage.getItem("__lastid_"+Kt)}getLastPlatformID(){return ur&&!Ft&&localStorage.getItem("__lastplatform")}getLastRepoID(r){return ur&&!Ft&&r&&localStorage.getItem("__lastrepo_"+r)}shouldCompleteTour(){return!1}completedTour(){ur&&!Ft&&localStorage.setItem("8bitworkshop.hello","true")}},xn=new is;function Wo(s,r){navigator.storage&&navigator.storage.persist&&navigator.storage.persist().then(o=>{console.log("requestPersistPermission =",o),o&&s&&!r&&jt("Your browser says it will persist your local file edits, but you may want to back up your work anyway.")})}function Ml(){return Ii?Ii.title||Ii.name||le.mainPath||"ROM":le.mainPath||"ROM"}async function Ol(){var s=new lo(Z);return oi?(console.log("using electron with local filesystem",alternateLocalFilesystem),new Vn(s,alternateLocalFilesystem)):X.localfs!=null?new Vn(s,await ql(X.localfs)):new Vn(s,new uo(Bt))}async function Nl(){var s=await Ol(),r=Fl();le=new fo(r,Z,D,s),le.remoteTool=X.tool||null,ge=new po($("#workspace")[0],le),le.callbackBuildResult=o=>{eu(o)},le.callbackBuildStatus=o=>{Wl(o)},window.worker=r}function Wl(s){s?ii.addClass("is-busy"):ii.removeClass("is-busy"),$("#compile_spinner").css("visibility",s?"visible":"hidden")}function Uo(s,r){var o=document.createElement("li"),f=document.createElement("a");return f.setAttribute("class","dropdown-item"),f.setAttribute("href","#"),f.setAttribute("data-wndid",s),s==ge.getActiveID()&&$(f).addClass("dropdown-item-checked"),f.appendChild(document.createTextNode(r)),o.appendChild(f),{li:o,a:f}}function li(){var s=$("#windowMenuList").empty(),r=!1;function o(L,q,ae){r&&(s.append(document.createElement("hr")),r=!1);let{li:Fe,a:z}=Uo(L,q);if(s.append(Fe),ae){var W=(Y,Ee)=>{s.find("a").removeClass("dropdown-item-checked"),$(z).addClass("dropdown-item-checked")};ge.setCreateFunc(L,ae),ge.setShowFunc(L,W),$(z).click(Y=>{ge.createOrShow(L),Mi=L})}}function f(L){var q=D.getToolForFilename(L);q=="dasm"&&L.endsWith(".h")&&tt().endsWith(".c")&&(q="cc65");var ae=q&&Pl[q];return new Kn(L,ae)}function p(L){o(L,At(L),()=>{var q=le.getFile(L);if(typeof q=="string")return f(L);if(q instanceof Uint8Array)return new yo(L,q)})}p(le.mainPath),le.iterateFiles((L,q)=>{q&&L!=le.mainPath&&p(L)}),r=!0;var _=le.getListings();if(_)for(var C in _){var P=_[C];(P.assemblyfile&&P.assemblyfile.text||P.sourcefile&&P.sourcefile.text||P.text)&&o(C,At(C),L=>new vo(L))}r=!0}function Ul(s,r){if(r){var o=X.highlight.split(","),f=parseInt(o[0])-1,p=parseInt(o[1])-1,_=ge.createOrShow(s);_.highlightLines(f,p)}}function os(s){li(),ge.createOrShow(s),le.setMainFile(s),Ul(s,X.highlight)}async function Hl(s){le.mainPath=s,xn.setLastPreset(s);var r=await le.loadFiles([s]);if(r&&r.length)os(s);else{var o=await jl(s);le.filedata[s]=o||`
`,os(s),X.newfile?Wo(!0,!0):jt('Could not find file "'+s+'". Loading default file.'),delete X.newfile,di()}}function Ho(s){if(s=="/")X={repo:"/"};else if(s.indexOf("://")>=0){var r=Yn(s);r&&(X={repo:r.repopath})}else X.platform=Z,X.file=s;Xr()}async function jl(s){var r=D.getToolForFilename(s);try{return await $.get("presets/"+kt(Z)+"/skeleton."+r,"text")}catch(o){pe("Could not load skeleton for "+Z+"/"+r+"; using blank file")}}function jo(s){return s.indexOf(" ")>=0?(pe("No spaces in filenames, please."),!1):!0}function Oi(){setTimeout(()=>{let s=document.querySelector(".bootbox.modal");s&&(s.removeAttribute("aria-hidden"),s.setAttribute("aria-hidden","false"),console.log("Fixed modal aria-hidden attribute"))},100)}function Bl(s){return bootbox.prompt({title:"Enter the name of your new main source file.",placeholder:"newfile"+D.getDefaultExtension(),callback:r=>{if(r&&r.trim().length>0){if(!jo(r))return;r.indexOf(".")<0&&(r+=D.getDefaultExtension());var o=r;Dt("workspace","file","new"),X.newfile="1",Ho(o)}}}),Oi(),!0}function $l(s){let r=$('<input type="file" multiple accept="*" style="display:none">'),o=r[0];r.change(f=>{Gl(o.files)}),r.click()}function Gl(s){console.log(s);var r=0;function o(){var f=s[r++];if(!f)console.log("Done uploading",r),r>2?(jt("Files uploaded."),setTimeout(ui,1e3)):(X.file=s[0].name,bootbox.confirm({message:"Open '"+bn.sanitize(X.file)+"' as main project file?",buttons:{confirm:{label:"Open As New Project"},cancel:{label:"Include/Link With Project Later"}},callback:C=>{C?Xr():setTimeout(ui,1e3)}})),Dt("workspace","file","upload");else{var p=f.name,_=new FileReader;_.onload=function(C){var P=C.target.result,L=new Uint8Array(P);mn(p,L)||(L=$n(L).replace(`\r
`,`
`)),ge.updateFile(p,L),console.log("Uploaded "+p+" "+L.length+" bytes"),o()},_.readAsArrayBuffer(f)}}s&&o()}async function zl(s){var r=window.showDirectoryPicker;r||pe("This browser can't open local files on your computer, yet. Try Chrome.");var o=await r(),f=o.name,p="__localfs__"+f,_={handle:o},C=Io.createInstance({name:p,version:2});await C.setItem(p,_),X={localfs:f},Xr(!0)}async function Vl(s){return new Promise((r,o)=>{bootbox.prompt(bn.sanitize(s),f=>{r(f)})}).then(r=>(Oi(),r))}async function ql(s){let r={mode:"readwrite"};var o="__localfs__"+s,f=Io.createInstance({name:o,version:2}),p=await f.getItem(o),_=p.handle;console.log(p,_);var C=await _.queryPermission(r);if(console.log(C),C!=="granted"&&(await Vl("Request permissions to access filesystem?"),C=await _.requestPermission(r)),C!=="granted"){pe("Could not get permission to access filesystem.");return}return{getFileData:async P=>{console.log("getFileData",P);let L=await _.getFileHandle(P,{create:!1});console.log("getFileData",L);let q=await L.getFile();console.log("getFileData",q);let ae=await(mn(P)?q.binary():q.text());return console.log(L,q,ae),ae},setFileData:async(P,L)=>{}}}function tt(){return At(le.mainPath)}function So(){return At(ge.getActiveID())}function Yl(s){var r=ge.getActive();if(r&&r.setText){var o=ge.getActiveID();$.get("presets/"+kt(Z)+"/"+o,f=>{bootbox.confirm("Reset '"+bn.sanitize(o)+"' to default?",p=>{p&&r.setText(f)})},"text").fail(()=>{$e?pe("Can only revert built-in examples. If you want to revert all files, You can pull from the repository."):pe("Can only revert built-in examples.")})}else pe("Cannot revert the active window. Please choose a text file.")}function Xl(s){var r=ge.getActive();if(r&&r.getPath){var o=ge.getActiveID();bootbox.confirm("Delete '"+bn.sanitize(o)+"'?",f=>{f&&Bt.removeItem(o).then(()=>{X.file==o?(xn.unsetLastPreset(),Xr()):(ui(),jt("Deleted "+o))})})}else pe("Cannot delete the active window.")}function Kl(s){var r=ge.getActive();if(r&&r.getPath&&le.getFile(r.getPath())){var o=ge.getActiveID();bootbox.prompt({title:"Rename '"+bn.sanitize(o)+"' to?",value:o,callback:f=>{var p=le.getFile(r.getPath());if(f&&f!=o&&p){if(!jo(f))return;Bt.removeItem(o).then(()=>Bt.setItem(f,p)).then(()=>{ui(),alert("Renamed "+o+" to "+f),o==le.mainPath&&Ho(f)})}}}),Oi()}else pe("Cannot rename the active window.")}function Ql(s){let r={},o,f=D.getPresets?D.getPresets():[];for(var p=0;p<f.length;p++){var _=f[p],C=_.chapter?_.chapter+". "+_.name:_.name,P=_.id==le.mainPath;_.category?o=$("<optgroup />").attr("label","Examples: "+_.category).appendTo(s):o||(o=$("<optgroup />").attr("label","Examples").appendTo(s)),o.append($("<option />").val(_.id).text(C).attr("selected",P?"selected":null)),P&&(Ii=_),r[_.id]=C}return r}function Zl(s){if(ur&&!oi){var r=0,o=In();if(o){let p=$("<optgroup />").attr("label","Repositories").appendTo(s);for(let _ in o){var f=o[_];f.platform_id&&kt(f.platform_id)==kt(Z)&&p.append($("<option />").val(f.url).text(f.url.substring(f.url.indexOf("/"))))}}}}async function as(s,r,o,f){let p=await Bt.keys();p||(p=[]);let _;for(var C=0;C<p.length;C++){let P=p[C];if(P.startsWith(o)&&!f[P]){_||(_=$("<optgroup />").attr("label",r).appendTo(s));let L=P.substring(o.length);_.append($("<option />").val(P).text(L).attr("selected",P==le.mainPath?"selected":null))}}}function ss(s){s.css("visibility","visible");var r=le.mainPath;s.val()!=r&&s.append($("<option />").val(r).text(r).attr("selected","selected"))}async function ui(){var s=$("#preset_select").empty();if($e)s.append($("<option />").val("/").text("Leave Repository")),$("#repo_name").text(At($e)+"/").show(),await as(s,$e,"",{}),ss(s);else{Zl(s);var r=Ql(s);await as(s,"Local Files","",r),ss(s)}s.off("change").change(function(o){Ho($(this).val().toString())})}function Jl(s){var r=$("<p/>");if(s.path!=null){var o=s.line?s.label?`(${s.path} @ ${s.label})`:`(${s.path}:${s.line})`:`(${s.path})`,f=$("<a/>").text(o),p=s.path;p==tt()&&(p=le.mainPath),ge.isWindow(p)&&f.click(_=>{var C=ge.createOrShow(p);C instanceof Kn&&C.setCurrentLine(s,!0)}),r.append(f),r.append("&nbsp;")}return r.append($("<span/>").text(s.msg)),r}function ls(){$("#error_alert").hide(),No=!1}function Bo(s,r){var o=$("#error_alert_msg").empty();for(var f of s.slice(0,10))o.append(Jl(f));$("#error_alert").show(),No=r,$("#error_alert").attr("tabindex","-1"),$("#error_alert").css("outline","none"),setTimeout(()=>{let p=document.querySelector(".CodeMirror textarea");p&&p.focus()},100)}function us(s,r){if(r!=null){var o={msg:r,line:0};s instanceof oo&&s.$loc&&(o=Object.create(s.$loc),o.msg=r,console.log(o)),Bo([o],!0)}}async function eu(s){if("errors"in s&&s.errors.length>0)ii.addClass("has-errors"),ge.setErrors(s.errors),li(),Bo(s.errors,!1),Dt("compile","error",Z,s.errors.length.toString());else{if(ii.removeClass("has-errors"),ge.setErrors(null),ls(),s==null||"unchanged"in s&&s.unchanged||!("output"in s))return;D.debugSymbols=new aa(s.symbolmap,s.debuginfo),Pi=s.params;var r=s.output;if(r!=null)try{Mn(),ms(),await D.loadROM(Ml(),r),_n=r,Oo||Mr(),Gu(),Dt("compile","success",Z,r.length.toString())}catch(o){console.log(o),ii.addClass("has-errors"),us(o,o+""),_n=null,li();return}li(),ge.refresh(!1)}}async function tu(){if(D.loadBIOS){var s=Z+".rom",r=await Bt.getItem(s);r instanceof Uint8Array?(console.log("loading BIOS",s,r.length+" bytes"),D.loadBIOS(s,r)):console.log("BIOS file must be binary",s)}}function fs(){var s=$("#mem_info");s.hide(),ai=null}function fi(s){if(!!sa(D)){var r=$("#mem_info"),o=$("#mem_info_msg"),f=D.getDebugCategories();f&&!si&&(si=f[0]);var p=s&&D.getDebugInfo(si,s);if(typeof p=="string"){var _=ai?ra(ai,p):p;r.show(),o.html(_);var C=$('<div class="mem_info_links">'),P=q=>{var ae=$("<a>"+q+"</a>");q==si&&ae.addClass("selected"),ae.click(Fe=>{si=q,ai=null,fi(Ir)}),C.append(ae),C.append("<span> </span>")};for(var L of f)P(L);o.append("<br>"),o.append(C),ai=p}else fs()}}function Ni(s,r){$("#debug_bar, #run_bar").find("button").removeClass("btn_active").removeClass("btn_stopped"),$("#dbg_"+s).addClass("btn_"+r)}function $o(){return D&&_n!=null}function fr(){return $o()?!0:(pe("Can't do this until build successfully completes."),!1)}function ru(s){if(Mi&&Mi.startsWith("#")||["toline","restart","tovsync","stepover"].includes(rs)||!D.disassemble)return;let r=le.getListings(),o="#disasm",f=256;if(r){let p=s.c?s.c.EPC||s.c.PC:0;for(let _ in r){let C=r[_],P=C.assemblyfile||C.sourcefile,L=le.filename2path[_]||_;if(P==C.sourcefile&&(L=ge.findWindowWithFilePrefix(_)),ge.isWindow(L)){let q=P&&P.findLineForOffset(p,Ai);if(q){let ae=P.lines[q.line+1];if(!ae||p<ae.offset){let Fe=p-q.offset;Fe<f&&(o=L,f=Fe)}}}}}ge.createOrShow(o,!0)}function Wi(s){Ir=s,fi(s),ru(s),ge.refresh(!0),Fi=!0}function cs(s){D.setupDebug&&(D.setupDebug((r,o)=>{Wi(r),Ni(s||"pause","stopped"),o&&Bo([{msg:"STOPPED: "+o,line:0}],!0)}),rs=s)}function br(s){!fr()||(zo(),cs(s),s&&Ni(s,"active"))}function Kr(){D&&D.isRunning()&&(D.pause(),console.log("Paused")),Ni("pause","stopped")}function nu(){!fr()||(Mn(),Kr(),Oo=!0)}function Mr(){D.isRunning()||(D.resume(),console.log("Resumed")),Ni("go","active"),No&&ls()}function ds(){!fr()||(Mn(),D.isRunning()||ge.refresh(!1),Mr(),Oo=!1,Mi=null)}function iu(){!fr()||(br("step"),D.step())}function ou(){!fr()||(br("stepover"),D.stepOver())}function au(){!fr()||(br("tovsync"),D.runToVsync())}function ps(){var s=ge.getActive();return s&&s.getCursorPC&&s.getCursorPC()}function Qn(s){!fr()||!(s>=0)||(br("toline"),console.log("Run to",s.toString(16)),D.runToPC?D.runToPC(s):D.runEval(r=>r.PC==s))}function su(){D.restartAtPC(ps())?ds():pe("Could not restart program at selected line.")}function lu(){Qn(ps())}function uu(){!fr()||(br("stepout"),D.runUntilReturn())}function fu(){!fr()||(br("stepback"),D.stepBack())}function Mn(){Ir=null,D.clearDebug&&D.clearDebug(),cs(),fi()}function Go(){D.reset(),ms()}function cu(){!fr()||(Mn(),Go(),Mr())}function du(){if(!!fr()){var s=Fn;zo(),D.setupDebug&&D.runEval?(Mn(),Mr(),Go(),br("restart"),D.runEval(r=>!0)):(Go(),Mr()),s&&gs()}}function pu(){var s=$("#debugExprModal"),r=$("#debugExprSubmit");$("#debugExprInput").val(ns),$("#debugExprExamples").text(hu()),s.modal("show"),r.off("click").on("click",()=>{var o=$("#debugExprInput").val()+"";s.modal("hide"),mu(o)})}function hu(){var s=D.saveState&&D.saveState(),r=s.c;console.log(r,s);var o="";return r.PC&&(o+="c.PC == 0x"+yr(r.PC)+`
`),r.SP&&(o+="c.SP < 0x"+yr(r.SP)+`
`),r.HL&&(o+=`c.HL == 0x4000
`),D.readAddress&&(o+=`this.readAddress(0x1234) == 0x0
`),D.readVRAMAddress&&(o+=`this.readVRAMAddress(0x1234) != 0x80
`),D.getRasterScanline&&(o+=`this.getRasterScanline() > 222
`),o}function mu(s){var r=new Function("c","return ("+s+");").bind(D);br(),D.runEval(r),ns=s}function hs(){D.isRunning()?(ge.tick(),Fi=!1):Fi||(ge.tick(),Fi=!0),setTimeout(hs,100)}function ci(s){D.setFrameRate(s),s>.01?$("#fps_label").text(s.toFixed(2)):$("#fps_label").text("1/"+Math.round(1/s))}function gu(){var s=D.getFrameRate();s=s/2,s>1e-5&&ci(s)}function vu(){var s=D.getFrameRate();s=Math.min(60,s*2),ci(s)}function yu(){ci(60/65536)}function bu(){Mr(),ci(60)}function wu(){ge.refresh(!1);var s=ge.getActive();if(s.getSourceFile&&s.setTimingResult){var r=D.newCodeAnalyzer();r.showLoopTimingForPC(0),s.setTimingResult(r)}}function zo(){Fn&&(D.setRecorder(null),$("#dbg_record").removeClass("btn_recording"),$("#replaydiv").hide(),fs(),Fn=!1)}function ms(){Fn&&It.reset()}function gs(){It.reset(),D.setRecorder(It),$("#dbg_record").addClass("btn_recording"),$("#replaydiv").show(),Fn=!0}function _u(){Fn?zo():gs()}function Or(s,r,o){var f=ge.getActive();f&&f.insertText?(bootbox.prompt({title:"Add "+bn.sanitize(s)+" File to Project",value:"filename"+bn.sanitize(r),callback:p=>{if(p&&p.trim().length>0){if(!jo(p))return;var _=p,C=`
`+o(p)+`
`;le.loadFiles([_]).then(P=>{P&&P.length?pe(p+" already exists; including anyway"):le.updateFile(_,`
`),f.insertText(C),li()})}}}),Oi()):pe("Can't insert text in this window -- switch back to main file")}function xu(){var s=tt(),r=D.getToolForFilename(s);s.endsWith(".c")||r=="sdcc"||r=="cc65"||r=="cmoc"||r=="smlrc"?Or("Header",".h",o=>'#include "'+o+'"'):r=="dasm"||r=="zmac"?Or("Include",".inc",o=>'	include "'+o+'"'):r=="ca65"||r=="sdasz80"||r=="vasm"||r=="armips"?Or("Include",".inc",o=>'	.include "'+o+'"'):r=="verilator"?Or("Verilog",".v",o=>'`include "'+o+'"'):r=="wiz"?Or("Include",".wiz",o=>'import "'+o+'";'):r=="ecs"?Or("Include",".ecs",o=>'import "'+o+'"'):r=="acme"?Or("Include",".acme",o=>'!src "'+o+'"'):pe("Can't add include file to this project type ("+r+")")}function Eu(){var s=tt(),r=D.getToolForFilename(s);s.endsWith(".c")||r=="sdcc"||r=="cc65"||r=="cmoc"||r=="smlrc"?Or("Linked C (or .s)",".c",o=>'//#link "'+o+'"'):s.endsWith("asm")||s.endsWith(".s")||r=="ca65"||r=="lwasm"?Or("Linked ASM",".inc",o=>';#link "'+o+'"'):pe("Can't add linked file to this project type ("+r+")")}function vs(){Nt=!Nt,Ll(Nt),window.autoCompileEnabled=Nt,ys(),console.log("Auto-compile",Nt?"enabled":"disabled")}function Tu(){le&&le.mainPath&&(console.log("Manual build and run triggered"),window.isManualCompilation=!0,le.sendBuild(),setTimeout(()=>{window.isManualCompilation=!1},1e3))}function ys(){let s=document.getElementById("auto_compile_checkbox"),r=document.getElementById("auto_compile_toggle"),o=document.getElementById("manual_build_btn"),f=document.getElementById("auto_compile_status");s&&(s.checked=!!Nt),r&&r.setAttribute("title",Nt?"Auto-Compile Enabled (Ctrl+Alt+C)":"Auto-Compile Disabled (Ctrl+Alt+C)"),f&&(Nt?(f.textContent="Auto-Compile: ON",f.style.color="#5cb85c"):(f.textContent="Auto-Compile: OFF",f.style.color="#b0b0b0")),o&&(Nt?o.style.display="none":o.style.display="inline-block")}function Su(){je=new la($("#toolbar")[0],null),je.grp.prop("id","run_bar"),je.add("ctrl+alt+r","Reset","glyphicon-refresh",cu).prop("id","dbg_reset"),je.add("ctrl+alt+,","Pause","glyphicon-pause",nu).prop("id","dbg_pause"),je.add("ctrl+alt+.","Resume","glyphicon-play",ds).prop("id","dbg_go"),D.restartAtPC&&je.add("ctrl+alt+/","Restart at Cursor","glyphicon-play-circle",su).prop("id","dbg_restartatline"),je.newGroup(),je.grp.prop("id","compile_bar"),je.add("ctrl+alt+c","Toggle Auto-Compile",null,vs);let s=$('<span id="auto_compile_toggle" class="auto-compile-switch" />').appendTo(je.grp),r=$('<label class="switch" />').appendTo(s),o=$('<input type="checkbox" id="auto_compile_checkbox" />').appendTo(r),f=$('<span class="slider round"></span>').appendTo(r);if(o.on("change",()=>{vs()}),$('<span class="auto-compile-status">Auto-Compile: ON</span>').appendTo(je.grp).prop("id","auto_compile_status"),je.add("ctrl+alt+m","Build and Run","glyphicon-play",Tu).prop("id","manual_build_btn"),je.newGroup(),je.grp.prop("id","debug_bar"),D.runEval&&je.add("ctrl+alt+e","Reset and Debug","glyphicon-fast-backward",du).prop("id","dbg_restart"),D.stepBack&&je.add("ctrl+alt+b","Step Backwards","glyphicon-step-backward",fu).prop("id","dbg_stepback"),D.step&&je.add("ctrl+alt+s","Single Step","glyphicon-step-forward",iu).prop("id","dbg_step"),D.stepOver&&je.add("ctrl+alt+t","Step Over","glyphicon-hand-right",ou).prop("id","dbg_stepover"),D.runUntilReturn&&je.add("ctrl+alt+o","Step Out of Subroutine","glyphicon-hand-up",uu).prop("id","dbg_stepout"),D.runToVsync&&je.add("ctrl+alt+n","Next Frame/Interrupt","glyphicon-forward",au).prop("id","dbg_tovsync"),(D.runEval||D.runToPC)&&!Z.startsWith("verilog")&&je.add("ctrl+alt+l","Run To Line","glyphicon-save",lu).prop("id","dbg_toline"),je.newGroup(),je.grp.prop("id","xtra_bar"),ys(),$(".dropdown-menu").collapse({toggle:!1}),$("#item_new_file").click(Bl),$("#item_upload_file").click($l),$("#item_open_directory").click(zl),$("#item_github_login").click(Ea),$("#item_github_logout").click(Ta),$("#item_github_import").click(Sa),$("#item_github_publish").click(Ca),$("#item_github_push").click(Aa),$("#item_github_pull").click(ka),$("#item_repo_delete").click(Ra),$("#item_share_file").click(La),$("#item_reset_file").click(Yl),$("#item_rename_file").click(Kl),$("#item_delete_file").click(Xl),D.runEval?$("#item_debug_expr").click(pu).show():$("#item_debug_expr").hide(),$("#item_download_rom").click(Eo),$("#item_download_file").click(Ia),$("#item_download_zip").click(Ma),D.getDebugSymbolFile?$("#item_download_sym").click(Oa):$("#item_download_sym").hide(),$("#item_download_allzip").click(Na),$("#item_record_video").click(Wa),xo()?$("#item_export_cassette").click(Pa):$("#item_export_cassette").hide(),D.setFrameRate&&D.getFrameRate&&($("#dbg_slower").click(gu),$("#dbg_faster").click(vu),$("#dbg_slowest").click(yu),$("#dbg_fastest").click(bu)),$("#item_addfile_include").click(xu),$("#item_addfile_link").click(Eu),$("#item_request_persist").click(()=>Wo(!0,!1)),hs(),D.newCodeAnalyzer&&je.add(null,"Analyze CPU Timing","glyphicon-time",wu),D.setRecorder&&D.advance&&Cu(),D.showHelp){let{li:P,a:L}=Uo("help__"+Z,Mo+" Help");$("#help_menu").append(P),$(L).click(()=>window.open(D.showHelp(),"_8bws_help"))}let _=D.getToolForFilename(tt()),C=Il[_];if(C){let{li:P,a:L}=Uo("help__"+_,_+" Help");$("#help_menu").append(P),$(L).click(()=>window.open(C,"_8bws_help"))}}function Cu(){var s=$("#replayslider"),r=$("#clockslider"),o=$("#replay_frame"),f=$("#replay_clock");D.advanceFrameClock||$("#clockdiv").hide();var p=()=>{o.text(It.lastSeekFrame+""),f.text(It.lastSeekStep+"")},_=L=>{Kr();var q=parseInt(s.val().toString()),ae=parseInt(r.val().toString());It.loadFrame(q,ae)>=0&&(r.attr("min",0),r.attr("max",It.lastStepCount),p(),Wi(D.saveState()))},C=L=>{Kr(),It.loadFrame(L)>=0&&(s.val(L),p(),Wi(D.saveState()))},P=L=>{Kr();var q=parseInt(s.val().toString());It.loadFrame(q,L)>=0&&(r.val(L),p(),Wi(D.saveState()))};It.callbackStateChanged=()=>{s.attr("min",0),s.attr("max",It.numFrames()),s.val(It.currentFrame()),r.val(It.currentStep()),p(),fi(D.saveState())},s.on("input",_),r.on("input",_),$("#replay_min").click(()=>{C(1)}),$("#replay_max").click(()=>{C(It.numFrames())}),$("#replay_back").click(()=>{C(parseInt(s.val().toString())-1)}),$("#replay_fwd").click(()=>{C(parseInt(s.val().toString())+1)}),$("#clock_back").click(()=>{P(parseInt(r.val().toString())-1)}),$("#clock_fwd").click(()=>{P(parseInt(r.val().toString())+1)}),$("#replay_bar").show(),je.add("ctrl+alt+0","Start/Stop Replay Recording","glyphicon-record",_u).prop("id","dbg_record")}function Au(){try{var s=window.screen.orientation||window.screen.msOrientation||window.screen.mozOrientation||null;if(s){if(s.type.indexOf("landscape")!==-1)return!0;if(s.type.indexOf("portrait")!==-1)return!1}if("orientation"in window){var r=window.orientation;if(r===0||r===180)return!1;if(r===90||r===270)return!0}}catch(o){}return window.innerWidth>window.innerHeight}async function ku(){if(xn.shouldCompleteTour()){await Yt("lib/bootstrap-tourist.js");var s=Z.startsWith("vcs"),r=[{element:"#platformsMenuButton",placement:"right",title:"Platform Selector",content:`You're currently on the "<b>`+Z+'</b>" platform. You can choose a different one from the menu.'},{element:"#preset_select",title:"Project Selector",content:"You can choose different code examples, create your own files, or import projects from GitHub."},{element:"#workspace",title:"Code Editor",content:s?"Type your 6502 assembly code into the editor, and it'll be assembled in real-time.":"Type your source code into the editor, and it'll be compiled in real-time."},{element:"#emulator",placement:"left",title:"Emulator",content:"We'll load your compiled code into the emulator whenever you make changes."},{element:"#debug_bar",placement:"bottom",title:"Debug Tools",content:"Use these buttons to set breakpoints, single step through code, pause/resume, and use debugging tools."},{element:"#dropdownMenuButton",title:"Main Menu",content:"Click the menu to create new files, download your code, or share your work with others."},{element:"#sidebar",title:"Sidebar",content:"Pull right to expose the sidebar. It lets you switch between source files, view assembly listings, and use other tools like Disassembler, Memory Browser, and Asset Editor."}];Au()||r.unshift({element:"#controls_top",placement:"bottom",title:"Portrait mode detected",content:"This site works best on desktop browsers. For best results, rotate your device to landscape orientation."}),window.location.host.endsWith("8bitworkshop.com")&&(r.unshift({element:"#dropdownMenuButton",placement:"right",title:"Cookie Consent",content:'Before we start, we should tell you that this website stores cookies and other data in your browser. You can review our <a href="/privacy.html" target="_new">privacy policy</a>.'}),r.push({element:"#booksMenuButton",placement:"left",title:"Books",content:"Get some books that explain how to program all of this stuff, and write some games!"})),oi&&(r.unshift({element:"#dropdownMenuButton",placement:"right",title:"Developer Analytics",content:"BTW, we send stack traces to sentry.io when exceptions are thrown. Hope that's ok."}),r.unshift({element:"#dropdownMenuButton",placement:"right",title:"Welcome to 8bitworkshop Desktop!",content:'The directory "~/8bitworkshop" contains all of your file edits and built ROM images. You can create new projects under the platform directories (e.g. "c64/myproject")'}));var o=new Tour({autoscroll:!1,steps:r,onEnd:()=>{xn.completedTour()}});setTimeout(()=>{o.start()},2500)}}function Ui(s){var r=(s.message||s.error||s)+"";if(r.indexOf("QuotaExceededError")>=0)Wo(!1,!1);else{var o=s.error||s.reason;o!=null&&o instanceof oo&&bs(o)}}function bs(s){console.log("haltEmulation"),Kr(),Bu(s)}function Du(){window.addEventListener("error",Ui),window.addEventListener("unhandledrejection",Ui)}function ws(){window.removeEventListener("error",Ui),window.removeEventListener("unhandledrejection",Ui)}function Xr(s,r){r&&(X=r),ws(),s?window.location.replace("?"+$.param(X)):window.location.href="?"+$.param(X)}function di(){Z&&(X.platform=Z),delete X[""],history.replaceState({},"","?"+$.param(X))}function Ru(){var s=!1;document.addEventListener("visibilitychange",()=>{document.visibilityState=="hidden"&&D&&D.isRunning()?(Kr(),s=!0):document.visibilityState=="visible"&&s&&(Mr(),s=!1)}),$(window).on("focus",()=>{s&&(Mr(),s=!1)}),$(window).on("blur",()=>{D&&D.isRunning()&&(Kr(),s=!0)}),$(window).on("orientationchange",()=>{D&&D.resize&&setTimeout(D.resize.bind(D),200)})}function Lu(){var s=$(document).find(".emucontrols-"+gn(Z));Z.endsWith(".mame")&&s.show();var r=$("#emulator").find("canvas");r&&(r.on("focus",()=>{D.isRunning()&&(s.fadeIn(200),D.pause(),D.resume())}),r.on("blur",()=>{s.fadeOut(200)}))}function Pu(){window.ga&&($(".dropdown-item").click(s=>{s.target&&s.target.id&&Dt("menu",s.target.id)}),xa(location.pathname+"?platform="+Z+($e?"&repo="+$e:"&file="+X.file)))}async function Iu(){if(!io[Z])throw Error("Invalid platform '"+Z+"'.");let s=$("#emuscreen")[0],r=no(X.options||"");D=new io[Z](s,r),Uu(),It=new ua(D);let o=D.getPresets?D.getPresets():[];if(!X.file){var f=xn.getLastPreset(),p=f||($e?null:o[0].id);X.file=p||"DEFAULT",p||pe("There is no default main file for this project. Try selecting one from the pulldown.")}Z=="vcs"&&X.file.startsWith("examples/")&&!X.file.endsWith(".a")&&(X.file+=".a"),di(),Du(),Pu(),Dt("platform","select",Z),await D.start(),await tu(),await Nl(),wn&&(le.filedata[wn.filename]=wn.content,le.mainPath=wn.filename,X.file=wn.filename,wn=null),await Hl(X.file),D.sourceFileFetch=_=>le.filedata[_],Fo&&le&&le.mainPath&&(Fo=!1,setTimeout(()=>{le&&le.mainPath&&(console.log("Auto-compiling URL-loaded file:",le.mainPath),le.sendBuild())},300)),Nt=Rl(),window.autoCompileEnabled=Nt,console.log("Auto-compile state loaded from cookie:",Nt?"enabled":"disabled"),Su(),Ru(),Lu(),Ft?Fu():(ui(),Mu(),ku()),_s()}function Fu(){$("#dropdownMenuButton").hide(),$("#platformsMenuButton").hide(),$("#booksMenuButton").hide()}function Mu(){gn(Z)=="nes"?$(".book-nes").addClass("book-active"):gn(Z)=="vcs"?$(".book-vcs").addClass("book-active"):gn(Z)=="verilog"?$(".book-verilog").addClass("book-active"):gn(Z)=="c64"?$(".book-c64").addClass("book-active"):D.getToolForFilename(tt())=="sdcc"&&$(".book-arcade").addClass("book-active")}function _s(){setTimeout(()=>{$("#controls_dynamic").css("visibility","inherit")},250)}function xs(){var s="workspace-split3-"+Z;Ft&&(s="embed-"+s);var r;Z.startsWith("vcs")?r=[0,50,50]:Ft||Xn?r=[0,55,45]:r=[12,44,44];var o=ur&&localStorage.getItem(s);if(o)try{r=JSON.parse(o)}catch(p){console.log(p)}var f=Dl(["#sidebar","#workspace","#emulator"],{sizes:r,minSize:[0,250,250],onDrag:()=>{D&&D.resize&&D.resize()},onDragEnd:()=>{ur&&localStorage.setItem(s,JSON.stringify(f.getSizes())),ge&&ge.resize()}})}async function Ou(s){if(!Z){pe("Platform must be specified when using url parameter. Please add ?platform=XXX to the URL.");return}try{let o=new URL(s);if(o.protocol!=="http:"&&o.protocol!=="https:"){pe("Only http and https URLs are supported. Invalid URL: "+s);return}}catch(o){pe("Invalid URL format: "+s+". Please provide a valid http:// or https:// URL.");return}ke(!0);let r;X.filename?r=X.filename:(r=At(s),(!r||r===s)&&(r="loaded"+(Z==="c64"||Z==="bbc"||Z==="vic20"?".bas":".c"))),console.log("Loading file from URL:",s),console.log("Using filename:",r),Gn(s,async o=>{try{if(!o){pe("Could not load file from URL: "+s+`

Possible reasons:
- File not found (404)
- CORS restrictions
- Network error
- Invalid URL`),ke(!1);return}let f;if(o instanceof Uint8Array)try{f=$n(o)}catch(p){pe("Could not decode file as text. Binary files are not supported in this phase."),ke(!1);return}else f=o;console.log("Loaded "+f.length+" bytes from URL"),wn={filename:r,content:f},Fo=!0,delete X.url,delete X.filename,X.file=r,di(),ke(!1),await Vo()}catch(f){console.error("Error loading from URL:",f),pe("Error loading file from URL: "+s+`

`+f.message),ke(!1)}},"text")}function Nu(s){let r=Ln(X.ignore)||Ft;ke(!0),Gn(s,async o=>{if(o){var f=At(s);console.log("Importing "+o.length+" bytes as "+f);try{var p=await Bt.getItem(f);ke(!1),p!=null&&r||(p==null||confirm("Replace existing file '"+f+"'?"))&&await Bt.setItem(f,o),delete X.importURL,X.file=f,di(),Vo()}finally{ke(!1)}}else pe("Could not load source code from URL: "+s),ke(!1)},"text")}async function Wu(){var s=Ln(X.ignore),r=Ln(X.force);Ft?s=!r:r=!1;for(var o=0;o<20;o++){let p=X["file"+o+"_name"],_=X["file"+o+"_data"];if(p==null||_==null)break;var f=await Bt.getItem(p);if(!(s&&f)){let C=_;X["file"+o+"_type"]=="binary"&&(C=Ei(atob(C))),(!f||r||confirm("Replace existing file '"+p+"'?"))&&await Bt.setItem(p,C)}o==0&&(X.file=p),delete X["file"+o+"_name"],delete X["file"+o+"_data"],delete X["file"+o+"_type"]}delete X.ignore,delete X.force,di()}function Uu(){var s=D.getPlatformName&&D.getPlatformName(),r=$('a[href="?platform='+Z+'"]');r.length&&(r.addClass("dropdown-item-checked"),s=s||r.text()||s),Mo=s||Z,$(".platform_name").text(Mo)}function Es(){if(Z=X.platform||xn.getLastPlatformID(),$e=X.repo,!X.repo&&!X.file&&($e=xn.getLastRepoID(Z)),ur&&$e&&$e!=="/"){var s=In()[$e];s&&(console.log(Z,X,s),X.repo=$e,s.platform_id&&!X.platform&&(X.platform=Z=s.platform_id),s.mainPath&&!X.file&&(X.file=s.mainPath))}else $e="",delete X.repo;Z||(Ft&&_a("The 'platform' must be specified when embed=1"),Z=X.platform="c64")}async function Ts(){if(X.githubURL){ki(X.githubURL,!0);return}if(X.url){if(!X.platform){pe(`Platform must be specified when using url parameter. Please add ?platform=XXX&url=... to the URL.

Example: ?platform=c64&url=https://example.com/game.bas`);return}Es(),xs(),Kt=$e||kt(Z),Ft&&(Kt=(document.referrer||document.location.href)+Kt),Bt=qn(Kt),await Ou(X.url);return}if(Es(),xs(),Kt=$e||kt(Z),Ft&&(Kt=(document.referrer||document.location.href)+Kt),Bt=qn(Kt),X.importURL){Nu(X.importURL);return}X.file0_name&&await Wu(),Vo()}async function Vo(){try{let r=Z.includes("")?Z:gn(Z);var s=await fa(r);console.log("starting platform",Z),await Iu(),document.title=document.title+" ["+Z+"] - "+($e?"["+$e+"] - ":"")+le.mainPath}catch(r){console.log(r),pe('Platform "'+Z+'" failed to load.')}finally{_s()}}var qo="__use_https";function Ss(s){document.cookie=qo+"="+s+";domain=8bitworkshop.com;path=/;max-age=315360000"}function Hu(){var s=zn(qo);if(typeof s=="string")return!!s;var r=ur&&!localStorage.getItem("__lastplatform")?1:0;return Ss(r),!!r}function ju(){bootbox.confirm('<p>Do you want to force the browser to use HTTPS from now on?</p><p>WARNING: This will make all of your local files unavailable, so you should "Download All Changes" first for each platform where you have done work.</p><p>You can go back to HTTP by setting the "'+qo+'" cookie to 0.</p>',s=>{s&&(Ss(1),Cs())})}function Cs(){window.location.protocol=="http:"&&window.location.host=="8bitworkshop.com"&&(Hu()?(ws(),window.location.replace(window.location.href.replace(/^http:/,"https:"))):$("#item_switch_https").click(ju).show())}Cs();function jc(s,r){D.writeFile(s,r)}function Bc(s){return D.readFile(s)}function $c(){return D.saveState()}function Bu(s){var r=s&&s.message||r;us(s,r),ge.refresh(!1),D.saveState&&fi(D.saveState())}async function $u(s){var r=le.filedata[s];r!=null&&(ge.updateFile(s,await alternateLocalFilesystem.getFileData(s)),console.log("updating file",s))}function Gu(){if(oi&&_n instanceof Uint8Array){var s=Et(tt()),r=D.getROMExtension&&D.getROMExtension(_n)||"-"+kt(Z)+".bin";alternateLocalFilesystem.setFileData(`bin/${s}${r}`,_n)}}function zu(s){var r=ge.getActive();if(r instanceof Kn){var o=r.editor.getSearchCursor(s);o.findNext()&&r.editor.setSelection(o.pos.to,o.pos.from)}}function Vu(){let s=!1;new IntersectionObserver((o,f)=>{for(var p of o)p.isIntersecting&&!s&&(Ts(),s=!0),p.intersectionRatio==0&&$o()&&D.isRunning()&&Kr(),p.intersectionRatio>0&&$o()&&!D.isRunning()&&Mr()},{}).observe($("#emulator")[0])}typeof process=="undefined"&&(Ft&&typeof IntersectionObserver=="function"?Vu():Ts());function qu(){window.autoCompileEnabled=Nt,window.IDE={platform:D,platform_id:Z,current_project:le,projectWindows:ge,qs:X,store_id:Kt,repo_id:$e,lastDebugState:Ir,autoCompileEnabled:Nt,getCurrentProject:wr,getCurrentMainFilename:tt,getCurrentEditorFilename:So,getCurrentOutput:ot,getPlatformStore:Fr,haltEmulation:bs,gotoNewLocation:Xr,setFrameRateUI:ci,setupBreakpoint:br,runToPC:Qn,clearBreakpoint:Mn,reloadWorkspaceFile:$u,highlightSearch:zu,_downloadROMImage:Eo,loadROM:s=>{let r=s||ot();if(!r){console.error("\u274C No compiled output available. Please compile your project first.");return}if(!(r instanceof Uint8Array)){console.error("\u274C Output is not binary data:",typeof r);return}console.log("\u2705 Loading ROM with",r.length,"bytes"),D.loadROM(tt(),r)},debugCompilation:()=>{console.log("=== DEBUGGING COMPILATION OUTPUT ===");let s=ot();if(s?(console.log("\u2705 Current output found:",s),console.log("Current output length:",s.length),s.length>0&&(console.log("First 32 bytes (hex):",Array.from(s.slice(0,32)).map(r=>r.toString(16).padStart(2,"0")).join(" ")),console.log("First 32 bytes (decimal):",Array.from(s.slice(0,32)).join(" ")))):console.log("\u274C No current output found"),typeof Pi!="undefined"?console.log("\u2705 Compilation parameters found:",Pi):console.log("\u274C No compilation parameters found"),D?(console.log("\u2705 Platform found:",D.getName?D.getName():"Unknown"),D.debugSymbols&&console.log("\u2705 Debug symbols found:",D.debugSymbols)):console.log("\u274C No platform found"),window.worker){if(console.log("\u2705 Worker found"),window.worker.store){console.log("\u2705 Store found");let r=Object.keys(window.worker.store.workfs||{});console.log("Files in virtual file system:",r);for(let o of r){let f=window.worker.store.workfs[o];if(console.log(`File: ${o} (${f.data.length} bytes)`),f.data.length>0){let p=Array.from(f.data.slice(0,16));console.log(`  First 16 bytes: ${p.map(_=>_.toString(16).padStart(2,"0")).join(" ")}`)}}}}else console.log("\u274C No worker found")}},console.log("IDE variables exposed globally. Access via window.IDE"),console.log("Use window.IDE.loadROM() to load the current compiled output"),console.log("Use window.IDE.debugCompilation() to debug compilation output")}setTimeout(qu,1e3);export{ba as a,X as b,Z as c,Kt as d,$e as e,D as f,le as g,ge as h,Ir as i,Fr as j,wr as k,ot as l,bo as m,tt as n,So as o,br as p,Qn as q,Mn as r,ci as s,bs as t,Xr as u,xs as v,Es as w,Ts as x,jc as y,Bc as z,$c as A,Bu as B,$u as C,zu as D};
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */
//# sourceMappingURL=chunk-HVXXTFGA.js.map
