import{a as oa,b as Ln,c as zs}from"./chunk-T4FRG4BA.js";import{a as aa,b as sa,c as Vs}from"./chunk-G7OP5AGA.js";import{t as na,u as ia}from"./chunk-CO72NYTV.js";import{$ as ra,B as qt,C as ro,D as Rn,E as Bn,F as ta,H as no,R as io,b as vi,d as Ft,e as to,f as xt,g as vr,k as Jo,m as yi,n as bi,o as wi,p as mn,q as ea,v as _i,w as Mt,x as gn}from"./chunk-KXQZZRQB.js";import{c as jn,d as Ji,e as eo}from"./chunk-WAARL7ET.js";var ao=Ji((la,oo)=>{(function(s){if(typeof la=="object"&&typeof oo!="undefined")oo.exports=s();else if(typeof define=="function"&&define.amd)define([],s);else{var r;typeof window!="undefined"?r=window:typeof global!="undefined"?r=global:typeof self!="undefined"?r=self:r=this,r.localforage=s()}})(function(){var s,r,o;return function f(h,_,C){function P(ae,Ie){if(!_[ae]){if(!h[ae]){var z=typeof jn=="function"&&jn;if(!Ie&&z)return z(ae,!0);if(L)return L(ae,!0);var W=new Error("Cannot find module '"+ae+"'");throw W.code="MODULE_NOT_FOUND",W}var Y=_[ae]={exports:{}};h[ae][0].call(Y.exports,function(xe){var ne=h[ae][1][xe];return P(ne||xe)},Y,Y.exports,f,h,_,C)}return _[ae].exports}for(var L=typeof jn=="function"&&jn,q=0;q<C.length;q++)P(C[q]);return P}({1:[function(f,h,_){(function(C){"use strict";var P=C.MutationObserver||C.WebKitMutationObserver,L;if(P){var q=0,ae=new P(xe),Ie=C.document.createTextNode("");ae.observe(Ie,{characterData:!0}),L=function(){Ie.data=q=++q%2}}else if(!C.setImmediate&&typeof C.MessageChannel!="undefined"){var z=new C.MessageChannel;z.port1.onmessage=xe,L=function(){z.port2.postMessage(0)}}else"document"in C&&"onreadystatechange"in C.document.createElement("script")?L=function(){var We=C.document.createElement("script");We.onreadystatechange=function(){xe(),We.onreadystatechange=null,We.parentNode.removeChild(We),We=null},C.document.documentElement.appendChild(We)}:L=function(){setTimeout(xe,0)};var W,Y=[];function xe(){W=!0;for(var We,at,ke=Y.length;ke;){for(at=Y,Y=[],We=-1;++We<ke;)at[We]();ke=Y.length}W=!1}h.exports=ne;function ne(We){Y.push(We)===1&&!W&&L()}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(f,h,_){"use strict";var C=f(1);function P(){}var L={},q=["REJECTED"],ae=["FULFILLED"],Ie=["PENDING"];h.exports=z;function z(i){if(typeof i!="function")throw new TypeError("resolver must be a function");this.state=Ie,this.queue=[],this.outcome=void 0,i!==P&&ne(this,i)}z.prototype.catch=function(i){return this.then(null,i)},z.prototype.then=function(i,pe){if(typeof i!="function"&&this.state===ae||typeof pe!="function"&&this.state===q)return this;var J=new this.constructor(P);if(this.state!==Ie){var Re=this.state===ae?i:pe;Y(J,Re,this.outcome)}else this.queue.push(new W(J,i,pe));return J};function W(i,pe,J){this.promise=i,typeof pe=="function"&&(this.onFulfilled=pe,this.callFulfilled=this.otherCallFulfilled),typeof J=="function"&&(this.onRejected=J,this.callRejected=this.otherCallRejected)}W.prototype.callFulfilled=function(i){L.resolve(this.promise,i)},W.prototype.otherCallFulfilled=function(i){Y(this.promise,this.onFulfilled,i)},W.prototype.callRejected=function(i){L.reject(this.promise,i)},W.prototype.otherCallRejected=function(i){Y(this.promise,this.onRejected,i)};function Y(i,pe,J){C(function(){var Re;try{Re=pe(J)}catch(Qe){return L.reject(i,Qe)}Re===i?L.reject(i,new TypeError("Cannot resolve promise with itself")):L.resolve(i,Re)})}L.resolve=function(i,pe){var J=We(xe,pe);if(J.status==="error")return L.reject(i,J.value);var Re=J.value;if(Re)ne(i,Re);else{i.state=ae,i.outcome=pe;for(var Qe=-1,Le=i.queue.length;++Qe<Le;)i.queue[Qe].callFulfilled(pe)}return i},L.reject=function(i,pe){i.state=q,i.outcome=pe;for(var J=-1,Re=i.queue.length;++J<Re;)i.queue[J].callRejected(pe);return i};function xe(i){var pe=i&&i.then;if(i&&(typeof i=="object"||typeof i=="function")&&typeof pe=="function")return function(){pe.apply(i,arguments)}}function ne(i,pe){var J=!1;function Re(Ye){J||(J=!0,L.reject(i,Ye))}function Qe(Ye){J||(J=!0,L.resolve(i,Ye))}function Le(){pe(Qe,Re)}var fe=We(Le);fe.status==="error"&&Re(fe.value)}function We(i,pe){var J={};try{J.value=i(pe),J.status="success"}catch(Re){J.status="error",J.value=Re}return J}z.resolve=at;function at(i){return i instanceof this?i:L.resolve(new this(P),i)}z.reject=ke;function ke(i){var pe=new this(P);return L.reject(pe,i)}z.all=De;function De(i){var pe=this;if(Object.prototype.toString.call(i)!=="[object Array]")return this.reject(new TypeError("must be an array"));var J=i.length,Re=!1;if(!J)return this.resolve([]);for(var Qe=new Array(J),Le=0,fe=-1,Ye=new this(P);++fe<J;)Tt(i[fe],fe);return Ye;function Tt(_r,pt){pe.resolve(_r).then(Er,function(mt){Re||(Re=!0,L.reject(Ye,mt))});function Er(mt){Qe[pt]=mt,++Le===J&&!Re&&(Re=!0,L.resolve(Ye,Qe))}}}z.race=rt;function rt(i){var pe=this;if(Object.prototype.toString.call(i)!=="[object Array]")return this.reject(new TypeError("must be an array"));var J=i.length,Re=!1;if(!J)return this.resolve([]);for(var Qe=-1,Le=new this(P);++Qe<J;)fe(i[Qe]);return Le;function fe(Ye){pe.resolve(Ye).then(function(Tt){Re||(Re=!0,L.resolve(Le,Tt))},function(Tt){Re||(Re=!0,L.reject(Le,Tt))})}}},{"1":1}],3:[function(f,h,_){(function(C){"use strict";typeof C.Promise!="function"&&(C.Promise=f(2))}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(f,h,_){"use strict";var C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d};function P(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function L(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch(d){return}}var q=L();function ae(){try{if(!q||!q.open)return!1;var d=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),y=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!d||y)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch(p){return!1}}function Ie(d,y){d=d||[],y=y||{};try{return new Blob(d,y)}catch(E){if(E.name!=="TypeError")throw E;for(var p=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,x=new p,S=0;S<d.length;S+=1)x.append(d[S]);return x.getBlob(y.type)}}typeof Promise=="undefined"&&f(3);var z=Promise;function W(d,y){y&&d.then(function(p){y(null,p)},function(p){y(p)})}function Y(d,y,p){typeof y=="function"&&d.then(y),typeof p=="function"&&d.catch(p)}function xe(d){return typeof d!="string"&&(console.warn(d+" used as a key, but it is not a string."),d=String(d)),d}function ne(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var We="local-forage-detect-blob-support",at=void 0,ke={},De=Object.prototype.toString,rt="readonly",i="readwrite";function pe(d){for(var y=d.length,p=new ArrayBuffer(y),x=new Uint8Array(p),S=0;S<y;S++)x[S]=d.charCodeAt(S);return p}function J(d){return new z(function(y){var p=d.transaction(We,i),x=Ie([""]);p.objectStore(We).put(x,"key"),p.onabort=function(S){S.preventDefault(),S.stopPropagation(),y(!1)},p.oncomplete=function(){var S=navigator.userAgent.match(/Chrome\/(\d+)/),E=navigator.userAgent.match(/Edge\//);y(E||!S||parseInt(S[1],10)>=43)}}).catch(function(){return!1})}function Re(d){return typeof at=="boolean"?z.resolve(at):J(d).then(function(y){return at=y,at})}function Qe(d){var y=ke[d.name],p={};p.promise=new z(function(x,S){p.resolve=x,p.reject=S}),y.deferredOperations.push(p),y.dbReady?y.dbReady=y.dbReady.then(function(){return p.promise}):y.dbReady=p.promise}function Le(d){var y=ke[d.name],p=y.deferredOperations.pop();if(p)return p.resolve(),p.promise}function fe(d,y){var p=ke[d.name],x=p.deferredOperations.pop();if(x)return x.reject(y),x.promise}function Ye(d,y){return new z(function(p,x){if(ke[d.name]=ke[d.name]||Ge(),d.db)if(y)Qe(d),d.db.close();else return p(d.db);var S=[d.name];y&&S.push(d.version);var E=q.open.apply(q,S);y&&(E.onupgradeneeded=function(F){var N=E.result;try{N.createObjectStore(d.storeName),F.oldVersion<=1&&N.createObjectStore(We)}catch(B){if(B.name==="ConstraintError")console.warn('The database "'+d.name+'" has been upgraded from version '+F.oldVersion+" to version "+F.newVersion+', but the storage "'+d.storeName+'" already exists.');else throw B}}),E.onerror=function(F){F.preventDefault(),x(E.error)},E.onsuccess=function(){var F=E.result;F.onversionchange=function(N){N.target.close()},p(F),Le(d)}})}function Tt(d){return Ye(d,!1)}function _r(d){return Ye(d,!0)}function pt(d,y){if(!d.db)return!0;var p=!d.db.objectStoreNames.contains(d.storeName),x=d.version<d.db.version,S=d.version>d.db.version;if(x&&(d.version!==y&&console.warn('The database "'+d.name+`" can't be downgraded from version `+d.db.version+" to version "+d.version+"."),d.version=d.db.version),S||p){if(p){var E=d.db.version+1;E>d.version&&(d.version=E)}return!0}return!1}function Er(d){return new z(function(y,p){var x=new FileReader;x.onerror=p,x.onloadend=function(S){var E=btoa(S.target.result||"");y({__local_forage_encoded_blob:!0,data:E,type:d.type})},x.readAsBinaryString(d)})}function mt(d){var y=pe(atob(d.data));return Ie([y],{type:d.type})}function Qr(d){return d&&d.__local_forage_encoded_blob}function Zr(d){var y=this,p=y._initReady().then(function(){var x=ke[y._dbInfo.name];if(x&&x.dbReady)return x.dbReady});return Y(p,d,d),p}function $e(d){Qe(d);for(var y=ke[d.name],p=y.forages,x=0;x<p.length;x++){var S=p[x];S._dbInfo.db&&(S._dbInfo.db.close(),S._dbInfo.db=null)}return d.db=null,Tt(d).then(function(E){return d.db=E,pt(d)?_r(d):E}).then(function(E){d.db=y.db=E;for(var F=0;F<p.length;F++)p[F]._dbInfo.db=E}).catch(function(E){throw fe(d,E),E})}function gt(d,y,p,x){x===void 0&&(x=1);try{var S=d.db.transaction(d.storeName,y);p(null,S)}catch(E){if(x>0&&(!d.db||E.name==="InvalidStateError"||E.name==="NotFoundError"))return z.resolve().then(function(){if(!d.db||E.name==="NotFoundError"&&!d.db.objectStoreNames.contains(d.storeName)&&d.version<=d.db.version)return d.db&&(d.version=d.db.version+1),_r(d)}).then(function(){return $e(d).then(function(){gt(d,y,p,x-1)})}).catch(p);p(E)}}function Ge(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function En(d){var y=this,p={db:null};if(d)for(var x in d)p[x]=d[x];var S=ke[p.name];S||(S=Ge(),ke[p.name]=S),S.forages.push(y),y._initReady||(y._initReady=y.ready,y.ready=Zr);var E=[];function F(){return z.resolve()}for(var N=0;N<S.forages.length;N++){var B=S.forages[N];B!==y&&E.push(B._initReady().catch(F))}var G=S.forages.slice(0);return z.all(E).then(function(){return p.db=S.db,Tt(p)}).then(function(H){return p.db=H,pt(p,y._defaultConfig.version)?_r(p):H}).then(function(H){p.db=S.db=H,y._dbInfo=p;for(var te=0;te<G.length;te++){var de=G[te];de!==y&&(de._dbInfo.db=p.db,de._dbInfo.version=p.version)}})}function Ue(d,y){var p=this;d=xe(d);var x=new z(function(S,E){p.ready().then(function(){gt(p._dbInfo,rt,function(F,N){if(F)return E(F);try{var B=N.objectStore(p._dbInfo.storeName),G=B.get(d);G.onsuccess=function(){var H=G.result;H===void 0&&(H=null),Qr(H)&&(H=mt(H)),S(H)},G.onerror=function(){E(G.error)}}catch(H){E(H)}})}).catch(E)});return W(x,y),x}function xr(d,y){var p=this,x=new z(function(S,E){p.ready().then(function(){gt(p._dbInfo,rt,function(F,N){if(F)return E(F);try{var B=N.objectStore(p._dbInfo.storeName),G=B.openCursor(),H=1;G.onsuccess=function(){var te=G.result;if(te){var de=te.value;Qr(de)&&(de=mt(de));var Ae=d(de,te.key,H++);Ae!==void 0?S(Ae):te.continue()}else S()},G.onerror=function(){E(G.error)}}catch(te){E(te)}})}).catch(E)});return W(x,y),x}function Jr(d,y,p){var x=this;d=xe(d);var S=new z(function(E,F){var N;x.ready().then(function(){return N=x._dbInfo,De.call(y)==="[object Blob]"?Re(N.db).then(function(B){return B?y:Er(y)}):y}).then(function(B){gt(x._dbInfo,i,function(G,H){if(G)return F(G);try{var te=H.objectStore(x._dbInfo.storeName);B===null&&(B=void 0);var de=te.put(B,d);H.oncomplete=function(){B===void 0&&(B=null),E(B)},H.onabort=H.onerror=function(){var Ae=de.error?de.error:de.transaction.error;F(Ae)}}catch(Ae){F(Ae)}})}).catch(F)});return W(S,p),S}function en(d,y){var p=this;d=xe(d);var x=new z(function(S,E){p.ready().then(function(){gt(p._dbInfo,i,function(F,N){if(F)return E(F);try{var B=N.objectStore(p._dbInfo.storeName),G=B.delete(d);N.oncomplete=function(){S()},N.onerror=function(){E(G.error)},N.onabort=function(){var H=G.error?G.error:G.transaction.error;E(H)}}catch(H){E(H)}})}).catch(E)});return W(x,y),x}function vt(d){var y=this,p=new z(function(x,S){y.ready().then(function(){gt(y._dbInfo,i,function(E,F){if(E)return S(E);try{var N=F.objectStore(y._dbInfo.storeName),B=N.clear();F.oncomplete=function(){x()},F.onabort=F.onerror=function(){var G=B.error?B.error:B.transaction.error;S(G)}}catch(G){S(G)}})}).catch(S)});return W(p,d),p}function xn(d){var y=this,p=new z(function(x,S){y.ready().then(function(){gt(y._dbInfo,rt,function(E,F){if(E)return S(E);try{var N=F.objectStore(y._dbInfo.storeName),B=N.count();B.onsuccess=function(){x(B.result)},B.onerror=function(){S(B.error)}}catch(G){S(G)}})}).catch(S)});return W(p,d),p}function Kt(d,y){var p=this,x=new z(function(S,E){if(d<0){S(null);return}p.ready().then(function(){gt(p._dbInfo,rt,function(F,N){if(F)return E(F);try{var B=N.objectStore(p._dbInfo.storeName),G=!1,H=B.openKeyCursor();H.onsuccess=function(){var te=H.result;if(!te){S(null);return}d===0||G?S(te.key):(G=!0,te.advance(d))},H.onerror=function(){E(H.error)}}catch(te){E(te)}})}).catch(E)});return W(x,y),x}function Wt(d){var y=this,p=new z(function(x,S){y.ready().then(function(){gt(y._dbInfo,rt,function(E,F){if(E)return S(E);try{var N=F.objectStore(y._dbInfo.storeName),B=N.openKeyCursor(),G=[];B.onsuccess=function(){var H=B.result;if(!H){x(G);return}G.push(H.key),H.continue()},B.onerror=function(){S(B.error)}}catch(H){S(H)}})}).catch(S)});return W(p,d),p}function Or(d,y){y=ne.apply(this,arguments);var p=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||p.name,d.storeName=d.storeName||p.storeName);var x=this,S;if(!d.name)S=z.reject("Invalid arguments");else{var E=d.name===p.name&&x._dbInfo.db,F=E?z.resolve(x._dbInfo.db):Tt(d).then(function(N){var B=ke[d.name],G=B.forages;B.db=N;for(var H=0;H<G.length;H++)G[H]._dbInfo.db=N;return N});d.storeName?S=F.then(function(N){if(!!N.objectStoreNames.contains(d.storeName)){var B=N.version+1;Qe(d);var G=ke[d.name],H=G.forages;N.close();for(var te=0;te<H.length;te++){var de=H[te];de._dbInfo.db=null,de._dbInfo.version=B}var Ae=new z(function(Pe,Oe){var Fe=q.open(d.name,B);Fe.onerror=function(_t){var cn=Fe.result;cn.close(),Oe(_t)},Fe.onupgradeneeded=function(){var _t=Fe.result;_t.deleteObjectStore(d.storeName)},Fe.onsuccess=function(){var _t=Fe.result;_t.close(),Pe(_t)}});return Ae.then(function(Pe){G.db=Pe;for(var Oe=0;Oe<H.length;Oe++){var Fe=H[Oe];Fe._dbInfo.db=Pe,Le(Fe._dbInfo)}}).catch(function(Pe){throw(fe(d,Pe)||z.resolve()).catch(function(){}),Pe})}}):S=F.then(function(N){Qe(d);var B=ke[d.name],G=B.forages;N.close();for(var H=0;H<G.length;H++){var te=G[H];te._dbInfo.db=null}var de=new z(function(Ae,Pe){var Oe=q.deleteDatabase(d.name);Oe.onerror=function(){var Fe=Oe.result;Fe&&Fe.close(),Pe(Oe.error)},Oe.onblocked=function(){console.warn('dropInstance blocked for database "'+d.name+'" until all open connections are closed')},Oe.onsuccess=function(){var Fe=Oe.result;Fe&&Fe.close(),Ae(Fe)}});return de.then(function(Ae){B.db=Ae;for(var Pe=0;Pe<G.length;Pe++){var Oe=G[Pe];Le(Oe._dbInfo)}}).catch(function(Ae){throw(fe(d,Ae)||z.resolve()).catch(function(){}),Ae})})}return W(S,y),S}var Qt={_driver:"asyncStorage",_initStorage:En,_support:ae(),iterate:xr,getItem:Ue,setItem:Jr,removeItem:en,clear:vt,length:xn,key:Kt,keys:Wt,dropInstance:Or};function Tr(){return typeof openDatabase=="function"}var lt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",st="~~local_forage_type~",Sr=/^~~local_forage_type~([^~]+)~/,Zt="__lfsc__:",Nr=Zt.length,ut="arbf",Jt="blob",Bt="si08",Z="ui08",Be="uic8",er="si16",tn="si32",rn="ur16",Wr="ui32",Cr="fl32",tr="fl64",ft=Nr+ut.length,St=Object.prototype.toString;function nt(d){var y=d.length*.75,p=d.length,x,S=0,E,F,N,B;d[d.length-1]==="="&&(y--,d[d.length-2]==="="&&y--);var G=new ArrayBuffer(y),H=new Uint8Array(G);for(x=0;x<p;x+=4)E=lt.indexOf(d[x]),F=lt.indexOf(d[x+1]),N=lt.indexOf(d[x+2]),B=lt.indexOf(d[x+3]),H[S++]=E<<2|F>>4,H[S++]=(F&15)<<4|N>>2,H[S++]=(N&3)<<6|B&63;return G}function $t(d){var y=new Uint8Array(d),p="",x;for(x=0;x<y.length;x+=3)p+=lt[y[x]>>2],p+=lt[(y[x]&3)<<4|y[x+1]>>4],p+=lt[(y[x+1]&15)<<2|y[x+2]>>6],p+=lt[y[x+2]&63];return y.length%3==2?p=p.substring(0,p.length-1)+"=":y.length%3==1&&(p=p.substring(0,p.length-2)+"=="),p}function fr(d,y){var p="";if(d&&(p=St.call(d)),d&&(p==="[object ArrayBuffer]"||d.buffer&&St.call(d.buffer)==="[object ArrayBuffer]")){var x,S=Zt;d instanceof ArrayBuffer?(x=d,S+=ut):(x=d.buffer,p==="[object Int8Array]"?S+=Bt:p==="[object Uint8Array]"?S+=Z:p==="[object Uint8ClampedArray]"?S+=Be:p==="[object Int16Array]"?S+=er:p==="[object Uint16Array]"?S+=rn:p==="[object Int32Array]"?S+=tn:p==="[object Uint32Array]"?S+=Wr:p==="[object Float32Array]"?S+=Cr:p==="[object Float64Array]"?S+=tr:y(new Error("Failed to get type for BinaryArray"))),y(S+$t(x))}else if(p==="[object Blob]"){var E=new FileReader;E.onload=function(){var F=st+d.type+"~"+$t(this.result);y(Zt+Jt+F)},E.readAsArrayBuffer(d)}else try{y(JSON.stringify(d))}catch(F){console.error("Couldn't convert value into a JSON string: ",d),y(null,F)}}function Hr(d){if(d.substring(0,Nr)!==Zt)return JSON.parse(d);var y=d.substring(ft),p=d.substring(Nr,ft),x;if(p===Jt&&Sr.test(y)){var S=y.match(Sr);x=S[1],y=y.substring(S[0].length)}var E=nt(y);switch(p){case ut:return E;case Jt:return Ie([E],{type:x});case Bt:return new Int8Array(E);case Z:return new Uint8Array(E);case Be:return new Uint8ClampedArray(E);case er:return new Int16Array(E);case rn:return new Uint16Array(E);case tn:return new Int32Array(E);case Wr:return new Uint32Array(E);case Cr:return new Float32Array(E);case tr:return new Float64Array(E);default:throw new Error("Unkown type: "+p)}}var Ur={serialize:fr,deserialize:Hr,stringToBuffer:nt,bufferToString:$t};function Ar(d,y,p,x){d.executeSql("CREATE TABLE IF NOT EXISTS "+y.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],p,x)}function Ht(d){var y=this,p={db:null};if(d)for(var x in d)p[x]=typeof d[x]!="string"?d[x].toString():d[x];var S=new z(function(E,F){try{p.db=openDatabase(p.name,String(p.version),p.description,p.size)}catch(N){return F(N)}p.db.transaction(function(N){Ar(N,p,function(){y._dbInfo=p,E()},function(B,G){F(G)})},F)});return p.serializer=Ur,S}function yt(d,y,p,x,S,E){d.executeSql(p,x,S,function(F,N){N.code===N.SYNTAX_ERR?F.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[y.storeName],function(B,G){G.rows.length?E(B,N):Ar(B,y,function(){B.executeSql(p,x,S,E)},E)},E):E(F,N)},E)}function cr(d,y){var p=this;d=xe(d);var x=new z(function(S,E){p.ready().then(function(){var F=p._dbInfo;F.db.transaction(function(N){yt(N,F,"SELECT * FROM "+F.storeName+" WHERE key = ? LIMIT 1",[d],function(B,G){var H=G.rows.length?G.rows.item(0).value:null;H&&(H=F.serializer.deserialize(H)),S(H)},function(B,G){E(G)})})}).catch(E)});return W(x,y),x}function Tn(d,y){var p=this,x=new z(function(S,E){p.ready().then(function(){var F=p._dbInfo;F.db.transaction(function(N){yt(N,F,"SELECT * FROM "+F.storeName,[],function(B,G){for(var H=G.rows,te=H.length,de=0;de<te;de++){var Ae=H.item(de),Pe=Ae.value;if(Pe&&(Pe=F.serializer.deserialize(Pe)),Pe=d(Pe,Ae.key,de+1),Pe!==void 0){S(Pe);return}}S()},function(B,G){E(G)})})}).catch(E)});return W(x,y),x}function ct(d,y,p,x){var S=this;d=xe(d);var E=new z(function(F,N){S.ready().then(function(){y===void 0&&(y=null);var B=y,G=S._dbInfo;G.serializer.serialize(y,function(H,te){te?N(te):G.db.transaction(function(de){yt(de,G,"INSERT OR REPLACE INTO "+G.storeName+" (key, value) VALUES (?, ?)",[d,H],function(){F(B)},function(Ae,Pe){N(Pe)})},function(de){if(de.code===de.QUOTA_ERR){if(x>0){F(ct.apply(S,[d,B,p,x-1]));return}N(de)}})})}).catch(N)});return W(E,p),E}function Ee(d,y,p){return ct.apply(this,[d,y,p,1])}function Gt(d,y){var p=this;d=xe(d);var x=new z(function(S,E){p.ready().then(function(){var F=p._dbInfo;F.db.transaction(function(N){yt(N,F,"DELETE FROM "+F.storeName+" WHERE key = ?",[d],function(){S()},function(B,G){E(G)})})}).catch(E)});return W(x,y),x}function Mn(d){var y=this,p=new z(function(x,S){y.ready().then(function(){var E=y._dbInfo;E.db.transaction(function(F){yt(F,E,"DELETE FROM "+E.storeName,[],function(){x()},function(N,B){S(B)})})}).catch(S)});return W(p,d),p}function nn(d){var y=this,p=new z(function(x,S){y.ready().then(function(){var E=y._dbInfo;E.db.transaction(function(F){yt(F,E,"SELECT COUNT(key) as c FROM "+E.storeName,[],function(N,B){var G=B.rows.item(0).c;x(G)},function(N,B){S(B)})})}).catch(S)});return W(p,d),p}function jr(d,y){var p=this,x=new z(function(S,E){p.ready().then(function(){var F=p._dbInfo;F.db.transaction(function(N){yt(N,F,"SELECT key FROM "+F.storeName+" WHERE id = ? LIMIT 1",[d+1],function(B,G){var H=G.rows.length?G.rows.item(0).key:null;S(H)},function(B,G){E(G)})})}).catch(E)});return W(x,y),x}function rr(d){var y=this,p=new z(function(x,S){y.ready().then(function(){var E=y._dbInfo;E.db.transaction(function(F){yt(F,E,"SELECT key FROM "+E.storeName,[],function(N,B){for(var G=[],H=0;H<B.rows.length;H++)G.push(B.rows.item(H).key);x(G)},function(N,B){S(B)})})}).catch(S)});return W(p,d),p}function nr(d){return new z(function(y,p){d.transaction(function(x){x.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(S,E){for(var F=[],N=0;N<E.rows.length;N++)F.push(E.rows.item(N).name);y({db:d,storeNames:F})},function(S,E){p(E)})},function(x){p(x)})})}function on(d,y){y=ne.apply(this,arguments);var p=this.config();d=typeof d!="function"&&d||{},d.name||(d.name=d.name||p.name,d.storeName=d.storeName||p.storeName);var x=this,S;return d.name?S=new z(function(E){var F;d.name===p.name?F=x._dbInfo.db:F=openDatabase(d.name,"","",0),d.storeName?E({db:F,storeNames:[d.storeName]}):E(nr(F))}).then(function(E){return new z(function(F,N){E.db.transaction(function(B){function G(Ae){return new z(function(Pe,Oe){B.executeSql("DROP TABLE IF EXISTS "+Ae,[],function(){Pe()},function(Fe,_t){Oe(_t)})})}for(var H=[],te=0,de=E.storeNames.length;te<de;te++)H.push(G(E.storeNames[te]));z.all(H).then(function(){F()}).catch(function(Ae){N(Ae)})},function(B){N(B)})})}):S=z.reject("Invalid arguments"),W(S,y),S}var dt={_driver:"webSQLStorage",_initStorage:Ht,_support:Tr(),iterate:Tn,getItem:cr,setItem:Ee,removeItem:Gt,clear:Mn,length:nn,key:jr,keys:rr,dropInstance:on};function Br(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(d){return!1}}function an(d,y){var p=d.name+"/";return d.storeName!==y.storeName&&(p+=d.storeName+"/"),p}function Sn(){var d="_localforage_support_test";try{return localStorage.setItem(d,!0),localStorage.removeItem(d),!1}catch(y){return!0}}function $r(){return!Sn()||localStorage.length>0}function Cn(d){var y=this,p={};if(d)for(var x in d)p[x]=d[x];return p.keyPrefix=an(d,y._defaultConfig),$r()?(y._dbInfo=p,p.serializer=Ur,z.resolve()):z.reject()}function Ut(d){var y=this,p=y.ready().then(function(){for(var x=y._dbInfo.keyPrefix,S=localStorage.length-1;S>=0;S--){var E=localStorage.key(S);E.indexOf(x)===0&&localStorage.removeItem(E)}});return W(p,d),p}function sn(d,y){var p=this;d=xe(d);var x=p.ready().then(function(){var S=p._dbInfo,E=localStorage.getItem(S.keyPrefix+d);return E&&(E=S.serializer.deserialize(E)),E});return W(x,y),x}function An(d,y){var p=this,x=p.ready().then(function(){for(var S=p._dbInfo,E=S.keyPrefix,F=E.length,N=localStorage.length,B=1,G=0;G<N;G++){var H=localStorage.key(G);if(H.indexOf(E)===0){var te=localStorage.getItem(H);if(te&&(te=S.serializer.deserialize(te)),te=d(te,H.substring(F),B++),te!==void 0)return te}}});return W(x,y),x}function ir(d,y){var p=this,x=p.ready().then(function(){var S=p._dbInfo,E;try{E=localStorage.key(d)}catch(F){E=null}return E&&(E=E.substring(S.keyPrefix.length)),E});return W(x,y),x}function ln(d){var y=this,p=y.ready().then(function(){for(var x=y._dbInfo,S=localStorage.length,E=[],F=0;F<S;F++){var N=localStorage.key(F);N.indexOf(x.keyPrefix)===0&&E.push(N.substring(x.keyPrefix.length))}return E});return W(p,d),p}function un(d){var y=this,p=y.keys().then(function(x){return x.length});return W(p,d),p}function ie(d,y){var p=this;d=xe(d);var x=p.ready().then(function(){var S=p._dbInfo;localStorage.removeItem(S.keyPrefix+d)});return W(x,y),x}function w(d,y,p){var x=this;d=xe(d);var S=x.ready().then(function(){y===void 0&&(y=null);var E=y;return new z(function(F,N){var B=x._dbInfo;B.serializer.serialize(y,function(G,H){if(H)N(H);else try{localStorage.setItem(B.keyPrefix+d,G),F(E)}catch(te){(te.name==="QuotaExceededError"||te.name==="NS_ERROR_DOM_QUOTA_REACHED")&&N(te),N(te)}})})});return W(S,p),S}function j(d,y){if(y=ne.apply(this,arguments),d=typeof d!="function"&&d||{},!d.name){var p=this.config();d.name=d.name||p.name,d.storeName=d.storeName||p.storeName}var x=this,S;return d.name?S=new z(function(E){d.storeName?E(an(d,x._defaultConfig)):E(d.name+"/")}).then(function(E){for(var F=localStorage.length-1;F>=0;F--){var N=localStorage.key(F);N.indexOf(E)===0&&localStorage.removeItem(N)}}):S=z.reject("Invalid arguments"),W(S,y),S}var ee={_driver:"localStorageWrapper",_initStorage:Cn,_support:Br(),iterate:An,getItem:sn,setItem:w,removeItem:ie,clear:Ut,length:un,key:ir,keys:ln,dropInstance:j},Ce=function(y,p){return y===p||typeof y=="number"&&typeof p=="number"&&isNaN(y)&&isNaN(p)},Ze=function(y,p){for(var x=y.length,S=0;S<x;){if(Ce(y[S],p))return!0;S++}return!1},ze=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"},Ve={},bt={},Pt={INDEXEDDB:Qt,WEBSQL:dt,LOCALSTORAGE:ee},Je=[Pt.INDEXEDDB._driver,Pt.WEBSQL._driver,Pt.LOCALSTORAGE._driver],kr=["dropInstance"],Gr=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(kr),li={description:"",driver:Je.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ui(d,y){d[y]=function(){var p=arguments;return d.ready().then(function(){return d[y].apply(d,p)})}}function fn(){for(var d=1;d<arguments.length;d++){var y=arguments[d];if(y)for(var p in y)y.hasOwnProperty(p)&&(ze(y[p])?arguments[0][p]=y[p].slice():arguments[0][p]=y[p])}return arguments[0]}var fi=function(){function d(y){P(this,d);for(var p in Pt)if(Pt.hasOwnProperty(p)){var x=Pt[p],S=x._driver;this[p]=S,Ve[S]||this.defineDriver(x)}this._defaultConfig=fn({},li),this._config=fn({},this._defaultConfig,y),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return d.prototype.config=function(p){if((typeof p=="undefined"?"undefined":C(p))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var x in p){if(x==="storeName"&&(p[x]=p[x].replace(/\W/g,"_")),x==="version"&&typeof p[x]!="number")return new Error("Database version must be a number.");this._config[x]=p[x]}return"driver"in p&&p.driver?this.setDriver(this._config.driver):!0}else return typeof p=="string"?this._config[p]:this._config},d.prototype.defineDriver=function(p,x,S){var E=new z(function(F,N){try{var B=p._driver,G=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!p._driver){N(G);return}for(var H=Gr.concat("_initStorage"),te=0,de=H.length;te<de;te++){var Ae=H[te],Pe=!Ze(kr,Ae);if((Pe||p[Ae])&&typeof p[Ae]!="function"){N(G);return}}var Oe=function(){for(var cn=function(di){return function(){var Ui=new Error("Method "+di+" is not implemented by the current driver"),On=z.reject(Ui);return W(On,arguments[arguments.length-1]),On}},Dr=0,ci=kr.length;Dr<ci;Dr++){var dn=kr[Dr];p[dn]||(p[dn]=cn(dn))}};Oe();var Fe=function(cn){Ve[B]&&console.info("Redefining LocalForage driver: "+B),Ve[B]=p,bt[B]=cn,F()};"_support"in p?p._support&&typeof p._support=="function"?p._support().then(Fe,N):Fe(!!p._support):Fe(!0)}catch(_t){N(_t)}});return Y(E,x,S),E},d.prototype.driver=function(){return this._driver||null},d.prototype.getDriver=function(p,x,S){var E=Ve[p]?z.resolve(Ve[p]):z.reject(new Error("Driver not found."));return Y(E,x,S),E},d.prototype.getSerializer=function(p){var x=z.resolve(Ur);return Y(x,p),x},d.prototype.ready=function(p){var x=this,S=x._driverSet.then(function(){return x._ready===null&&(x._ready=x._initDriver()),x._ready});return Y(S,p,p),S},d.prototype.setDriver=function(p,x,S){var E=this;ze(p)||(p=[p]);var F=this._getSupportedDrivers(p);function N(){E._config.driver=E.driver()}function B(te){return E._extend(te),N(),E._ready=E._initStorage(E._config),E._ready}function G(te){return function(){var de=0;function Ae(){for(;de<te.length;){var Pe=te[de];return de++,E._dbInfo=null,E._ready=null,E.getDriver(Pe).then(B).catch(Ae)}N();var Oe=new Error("No available storage method found.");return E._driverSet=z.reject(Oe),E._driverSet}return Ae()}}var H=this._driverSet!==null?this._driverSet.catch(function(){return z.resolve()}):z.resolve();return this._driverSet=H.then(function(){var te=F[0];return E._dbInfo=null,E._ready=null,E.getDriver(te).then(function(de){E._driver=de._driver,N(),E._wrapLibraryMethodsWithReady(),E._initDriver=G(F)})}).catch(function(){N();var te=new Error("No available storage method found.");return E._driverSet=z.reject(te),E._driverSet}),Y(this._driverSet,x,S),this._driverSet},d.prototype.supports=function(p){return!!bt[p]},d.prototype._extend=function(p){fn(this,p)},d.prototype._getSupportedDrivers=function(p){for(var x=[],S=0,E=p.length;S<E;S++){var F=p[S];this.supports(F)&&x.push(F)}return x},d.prototype._wrapLibraryMethodsWithReady=function(){for(var p=0,x=Gr.length;p<x;p++)ui(this,Gr[p])},d.prototype.createInstance=function(p){return new d(p)},d}(),wt=new fi;h.exports=wt},{"3":3}]},{},[4])(4)})});var ha=Ji((da,Ti)=>{(function(s,r){"use strict";typeof Ti=="object"&&typeof Ti.exports=="object"?Ti.exports=s.document?r(s,!0):function(o){if(!o.document)throw new Error("jQuery requires a window with a document");return r(o)}:r(s)})(typeof window!="undefined"?window:da,function(s,r){"use strict";var o=[],f=Object.getPrototypeOf,h=o.slice,_=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},C=o.push,P=o.indexOf,L={},q=L.toString,ae=L.hasOwnProperty,Ie=ae.toString,z=Ie.call(Object),W={},Y=function(t){return typeof t=="function"&&typeof t.nodeType!="number"&&typeof t.item!="function"},xe=function(t){return t!=null&&t===t.window},ne=s.document,We={type:!0,src:!0,nonce:!0,noModule:!0};function at(e,t,n){n=n||ne;var a,l,u=n.createElement("script");if(u.text=e,t)for(a in We)l=t[a]||t.getAttribute&&t.getAttribute(a),l&&u.setAttribute(a,l);n.head.appendChild(u).parentNode.removeChild(u)}function ke(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?L[q.call(e)]||"object":typeof e}var De="3.7.1",rt=/HTML$/i,i=function(e,t){return new i.fn.init(e,t)};i.fn=i.prototype={jquery:De,constructor:i,length:0,toArray:function(){return h.call(this)},get:function(e){return e==null?h.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=i.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return i.each(this,e)},map:function(e){return this.pushStack(i.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(i.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(i.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:C,sort:o.sort,splice:o.splice},i.extend=i.fn.extend=function(){var e,t,n,a,l,u,c=arguments[0]||{},v=1,g=arguments.length,T=!1;for(typeof c=="boolean"&&(T=c,c=arguments[v]||{},v++),typeof c!="object"&&!Y(c)&&(c={}),v===g&&(c=this,v--);v<g;v++)if((e=arguments[v])!=null)for(t in e)a=e[t],!(t==="__proto__"||c===a)&&(T&&a&&(i.isPlainObject(a)||(l=Array.isArray(a)))?(n=c[t],l&&!Array.isArray(n)?u=[]:!l&&!i.isPlainObject(n)?u={}:u=n,l=!1,c[t]=i.extend(T,u,a)):a!==void 0&&(c[t]=a));return c},i.extend({expando:"jQuery"+(De+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!e||q.call(e)!=="[object Object]"?!1:(t=f(e),t?(n=ae.call(t,"constructor")&&t.constructor,typeof n=="function"&&Ie.call(n)===z):!0)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){at(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,a=0;if(pe(e))for(n=e.length;a<n&&t.call(e[a],a,e[a])!==!1;a++);else for(a in e)if(t.call(e[a],a,e[a])===!1)break;return e},text:function(e){var t,n="",a=0,l=e.nodeType;if(!l)for(;t=e[a++];)n+=i.text(t);return l===1||l===11?e.textContent:l===9?e.documentElement.textContent:l===3||l===4?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return e!=null&&(pe(Object(e))?i.merge(n,typeof e=="string"?[e]:e):C.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:P.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!rt.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,a=0,l=e.length;a<n;a++)e[l++]=t[a];return e.length=l,e},grep:function(e,t,n){for(var a,l=[],u=0,c=e.length,v=!n;u<c;u++)a=!t(e[u],u),a!==v&&l.push(e[u]);return l},map:function(e,t,n){var a,l,u=0,c=[];if(pe(e))for(a=e.length;u<a;u++)l=t(e[u],u,n),l!=null&&c.push(l);else for(u in e)l=t(e[u],u,n),l!=null&&c.push(l);return _(c)},guid:1,support:W}),typeof Symbol=="function"&&(i.fn[Symbol.iterator]=o[Symbol.iterator]),i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){L["[object "+t+"]"]=t.toLowerCase()});function pe(e){var t=!!e&&"length"in e&&e.length,n=ke(e);return Y(e)||xe(e)?!1:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function J(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Re=o.pop,Qe=o.sort,Le=o.splice,fe="[\\x20\\t\\r\\n\\f]",Ye=new RegExp("^"+fe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+fe+"+$","g");i.contains=function(e,t){var n=t&&t.parentNode;return e===n||!!(n&&n.nodeType===1&&(e.contains?e.contains(n):e.compareDocumentPosition&&e.compareDocumentPosition(n)&16))};var Tt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function _r(e,t){return t?e==="\0"?"\uFFFD":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}i.escapeSelector=function(e){return(e+"").replace(Tt,_r)};var pt=ne,Er=C;(function(){var e,t,n,a,l,u=Er,c,v,g,T,I,O=i.expando,k=0,U=0,ue=hi(),Te=hi(),ge=hi(),ht=hi(),it=function(m,b){return m===b&&(l=!0),0},dr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",hr="(?:\\\\[\\da-fA-F]{1,6}"+fe+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",_e="\\["+fe+"*("+hr+")(?:"+fe+"*([*^$|!~]?=)"+fe+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+hr+"))|)"+fe+"*\\]",hn=":("+hr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+_e+")*)|.*)\\)|)",Se=new RegExp(fe+"+","g"),Xe=new RegExp("^"+fe+"*,"+fe+"*"),Wn=new RegExp("^"+fe+"*([>+~]|"+fe+")"+fe+"*"),Vi=new RegExp(fe+"|>"),pr=new RegExp(hn),Hn=new RegExp("^"+hr+"$"),mr={ID:new RegExp("^#("+hr+")"),CLASS:new RegExp("^\\.("+hr+")"),TAG:new RegExp("^("+hr+"|[*])"),ATTR:new RegExp("^"+_e),PSEUDO:new RegExp("^"+hn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+fe+"*(even|odd|(([+-]|)(\\d*)n|)"+fe+"*(?:([+-]|)"+fe+"*(\\d+)|))"+fe+"*\\)|)","i"),bool:new RegExp("^(?:"+dr+")$","i"),needsContext:new RegExp("^"+fe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+fe+"*((?:-\\d)?\\d*)"+fe+"*\\)|)(?=[^-]|$)","i")},zr=/^(?:input|select|textarea|button)$/i,Vr=/^h\d$/i,zt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,qi=/[+~]/,Rr=new RegExp("\\\\[\\da-fA-F]{1,6}"+fe+"?|\\\\([^\\r\\n\\f])","g"),Lr=function(m,b){var A="0x"+m.slice(1)-65536;return b||(A<0?String.fromCharCode(A+65536):String.fromCharCode(A>>10|55296,A&1023|56320))},Ws=function(){qr()},Hs=mi(function(m){return m.disabled===!0&&J(m,"fieldset")},{dir:"parentNode",next:"legend"});function Us(){try{return c.activeElement}catch(m){}}try{u.apply(o=h.call(pt.childNodes),pt.childNodes),o[pt.childNodes.length].nodeType}catch(m){u={apply:function(b,A){Er.apply(b,h.call(A))},call:function(b){Er.apply(b,h.call(arguments,1))}}}function Me(m,b,A,R){var M,V,X,oe,K,ye,le,ce=b&&b.ownerDocument,be=b?b.nodeType:9;if(A=A||[],typeof m!="string"||!m||be!==1&&be!==9&&be!==11)return A;if(!R&&(qr(b),b=b||c,g)){if(be!==11&&(K=zt.exec(m)))if(M=K[1]){if(be===9)if(X=b.getElementById(M)){if(X.id===M)return u.call(A,X),A}else return A;else if(ce&&(X=ce.getElementById(M))&&Me.contains(b,X)&&X.id===M)return u.call(A,X),A}else{if(K[2])return u.apply(A,b.getElementsByTagName(m)),A;if((M=K[3])&&b.getElementsByClassName)return u.apply(A,b.getElementsByClassName(M)),A}if(!ht[m+" "]&&(!T||!T.test(m))){if(le=m,ce=b,be===1&&(Vi.test(m)||Wn.test(m))){for(ce=qi.test(m)&&Yi(b.parentNode)||b,(ce!=b||!W.scope)&&((oe=b.getAttribute("id"))?oe=i.escapeSelector(oe):b.setAttribute("id",oe=O)),ye=Un(m),V=ye.length;V--;)ye[V]=(oe?"#"+oe:":scope")+" "+pi(ye[V]);le=ye.join(",")}try{return u.apply(A,ce.querySelectorAll(le)),A}catch(se){ht(m,!0)}finally{oe===O&&b.removeAttribute("id")}}}return Zo(m.replace(Ye,"$1"),b,A,R)}function hi(){var m=[];function b(A,R){return m.push(A+" ")>t.cacheLength&&delete b[m.shift()],b[A+" "]=R}return b}function or(m){return m[O]=!0,m}function kn(m){var b=c.createElement("fieldset");try{return!!m(b)}catch(A){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function js(m){return function(b){return J(b,"input")&&b.type===m}}function Bs(m){return function(b){return(J(b,"input")||J(b,"button"))&&b.type===m}}function Ko(m){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===m:b.disabled===m:b.isDisabled===m||b.isDisabled!==!m&&Hs(b)===m:b.disabled===m:"label"in b?b.disabled===m:!1}}function pn(m){return or(function(b){return b=+b,or(function(A,R){for(var M,V=m([],A.length,b),X=V.length;X--;)A[M=V[X]]&&(A[M]=!(R[M]=A[M]))})})}function Yi(m){return m&&typeof m.getElementsByTagName!="undefined"&&m}function qr(m){var b,A=m?m.ownerDocument||m:pt;return A==c||A.nodeType!==9||!A.documentElement||(c=A,v=c.documentElement,g=!i.isXMLDoc(c),I=v.matches||v.webkitMatchesSelector||v.msMatchesSelector,v.msMatchesSelector&&pt!=c&&(b=c.defaultView)&&b.top!==b&&b.addEventListener("unload",Ws),W.getById=kn(function(R){return v.appendChild(R).id=i.expando,!c.getElementsByName||!c.getElementsByName(i.expando).length}),W.disconnectedMatch=kn(function(R){return I.call(R,"*")}),W.scope=kn(function(){return c.querySelectorAll(":scope")}),W.cssHas=kn(function(){try{return c.querySelector(":has(*,:jqfake)"),!1}catch(R){return!0}}),W.getById?(t.filter.ID=function(R){var M=R.replace(Rr,Lr);return function(V){return V.getAttribute("id")===M}},t.find.ID=function(R,M){if(typeof M.getElementById!="undefined"&&g){var V=M.getElementById(R);return V?[V]:[]}}):(t.filter.ID=function(R){var M=R.replace(Rr,Lr);return function(V){var X=typeof V.getAttributeNode!="undefined"&&V.getAttributeNode("id");return X&&X.value===M}},t.find.ID=function(R,M){if(typeof M.getElementById!="undefined"&&g){var V,X,oe,K=M.getElementById(R);if(K){if(V=K.getAttributeNode("id"),V&&V.value===R)return[K];for(oe=M.getElementsByName(R),X=0;K=oe[X++];)if(V=K.getAttributeNode("id"),V&&V.value===R)return[K]}return[]}}),t.find.TAG=function(R,M){return typeof M.getElementsByTagName!="undefined"?M.getElementsByTagName(R):M.querySelectorAll(R)},t.find.CLASS=function(R,M){if(typeof M.getElementsByClassName!="undefined"&&g)return M.getElementsByClassName(R)},T=[],kn(function(R){var M;v.appendChild(R).innerHTML="<a id='"+O+"' href='' disabled='disabled'></a><select id='"+O+"-\r\\' disabled='disabled'><option selected=''></option></select>",R.querySelectorAll("[selected]").length||T.push("\\["+fe+"*(?:value|"+dr+")"),R.querySelectorAll("[id~="+O+"-]").length||T.push("~="),R.querySelectorAll("a#"+O+"+*").length||T.push(".#.+[+~]"),R.querySelectorAll(":checked").length||T.push(":checked"),M=c.createElement("input"),M.setAttribute("type","hidden"),R.appendChild(M).setAttribute("name","D"),v.appendChild(R).disabled=!0,R.querySelectorAll(":disabled").length!==2&&T.push(":enabled",":disabled"),M=c.createElement("input"),M.setAttribute("name",""),R.appendChild(M),R.querySelectorAll("[name='']").length||T.push("\\["+fe+"*name"+fe+"*="+fe+`*(?:''|"")`)}),W.cssHas||T.push(":has"),T=T.length&&new RegExp(T.join("|")),it=function(R,M){if(R===M)return l=!0,0;var V=!R.compareDocumentPosition-!M.compareDocumentPosition;return V||(V=(R.ownerDocument||R)==(M.ownerDocument||M)?R.compareDocumentPosition(M):1,V&1||!W.sortDetached&&M.compareDocumentPosition(R)===V?R===c||R.ownerDocument==pt&&Me.contains(pt,R)?-1:M===c||M.ownerDocument==pt&&Me.contains(pt,M)?1:a?P.call(a,R)-P.call(a,M):0:V&4?-1:1)}),c}Me.matches=function(m,b){return Me(m,null,null,b)},Me.matchesSelector=function(m,b){if(qr(m),g&&!ht[b+" "]&&(!T||!T.test(b)))try{var A=I.call(m,b);if(A||W.disconnectedMatch||m.document&&m.document.nodeType!==11)return A}catch(R){ht(b,!0)}return Me(b,c,null,[m]).length>0},Me.contains=function(m,b){return(m.ownerDocument||m)!=c&&qr(m),i.contains(m,b)},Me.attr=function(m,b){(m.ownerDocument||m)!=c&&qr(m);var A=t.attrHandle[b.toLowerCase()],R=A&&ae.call(t.attrHandle,b.toLowerCase())?A(m,b,!g):void 0;return R!==void 0?R:m.getAttribute(b)},Me.error=function(m){throw new Error("Syntax error, unrecognized expression: "+m)},i.uniqueSort=function(m){var b,A=[],R=0,M=0;if(l=!W.sortStable,a=!W.sortStable&&h.call(m,0),Qe.call(m,it),l){for(;b=m[M++];)b===m[M]&&(R=A.push(M));for(;R--;)Le.call(m,A[R],1)}return a=null,m},i.fn.uniqueSort=function(){return this.pushStack(i.uniqueSort(h.apply(this)))},t=i.expr={cacheLength:50,createPseudo:or,match:mr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(m){return m[1]=m[1].replace(Rr,Lr),m[3]=(m[3]||m[4]||m[5]||"").replace(Rr,Lr),m[2]==="~="&&(m[3]=" "+m[3]+" "),m.slice(0,4)},CHILD:function(m){return m[1]=m[1].toLowerCase(),m[1].slice(0,3)==="nth"?(m[3]||Me.error(m[0]),m[4]=+(m[4]?m[5]+(m[6]||1):2*(m[3]==="even"||m[3]==="odd")),m[5]=+(m[7]+m[8]||m[3]==="odd")):m[3]&&Me.error(m[0]),m},PSEUDO:function(m){var b,A=!m[6]&&m[2];return mr.CHILD.test(m[0])?null:(m[3]?m[2]=m[4]||m[5]||"":A&&pr.test(A)&&(b=Un(A,!0))&&(b=A.indexOf(")",A.length-b)-A.length)&&(m[0]=m[0].slice(0,b),m[2]=A.slice(0,b)),m.slice(0,3))}},filter:{TAG:function(m){var b=m.replace(Rr,Lr).toLowerCase();return m==="*"?function(){return!0}:function(A){return J(A,b)}},CLASS:function(m){var b=ue[m+" "];return b||(b=new RegExp("(^|"+fe+")"+m+"("+fe+"|$)"))&&ue(m,function(A){return b.test(typeof A.className=="string"&&A.className||typeof A.getAttribute!="undefined"&&A.getAttribute("class")||"")})},ATTR:function(m,b,A){return function(R){var M=Me.attr(R,m);return M==null?b==="!=":b?(M+="",b==="="?M===A:b==="!="?M!==A:b==="^="?A&&M.indexOf(A)===0:b==="*="?A&&M.indexOf(A)>-1:b==="$="?A&&M.slice(-A.length)===A:b==="~="?(" "+M.replace(Se," ")+" ").indexOf(A)>-1:b==="|="?M===A||M.slice(0,A.length+1)===A+"-":!1):!0}},CHILD:function(m,b,A,R,M){var V=m.slice(0,3)!=="nth",X=m.slice(-4)!=="last",oe=b==="of-type";return R===1&&M===0?function(K){return!!K.parentNode}:function(K,ye,le){var ce,be,se,He,It,Et=V!==X?"nextSibling":"previousSibling",Vt=K.parentNode,gr=oe&&K.nodeName.toLowerCase(),Dn=!le&&!oe,Ct=!1;if(Vt){if(V){for(;Et;){for(se=K;se=se[Et];)if(oe?J(se,gr):se.nodeType===1)return!1;It=Et=m==="only"&&!It&&"nextSibling"}return!0}if(It=[X?Vt.firstChild:Vt.lastChild],X&&Dn){for(be=Vt[O]||(Vt[O]={}),ce=be[m]||[],He=ce[0]===k&&ce[1],Ct=He&&ce[2],se=He&&Vt.childNodes[He];se=++He&&se&&se[Et]||(Ct=He=0)||It.pop();)if(se.nodeType===1&&++Ct&&se===K){be[m]=[k,He,Ct];break}}else if(Dn&&(be=K[O]||(K[O]={}),ce=be[m]||[],He=ce[0]===k&&ce[1],Ct=He),Ct===!1)for(;(se=++He&&se&&se[Et]||(Ct=He=0)||It.pop())&&!((oe?J(se,gr):se.nodeType===1)&&++Ct&&(Dn&&(be=se[O]||(se[O]={}),be[m]=[k,Ct]),se===K)););return Ct-=M,Ct===R||Ct%R==0&&Ct/R>=0}}},PSEUDO:function(m,b){var A,R=t.pseudos[m]||t.setFilters[m.toLowerCase()]||Me.error("unsupported pseudo: "+m);return R[O]?R(b):R.length>1?(A=[m,m,"",b],t.setFilters.hasOwnProperty(m.toLowerCase())?or(function(M,V){for(var X,oe=R(M,b),K=oe.length;K--;)X=P.call(M,oe[K]),M[X]=!(V[X]=oe[K])}):function(M){return R(M,0,A)}):R}},pseudos:{not:or(function(m){var b=[],A=[],R=Zi(m.replace(Ye,"$1"));return R[O]?or(function(M,V,X,oe){for(var K,ye=R(M,null,oe,[]),le=M.length;le--;)(K=ye[le])&&(M[le]=!(V[le]=K))}):function(M,V,X){return b[0]=M,R(b,null,X,A),b[0]=null,!A.pop()}}),has:or(function(m){return function(b){return Me(m,b).length>0}}),contains:or(function(m){return m=m.replace(Rr,Lr),function(b){return(b.textContent||i.text(b)).indexOf(m)>-1}}),lang:or(function(m){return Hn.test(m||"")||Me.error("unsupported lang: "+m),m=m.replace(Rr,Lr).toLowerCase(),function(b){var A;do if(A=g?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return A=A.toLowerCase(),A===m||A.indexOf(m+"-")===0;while((b=b.parentNode)&&b.nodeType===1);return!1}}),target:function(m){var b=s.location&&s.location.hash;return b&&b.slice(1)===m.id},root:function(m){return m===v},focus:function(m){return m===Us()&&c.hasFocus()&&!!(m.type||m.href||~m.tabIndex)},enabled:Ko(!1),disabled:Ko(!0),checked:function(m){return J(m,"input")&&!!m.checked||J(m,"option")&&!!m.selected},selected:function(m){return m.parentNode&&m.parentNode.selectedIndex,m.selected===!0},empty:function(m){for(m=m.firstChild;m;m=m.nextSibling)if(m.nodeType<6)return!1;return!0},parent:function(m){return!t.pseudos.empty(m)},header:function(m){return Vr.test(m.nodeName)},input:function(m){return zr.test(m.nodeName)},button:function(m){return J(m,"input")&&m.type==="button"||J(m,"button")},text:function(m){var b;return J(m,"input")&&m.type==="text"&&((b=m.getAttribute("type"))==null||b.toLowerCase()==="text")},first:pn(function(){return[0]}),last:pn(function(m,b){return[b-1]}),eq:pn(function(m,b,A){return[A<0?A+b:A]}),even:pn(function(m,b){for(var A=0;A<b;A+=2)m.push(A);return m}),odd:pn(function(m,b){for(var A=1;A<b;A+=2)m.push(A);return m}),lt:pn(function(m,b,A){var R;for(A<0?R=A+b:A>b?R=b:R=A;--R>=0;)m.push(R);return m}),gt:pn(function(m,b,A){for(var R=A<0?A+b:A;++R<b;)m.push(R);return m})}},t.pseudos.nth=t.pseudos.eq;for(e in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=js(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=Bs(e);function Qo(){}Qo.prototype=t.filters=t.pseudos,t.setFilters=new Qo;function Un(m,b){var A,R,M,V,X,oe,K,ye=Te[m+" "];if(ye)return b?0:ye.slice(0);for(X=m,oe=[],K=t.preFilter;X;){(!A||(R=Xe.exec(X)))&&(R&&(X=X.slice(R[0].length)||X),oe.push(M=[])),A=!1,(R=Wn.exec(X))&&(A=R.shift(),M.push({value:A,type:R[0].replace(Ye," ")}),X=X.slice(A.length));for(V in t.filter)(R=mr[V].exec(X))&&(!K[V]||(R=K[V](R)))&&(A=R.shift(),M.push({value:A,type:V,matches:R}),X=X.slice(A.length));if(!A)break}return b?X.length:X?Me.error(m):Te(m,oe).slice(0)}function pi(m){for(var b=0,A=m.length,R="";b<A;b++)R+=m[b].value;return R}function mi(m,b,A){var R=b.dir,M=b.next,V=M||R,X=A&&V==="parentNode",oe=U++;return b.first?function(K,ye,le){for(;K=K[R];)if(K.nodeType===1||X)return m(K,ye,le);return!1}:function(K,ye,le){var ce,be,se=[k,oe];if(le){for(;K=K[R];)if((K.nodeType===1||X)&&m(K,ye,le))return!0}else for(;K=K[R];)if(K.nodeType===1||X)if(be=K[O]||(K[O]={}),M&&J(K,M))K=K[R]||K;else{if((ce=be[V])&&ce[0]===k&&ce[1]===oe)return se[2]=ce[2];if(be[V]=se,se[2]=m(K,ye,le))return!0}return!1}}function Xi(m){return m.length>1?function(b,A,R){for(var M=m.length;M--;)if(!m[M](b,A,R))return!1;return!0}:m[0]}function $s(m,b,A){for(var R=0,M=b.length;R<M;R++)Me(m,b[R],A);return A}function gi(m,b,A,R,M){for(var V,X=[],oe=0,K=m.length,ye=b!=null;oe<K;oe++)(V=m[oe])&&(!A||A(V,R,M))&&(X.push(V),ye&&b.push(oe));return X}function Ki(m,b,A,R,M,V){return R&&!R[O]&&(R=Ki(R)),M&&!M[O]&&(M=Ki(M,V)),or(function(X,oe,K,ye){var le,ce,be,se,He=[],It=[],Et=oe.length,Vt=X||$s(b||"*",K.nodeType?[K]:K,[]),gr=m&&(X||!b)?gi(Vt,He,m,K,ye):Vt;if(A?(se=M||(X?m:Et||R)?[]:oe,A(gr,se,K,ye)):se=gr,R)for(le=gi(se,It),R(le,[],K,ye),ce=le.length;ce--;)(be=le[ce])&&(se[It[ce]]=!(gr[It[ce]]=be));if(X){if(M||m){if(M){for(le=[],ce=se.length;ce--;)(be=se[ce])&&le.push(gr[ce]=be);M(null,se=[],le,ye)}for(ce=se.length;ce--;)(be=se[ce])&&(le=M?P.call(X,be):He[ce])>-1&&(X[le]=!(oe[le]=be))}}else se=gi(se===oe?se.splice(Et,se.length):se),M?M(null,oe,se,ye):u.apply(oe,se)})}function Qi(m){for(var b,A,R,M=m.length,V=t.relative[m[0].type],X=V||t.relative[" "],oe=V?1:0,K=mi(function(ce){return ce===b},X,!0),ye=mi(function(ce){return P.call(b,ce)>-1},X,!0),le=[function(ce,be,se){var He=!V&&(se||be!=n)||((b=be).nodeType?K(ce,be,se):ye(ce,be,se));return b=null,He}];oe<M;oe++)if(A=t.relative[m[oe].type])le=[mi(Xi(le),A)];else{if(A=t.filter[m[oe].type].apply(null,m[oe].matches),A[O]){for(R=++oe;R<M&&!t.relative[m[R].type];R++);return Ki(oe>1&&Xi(le),oe>1&&pi(m.slice(0,oe-1).concat({value:m[oe-2].type===" "?"*":""})).replace(Ye,"$1"),A,oe<R&&Qi(m.slice(oe,R)),R<M&&Qi(m=m.slice(R)),R<M&&pi(m))}le.push(A)}return Xi(le)}function Gs(m,b){var A=b.length>0,R=m.length>0,M=function(V,X,oe,K,ye){var le,ce,be,se=0,He="0",It=V&&[],Et=[],Vt=n,gr=V||R&&t.find.TAG("*",ye),Dn=k+=Vt==null?1:Math.random()||.1,Ct=gr.length;for(ye&&(n=X==c||X||ye);He!==Ct&&(le=gr[He])!=null;He++){if(R&&le){for(ce=0,!X&&le.ownerDocument!=c&&(qr(le),oe=!g);be=m[ce++];)if(be(le,X||c,oe)){u.call(K,le);break}ye&&(k=Dn)}A&&((le=!be&&le)&&se--,V&&It.push(le))}if(se+=He,A&&He!==se){for(ce=0;be=b[ce++];)be(It,Et,X,oe);if(V){if(se>0)for(;He--;)It[He]||Et[He]||(Et[He]=Re.call(K));Et=gi(Et)}u.apply(K,Et),ye&&!V&&Et.length>0&&se+b.length>1&&i.uniqueSort(K)}return ye&&(k=Dn,n=Vt),It};return A?or(M):M}function Zi(m,b){var A,R=[],M=[],V=ge[m+" "];if(!V){for(b||(b=Un(m)),A=b.length;A--;)V=Qi(b[A]),V[O]?R.push(V):M.push(V);V=ge(m,Gs(M,R)),V.selector=m}return V}function Zo(m,b,A,R){var M,V,X,oe,K,ye=typeof m=="function"&&m,le=!R&&Un(m=ye.selector||m);if(A=A||[],le.length===1){if(V=le[0]=le[0].slice(0),V.length>2&&(X=V[0]).type==="ID"&&b.nodeType===9&&g&&t.relative[V[1].type]){if(b=(t.find.ID(X.matches[0].replace(Rr,Lr),b)||[])[0],b)ye&&(b=b.parentNode);else return A;m=m.slice(V.shift().value.length)}for(M=mr.needsContext.test(m)?0:V.length;M--&&(X=V[M],!t.relative[oe=X.type]);)if((K=t.find[oe])&&(R=K(X.matches[0].replace(Rr,Lr),qi.test(V[0].type)&&Yi(b.parentNode)||b))){if(V.splice(M,1),m=R.length&&pi(V),!m)return u.apply(A,R),A;break}}return(ye||Zi(m,le))(R,b,!g,A,!b||qi.test(m)&&Yi(b.parentNode)||b),A}W.sortStable=O.split("").sort(it).join("")===O,qr(),W.sortDetached=kn(function(m){return m.compareDocumentPosition(c.createElement("fieldset"))&1}),i.find=Me,i.expr[":"]=i.expr.pseudos,i.unique=i.uniqueSort,Me.compile=Zi,Me.select=Zo,Me.setDocument=qr,Me.tokenize=Un,Me.escape=i.escapeSelector,Me.getText=i.text,Me.isXML=i.isXMLDoc,Me.selectors=i.expr,Me.support=i.support,Me.uniqueSort=i.uniqueSort})();var mt=function(e,t,n){for(var a=[],l=n!==void 0;(e=e[t])&&e.nodeType!==9;)if(e.nodeType===1){if(l&&i(e).is(n))break;a.push(e)}return a},Qr=function(e,t){for(var n=[];e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n},Zr=i.expr.match.needsContext,$e=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function gt(e,t,n){return Y(t)?i.grep(e,function(a,l){return!!t.call(a,l,a)!==n}):t.nodeType?i.grep(e,function(a){return a===t!==n}):typeof t!="string"?i.grep(e,function(a){return P.call(t,a)>-1!==n}):i.filter(t,e,n)}i.filter=function(e,t,n){var a=t[0];return n&&(e=":not("+e+")"),t.length===1&&a.nodeType===1?i.find.matchesSelector(a,e)?[a]:[]:i.find.matches(e,i.grep(t,function(l){return l.nodeType===1}))},i.fn.extend({find:function(e){var t,n,a=this.length,l=this;if(typeof e!="string")return this.pushStack(i(e).filter(function(){for(t=0;t<a;t++)if(i.contains(l[t],this))return!0}));for(n=this.pushStack([]),t=0;t<a;t++)i.find(e,l[t],n);return a>1?i.uniqueSort(n):n},filter:function(e){return this.pushStack(gt(this,e||[],!1))},not:function(e){return this.pushStack(gt(this,e||[],!0))},is:function(e){return!!gt(this,typeof e=="string"&&Zr.test(e)?i(e):e||[],!1).length}});var Ge,En=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ue=i.fn.init=function(e,t,n){var a,l;if(!e)return this;if(n=n||Ge,typeof e=="string")if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?a=[null,e,null]:a=En.exec(e),a&&(a[1]||!t))if(a[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(a[1],t&&t.nodeType?t.ownerDocument||t:ne,!0)),$e.test(a[1])&&i.isPlainObject(t))for(a in t)Y(this[a])?this[a](t[a]):this.attr(a,t[a]);return this}else return l=ne.getElementById(a[2]),l&&(this[0]=l,this.length=1),this;else return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);else{if(e.nodeType)return this[0]=e,this.length=1,this;if(Y(e))return n.ready!==void 0?n.ready(e):e(i)}return i.makeArray(e,this)};Ue.prototype=i.fn,Ge=i(ne);var xr=/^(?:parents|prev(?:Until|All))/,Jr={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(e){var t=i(e,this),n=t.length;return this.filter(function(){for(var a=0;a<n;a++)if(i.contains(this,t[a]))return!0})},closest:function(e,t){var n,a=0,l=this.length,u=[],c=typeof e!="string"&&i(e);if(!Zr.test(e)){for(;a<l;a++)for(n=this[a];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(c?c.index(n)>-1:n.nodeType===1&&i.find.matchesSelector(n,e))){u.push(n);break}}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(e){return e?typeof e=="string"?P.call(i(e),this[0]):P.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function en(e,t){for(;(e=e[t])&&e.nodeType!==1;);return e}i.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return mt(e,"parentNode")},parentsUntil:function(e,t,n){return mt(e,"parentNode",n)},next:function(e){return en(e,"nextSibling")},prev:function(e){return en(e,"previousSibling")},nextAll:function(e){return mt(e,"nextSibling")},prevAll:function(e){return mt(e,"previousSibling")},nextUntil:function(e,t,n){return mt(e,"nextSibling",n)},prevUntil:function(e,t,n){return mt(e,"previousSibling",n)},siblings:function(e){return Qr((e.parentNode||{}).firstChild,e)},children:function(e){return Qr(e.firstChild)},contents:function(e){return e.contentDocument!=null&&f(e.contentDocument)?e.contentDocument:(J(e,"template")&&(e=e.content||e),i.merge([],e.childNodes))}},function(e,t){i.fn[e]=function(n,a){var l=i.map(this,t,n);return e.slice(-5)!=="Until"&&(a=n),a&&typeof a=="string"&&(l=i.filter(a,l)),this.length>1&&(Jr[e]||i.uniqueSort(l),xr.test(e)&&l.reverse()),this.pushStack(l)}});var vt=/[^\x20\t\r\n\f]+/g;function xn(e){var t={};return i.each(e.match(vt)||[],function(n,a){t[a]=!0}),t}i.Callbacks=function(e){e=typeof e=="string"?xn(e):i.extend({},e);var t,n,a,l,u=[],c=[],v=-1,g=function(){for(l=l||e.once,a=t=!0;c.length;v=-1)for(n=c.shift();++v<u.length;)u[v].apply(n[0],n[1])===!1&&e.stopOnFalse&&(v=u.length,n=!1);e.memory||(n=!1),t=!1,l&&(n?u=[]:u="")},T={add:function(){return u&&(n&&!t&&(v=u.length-1,c.push(n)),function I(O){i.each(O,function(k,U){Y(U)?(!e.unique||!T.has(U))&&u.push(U):U&&U.length&&ke(U)!=="string"&&I(U)})}(arguments),n&&!t&&g()),this},remove:function(){return i.each(arguments,function(I,O){for(var k;(k=i.inArray(O,u,k))>-1;)u.splice(k,1),k<=v&&v--}),this},has:function(I){return I?i.inArray(I,u)>-1:u.length>0},empty:function(){return u&&(u=[]),this},disable:function(){return l=c=[],u=n="",this},disabled:function(){return!u},lock:function(){return l=c=[],!n&&!t&&(u=n=""),this},locked:function(){return!!l},fireWith:function(I,O){return l||(O=O||[],O=[I,O.slice?O.slice():O],c.push(O),t||g()),this},fire:function(){return T.fireWith(this,arguments),this},fired:function(){return!!a}};return T};function Kt(e){return e}function Wt(e){throw e}function Or(e,t,n,a){var l;try{e&&Y(l=e.promise)?l.call(e).done(t).fail(n):e&&Y(l=e.then)?l.call(e,t,n):t.apply(void 0,[e].slice(a))}catch(u){n.apply(void 0,[u])}}i.extend({Deferred:function(e){var t=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],n="pending",a={state:function(){return n},always:function(){return l.done(arguments).fail(arguments),this},catch:function(u){return a.then(null,u)},pipe:function(){var u=arguments;return i.Deferred(function(c){i.each(t,function(v,g){var T=Y(u[g[4]])&&u[g[4]];l[g[1]](function(){var I=T&&T.apply(this,arguments);I&&Y(I.promise)?I.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[g[0]+"With"](this,T?[I]:arguments)})}),u=null}).promise()},then:function(u,c,v){var g=0;function T(I,O,k,U){return function(){var ue=this,Te=arguments,ge=function(){var it,dr;if(!(I<g)){if(it=k.apply(ue,Te),it===O.promise())throw new TypeError("Thenable self-resolution");dr=it&&(typeof it=="object"||typeof it=="function")&&it.then,Y(dr)?U?dr.call(it,T(g,O,Kt,U),T(g,O,Wt,U)):(g++,dr.call(it,T(g,O,Kt,U),T(g,O,Wt,U),T(g,O,Kt,O.notifyWith))):(k!==Kt&&(ue=void 0,Te=[it]),(U||O.resolveWith)(ue,Te))}},ht=U?ge:function(){try{ge()}catch(it){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(it,ht.error),I+1>=g&&(k!==Wt&&(ue=void 0,Te=[it]),O.rejectWith(ue,Te))}};I?ht():(i.Deferred.getErrorHook?ht.error=i.Deferred.getErrorHook():i.Deferred.getStackHook&&(ht.error=i.Deferred.getStackHook()),s.setTimeout(ht))}}return i.Deferred(function(I){t[0][3].add(T(0,I,Y(v)?v:Kt,I.notifyWith)),t[1][3].add(T(0,I,Y(u)?u:Kt)),t[2][3].add(T(0,I,Y(c)?c:Wt))}).promise()},promise:function(u){return u!=null?i.extend(u,a):a}},l={};return i.each(t,function(u,c){var v=c[2],g=c[5];a[c[1]]=v.add,g&&v.add(function(){n=g},t[3-u][2].disable,t[3-u][3].disable,t[0][2].lock,t[0][3].lock),v.add(c[3].fire),l[c[0]]=function(){return l[c[0]+"With"](this===l?void 0:this,arguments),this},l[c[0]+"With"]=v.fireWith}),a.promise(l),e&&e.call(l,l),l},when:function(e){var t=arguments.length,n=t,a=Array(n),l=h.call(arguments),u=i.Deferred(),c=function(v){return function(g){a[v]=this,l[v]=arguments.length>1?h.call(arguments):g,--t||u.resolveWith(a,l)}};if(t<=1&&(Or(e,u.done(c(n)).resolve,u.reject,!t),u.state()==="pending"||Y(l[n]&&l[n].then)))return u.then();for(;n--;)Or(l[n],c(n),u.reject);return u.promise()}});var Qt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(e,t){s.console&&s.console.warn&&e&&Qt.test(e.name)&&s.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},i.readyException=function(e){s.setTimeout(function(){throw e})};var Tr=i.Deferred();i.fn.ready=function(e){return Tr.then(e).catch(function(t){i.readyException(t)}),this},i.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--i.readyWait:i.isReady)||(i.isReady=!0,!(e!==!0&&--i.readyWait>0)&&Tr.resolveWith(ne,[i]))}}),i.ready.then=Tr.then;function lt(){ne.removeEventListener("DOMContentLoaded",lt),s.removeEventListener("load",lt),i.ready()}ne.readyState==="complete"||ne.readyState!=="loading"&&!ne.documentElement.doScroll?s.setTimeout(i.ready):(ne.addEventListener("DOMContentLoaded",lt),s.addEventListener("load",lt));var st=function(e,t,n,a,l,u,c){var v=0,g=e.length,T=n==null;if(ke(n)==="object"){l=!0;for(v in n)st(e,t,v,n[v],!0,u,c)}else if(a!==void 0&&(l=!0,Y(a)||(c=!0),T&&(c?(t.call(e,a),t=null):(T=t,t=function(I,O,k){return T.call(i(I),k)})),t))for(;v<g;v++)t(e[v],n,c?a:a.call(e[v],v,t(e[v],n)));return l?e:T?t.call(e):g?t(e[0],n):u},Sr=/^-ms-/,Zt=/-([a-z])/g;function Nr(e,t){return t.toUpperCase()}function ut(e){return e.replace(Sr,"ms-").replace(Zt,Nr)}var Jt=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function Bt(){this.expando=i.expando+Bt.uid++}Bt.uid=1,Bt.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Jt(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var a,l=this.cache(e);if(typeof t=="string")l[ut(t)]=n;else for(a in t)l[ut(a)]=t[a];return l},get:function(e,t){return t===void 0?this.cache(e):e[this.expando]&&e[this.expando][ut(t)]},access:function(e,t,n){return t===void 0||t&&typeof t=="string"&&n===void 0?this.get(e,t):(this.set(e,t,n),n!==void 0?n:t)},remove:function(e,t){var n,a=e[this.expando];if(a!==void 0){if(t!==void 0)for(Array.isArray(t)?t=t.map(ut):(t=ut(t),t=t in a?[t]:t.match(vt)||[]),n=t.length;n--;)delete a[t[n]];(t===void 0||i.isEmptyObject(a))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==void 0&&!i.isEmptyObject(t)}};var Z=new Bt,Be=new Bt,er=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tn=/[A-Z]/g;function rn(e){return e==="true"?!0:e==="false"?!1:e==="null"?null:e===+e+""?+e:er.test(e)?JSON.parse(e):e}function Wr(e,t,n){var a;if(n===void 0&&e.nodeType===1)if(a="data-"+t.replace(tn,"-$&").toLowerCase(),n=e.getAttribute(a),typeof n=="string"){try{n=rn(n)}catch(l){}Be.set(e,t,n)}else n=void 0;return n}i.extend({hasData:function(e){return Be.hasData(e)||Z.hasData(e)},data:function(e,t,n){return Be.access(e,t,n)},removeData:function(e,t){Be.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),i.fn.extend({data:function(e,t){var n,a,l,u=this[0],c=u&&u.attributes;if(e===void 0){if(this.length&&(l=Be.get(u),u.nodeType===1&&!Z.get(u,"hasDataAttrs"))){for(n=c.length;n--;)c[n]&&(a=c[n].name,a.indexOf("data-")===0&&(a=ut(a.slice(5)),Wr(u,a,l[a])));Z.set(u,"hasDataAttrs",!0)}return l}return typeof e=="object"?this.each(function(){Be.set(this,e)}):st(this,function(v){var g;if(u&&v===void 0)return g=Be.get(u,e),g!==void 0||(g=Wr(u,e),g!==void 0)?g:void 0;this.each(function(){Be.set(this,e,v)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Be.remove(this,e)})}}),i.extend({queue:function(e,t,n){var a;if(e)return t=(t||"fx")+"queue",a=Z.get(e,t),n&&(!a||Array.isArray(n)?a=Z.access(e,t,i.makeArray(n)):a.push(n)),a||[]},dequeue:function(e,t){t=t||"fx";var n=i.queue(e,t),a=n.length,l=n.shift(),u=i._queueHooks(e,t),c=function(){i.dequeue(e,t)};l==="inprogress"&&(l=n.shift(),a--),l&&(t==="fx"&&n.unshift("inprogress"),delete u.stop,l.call(e,c,u)),!a&&u&&u.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:i.Callbacks("once memory").add(function(){Z.remove(e,[t+"queue",n])})})}}),i.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?i.queue(this[0],e):t===void 0?this:this.each(function(){var a=i.queue(this,e,t);i._queueHooks(this,e),e==="fx"&&a[0]!=="inprogress"&&i.dequeue(this,e)})},dequeue:function(e){return this.each(function(){i.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,a=1,l=i.Deferred(),u=this,c=this.length,v=function(){--a||l.resolveWith(u,[u])};for(typeof e!="string"&&(t=e,e=void 0),e=e||"fx";c--;)n=Z.get(u[c],e+"queueHooks"),n&&n.empty&&(a++,n.empty.add(v));return v(),l.promise(t)}});var Cr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tr=new RegExp("^(?:([+-])=|)("+Cr+")([a-z%]*)$","i"),ft=["Top","Right","Bottom","Left"],St=ne.documentElement,nt=function(e){return i.contains(e.ownerDocument,e)},$t={composed:!0};St.getRootNode&&(nt=function(e){return i.contains(e.ownerDocument,e)||e.getRootNode($t)===e.ownerDocument});var fr=function(e,t){return e=t||e,e.style.display==="none"||e.style.display===""&&nt(e)&&i.css(e,"display")==="none"};function Hr(e,t,n,a){var l,u,c=20,v=a?function(){return a.cur()}:function(){return i.css(e,t,"")},g=v(),T=n&&n[3]||(i.cssNumber[t]?"":"px"),I=e.nodeType&&(i.cssNumber[t]||T!=="px"&&+g)&&tr.exec(i.css(e,t));if(I&&I[3]!==T){for(g=g/2,T=T||I[3],I=+g||1;c--;)i.style(e,t,I+T),(1-u)*(1-(u=v()/g||.5))<=0&&(c=0),I=I/u;I=I*2,i.style(e,t,I+T),n=n||[]}return n&&(I=+I||+g||0,l=n[1]?I+(n[1]+1)*n[2]:+n[2],a&&(a.unit=T,a.start=I,a.end=l)),l}var Ur={};function Ar(e){var t,n=e.ownerDocument,a=e.nodeName,l=Ur[a];return l||(t=n.body.appendChild(n.createElement(a)),l=i.css(t,"display"),t.parentNode.removeChild(t),l==="none"&&(l="block"),Ur[a]=l,l)}function Ht(e,t){for(var n,a,l=[],u=0,c=e.length;u<c;u++)a=e[u],!!a.style&&(n=a.style.display,t?(n==="none"&&(l[u]=Z.get(a,"display")||null,l[u]||(a.style.display="")),a.style.display===""&&fr(a)&&(l[u]=Ar(a))):n!=="none"&&(l[u]="none",Z.set(a,"display",n)));for(u=0;u<c;u++)l[u]!=null&&(e[u].style.display=l[u]);return e}i.fn.extend({show:function(){return Ht(this,!0)},hide:function(){return Ht(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){fr(this)?i(this).show():i(this).hide()})}});var yt=/^(?:checkbox|radio)$/i,cr=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Tn=/^$|^module$|\/(?:java|ecma)script/i;(function(){var e=ne.createDocumentFragment(),t=e.appendChild(ne.createElement("div")),n=ne.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),W.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",W.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",W.option=!!t.lastChild})();var ct={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td,W.option||(ct.optgroup=ct.option=[1,"<select multiple='multiple'>","</select>"]);function Ee(e,t){var n;return typeof e.getElementsByTagName!="undefined"?n=e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!="undefined"?n=e.querySelectorAll(t||"*"):n=[],t===void 0||t&&J(e,t)?i.merge([e],n):n}function Gt(e,t){for(var n=0,a=e.length;n<a;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}var Mn=/<|&#?\w+;/;function nn(e,t,n,a,l){for(var u,c,v,g,T,I,O=t.createDocumentFragment(),k=[],U=0,ue=e.length;U<ue;U++)if(u=e[U],u||u===0)if(ke(u)==="object")i.merge(k,u.nodeType?[u]:u);else if(!Mn.test(u))k.push(t.createTextNode(u));else{for(c=c||O.appendChild(t.createElement("div")),v=(cr.exec(u)||["",""])[1].toLowerCase(),g=ct[v]||ct._default,c.innerHTML=g[1]+i.htmlPrefilter(u)+g[2],I=g[0];I--;)c=c.lastChild;i.merge(k,c.childNodes),c=O.firstChild,c.textContent=""}for(O.textContent="",U=0;u=k[U++];){if(a&&i.inArray(u,a)>-1){l&&l.push(u);continue}if(T=nt(u),c=Ee(O.appendChild(u),"script"),T&&Gt(c),n)for(I=0;u=c[I++];)Tn.test(u.type||"")&&n.push(u)}return O}var jr=/^([^.]*)(?:\.(.+)|)/;function rr(){return!0}function nr(){return!1}function on(e,t,n,a,l,u){var c,v;if(typeof t=="object"){typeof n!="string"&&(a=a||n,n=void 0);for(v in t)on(e,v,n,a,t[v],u);return e}if(a==null&&l==null?(l=n,a=n=void 0):l==null&&(typeof n=="string"?(l=a,a=void 0):(l=a,a=n,n=void 0)),l===!1)l=nr;else if(!l)return e;return u===1&&(c=l,l=function(g){return i().off(g),c.apply(this,arguments)},l.guid=c.guid||(c.guid=i.guid++)),e.each(function(){i.event.add(this,t,l,a,n)})}i.event={global:{},add:function(e,t,n,a,l){var u,c,v,g,T,I,O,k,U,ue,Te,ge=Z.get(e);if(!!Jt(e))for(n.handler&&(u=n,n=u.handler,l=u.selector),l&&i.find.matchesSelector(St,l),n.guid||(n.guid=i.guid++),(g=ge.events)||(g=ge.events=Object.create(null)),(c=ge.handle)||(c=ge.handle=function(ht){return typeof i!="undefined"&&i.event.triggered!==ht.type?i.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(vt)||[""],T=t.length;T--;)v=jr.exec(t[T])||[],U=Te=v[1],ue=(v[2]||"").split(".").sort(),!!U&&(O=i.event.special[U]||{},U=(l?O.delegateType:O.bindType)||U,O=i.event.special[U]||{},I=i.extend({type:U,origType:Te,data:a,handler:n,guid:n.guid,selector:l,needsContext:l&&i.expr.match.needsContext.test(l),namespace:ue.join(".")},u),(k=g[U])||(k=g[U]=[],k.delegateCount=0,(!O.setup||O.setup.call(e,a,ue,c)===!1)&&e.addEventListener&&e.addEventListener(U,c)),O.add&&(O.add.call(e,I),I.handler.guid||(I.handler.guid=n.guid)),l?k.splice(k.delegateCount++,0,I):k.push(I),i.event.global[U]=!0)},remove:function(e,t,n,a,l){var u,c,v,g,T,I,O,k,U,ue,Te,ge=Z.hasData(e)&&Z.get(e);if(!(!ge||!(g=ge.events))){for(t=(t||"").match(vt)||[""],T=t.length;T--;){if(v=jr.exec(t[T])||[],U=Te=v[1],ue=(v[2]||"").split(".").sort(),!U){for(U in g)i.event.remove(e,U+t[T],n,a,!0);continue}for(O=i.event.special[U]||{},U=(a?O.delegateType:O.bindType)||U,k=g[U]||[],v=v[2]&&new RegExp("(^|\\.)"+ue.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=u=k.length;u--;)I=k[u],(l||Te===I.origType)&&(!n||n.guid===I.guid)&&(!v||v.test(I.namespace))&&(!a||a===I.selector||a==="**"&&I.selector)&&(k.splice(u,1),I.selector&&k.delegateCount--,O.remove&&O.remove.call(e,I));c&&!k.length&&((!O.teardown||O.teardown.call(e,ue,ge.handle)===!1)&&i.removeEvent(e,U,ge.handle),delete g[U])}i.isEmptyObject(g)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,a,l,u,c,v=new Array(arguments.length),g=i.event.fix(e),T=(Z.get(this,"events")||Object.create(null))[g.type]||[],I=i.event.special[g.type]||{};for(v[0]=g,t=1;t<arguments.length;t++)v[t]=arguments[t];if(g.delegateTarget=this,!(I.preDispatch&&I.preDispatch.call(this,g)===!1)){for(c=i.event.handlers.call(this,g,T),t=0;(l=c[t++])&&!g.isPropagationStopped();)for(g.currentTarget=l.elem,n=0;(u=l.handlers[n++])&&!g.isImmediatePropagationStopped();)(!g.rnamespace||u.namespace===!1||g.rnamespace.test(u.namespace))&&(g.handleObj=u,g.data=u.data,a=((i.event.special[u.origType]||{}).handle||u.handler).apply(l.elem,v),a!==void 0&&(g.result=a)===!1&&(g.preventDefault(),g.stopPropagation()));return I.postDispatch&&I.postDispatch.call(this,g),g.result}},handlers:function(e,t){var n,a,l,u,c,v=[],g=t.delegateCount,T=e.target;if(g&&T.nodeType&&!(e.type==="click"&&e.button>=1)){for(;T!==this;T=T.parentNode||this)if(T.nodeType===1&&!(e.type==="click"&&T.disabled===!0)){for(u=[],c={},n=0;n<g;n++)a=t[n],l=a.selector+" ",c[l]===void 0&&(c[l]=a.needsContext?i(l,this).index(T)>-1:i.find(l,this,null,[T]).length),c[l]&&u.push(a);u.length&&v.push({elem:T,handlers:u})}}return T=this,g<t.length&&v.push({elem:T,handlers:t.slice(g)}),v},addProp:function(e,t){Object.defineProperty(i.Event.prototype,e,{enumerable:!0,configurable:!0,get:Y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(n){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}})},fix:function(e){return e[i.expando]?e:new i.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return yt.test(t.type)&&t.click&&J(t,"input")&&dt(t,"click",!0),!1},trigger:function(e){var t=this||e;return yt.test(t.type)&&t.click&&J(t,"input")&&dt(t,"click"),!0},_default:function(e){var t=e.target;return yt.test(t.type)&&t.click&&J(t,"input")&&Z.get(t,"click")||J(t,"a")}},beforeunload:{postDispatch:function(e){e.result!==void 0&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}};function dt(e,t,n){if(!n){Z.get(e,t)===void 0&&i.event.add(e,t,rr);return}Z.set(e,t,!1),i.event.add(e,t,{namespace:!1,handler:function(a){var l,u=Z.get(this,t);if(a.isTrigger&1&&this[t]){if(u)(i.event.special[t]||{}).delegateType&&a.stopPropagation();else if(u=h.call(arguments),Z.set(this,t,u),this[t](),l=Z.get(this,t),Z.set(this,t,!1),u!==l)return a.stopImmediatePropagation(),a.preventDefault(),l}else u&&(Z.set(this,t,i.event.trigger(u[0],u.slice(1),this)),a.stopPropagation(),a.isImmediatePropagationStopped=rr)}})}i.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},i.Event=function(e,t){if(!(this instanceof i.Event))return new i.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===void 0&&e.returnValue===!1?rr:nr,this.target=e.target&&e.target.nodeType===3?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&i.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[i.expando]=!0},i.Event.prototype={constructor:i.Event,isDefaultPrevented:nr,isPropagationStopped:nr,isImmediatePropagationStopped:nr,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=rr,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=rr,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=rr,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},i.event.addProp),i.each({focus:"focusin",blur:"focusout"},function(e,t){function n(a){if(ne.documentMode){var l=Z.get(this,"handle"),u=i.event.fix(a);u.type=a.type==="focusin"?"focus":"blur",u.isSimulated=!0,l(a),u.target===u.currentTarget&&l(u)}else i.event.simulate(t,a.target,i.event.fix(a))}i.event.special[e]={setup:function(){var a;if(dt(this,e,!0),ne.documentMode)a=Z.get(this,t),a||this.addEventListener(t,n),Z.set(this,t,(a||0)+1);else return!1},trigger:function(){return dt(this,e),!0},teardown:function(){var a;if(ne.documentMode)a=Z.get(this,t)-1,a?Z.set(this,t,a):(this.removeEventListener(t,n),Z.remove(this,t));else return!1},_default:function(a){return Z.get(a.target,e)},delegateType:t},i.event.special[t]={setup:function(){var a=this.ownerDocument||this.document||this,l=ne.documentMode?this:a,u=Z.get(l,t);u||(ne.documentMode?this.addEventListener(t,n):a.addEventListener(e,n,!0)),Z.set(l,t,(u||0)+1)},teardown:function(){var a=this.ownerDocument||this.document||this,l=ne.documentMode?this:a,u=Z.get(l,t)-1;u?Z.set(l,t,u):(ne.documentMode?this.removeEventListener(t,n):a.removeEventListener(e,n,!0),Z.remove(l,t))}}}),i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){i.event.special[e]={delegateType:t,bindType:t,handle:function(n){var a,l=this,u=n.relatedTarget,c=n.handleObj;return(!u||u!==l&&!i.contains(l,u))&&(n.type=c.origType,a=c.handler.apply(this,arguments),n.type=t),a}}}),i.fn.extend({on:function(e,t,n,a){return on(this,e,t,n,a)},one:function(e,t,n,a){return on(this,e,t,n,a,1)},off:function(e,t,n){var a,l;if(e&&e.preventDefault&&e.handleObj)return a=e.handleObj,i(e.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if(typeof e=="object"){for(l in e)this.off(l,t,e[l]);return this}return(t===!1||typeof t=="function")&&(n=t,t=void 0),n===!1&&(n=nr),this.each(function(){i.event.remove(this,e,n,t)})}});var Br=/<script|<style|<link/i,an=/checked\s*(?:[^=]|=\s*.checked.)/i,Sn=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function $r(e,t){return J(e,"table")&&J(t.nodeType!==11?t:t.firstChild,"tr")&&i(e).children("tbody")[0]||e}function Cn(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function Ut(e){return(e.type||"").slice(0,5)==="true/"?e.type=e.type.slice(5):e.removeAttribute("type"),e}function sn(e,t){var n,a,l,u,c,v,g;if(t.nodeType===1){if(Z.hasData(e)&&(u=Z.get(e),g=u.events,g)){Z.remove(t,"handle events");for(l in g)for(n=0,a=g[l].length;n<a;n++)i.event.add(t,l,g[l][n])}Be.hasData(e)&&(c=Be.access(e),v=i.extend({},c),Be.set(t,v))}}function An(e,t){var n=t.nodeName.toLowerCase();n==="input"&&yt.test(e.type)?t.checked=e.checked:(n==="input"||n==="textarea")&&(t.defaultValue=e.defaultValue)}function ir(e,t,n,a){t=_(t);var l,u,c,v,g,T,I=0,O=e.length,k=O-1,U=t[0],ue=Y(U);if(ue||O>1&&typeof U=="string"&&!W.checkClone&&an.test(U))return e.each(function(Te){var ge=e.eq(Te);ue&&(t[0]=U.call(this,Te,ge.html())),ir(ge,t,n,a)});if(O&&(l=nn(t,e[0].ownerDocument,!1,e,a),u=l.firstChild,l.childNodes.length===1&&(l=u),u||a)){for(c=i.map(Ee(l,"script"),Cn),v=c.length;I<O;I++)g=l,I!==k&&(g=i.clone(g,!0,!0),v&&i.merge(c,Ee(g,"script"))),n.call(e[I],g,I);if(v)for(T=c[c.length-1].ownerDocument,i.map(c,Ut),I=0;I<v;I++)g=c[I],Tn.test(g.type||"")&&!Z.access(g,"globalEval")&&i.contains(T,g)&&(g.src&&(g.type||"").toLowerCase()!=="module"?i._evalUrl&&!g.noModule&&i._evalUrl(g.src,{nonce:g.nonce||g.getAttribute("nonce")},T):at(g.textContent.replace(Sn,""),g,T))}return e}function ln(e,t,n){for(var a,l=t?i.filter(t,e):e,u=0;(a=l[u])!=null;u++)!n&&a.nodeType===1&&i.cleanData(Ee(a)),a.parentNode&&(n&&nt(a)&&Gt(Ee(a,"script")),a.parentNode.removeChild(a));return e}i.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var a,l,u,c,v=e.cloneNode(!0),g=nt(e);if(!W.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!i.isXMLDoc(e))for(c=Ee(v),u=Ee(e),a=0,l=u.length;a<l;a++)An(u[a],c[a]);if(t)if(n)for(u=u||Ee(e),c=c||Ee(v),a=0,l=u.length;a<l;a++)sn(u[a],c[a]);else sn(e,v);return c=Ee(v,"script"),c.length>0&&Gt(c,!g&&Ee(e,"script")),v},cleanData:function(e){for(var t,n,a,l=i.event.special,u=0;(n=e[u])!==void 0;u++)if(Jt(n)){if(t=n[Z.expando]){if(t.events)for(a in t.events)l[a]?i.event.remove(n,a):i.removeEvent(n,a,t.handle);n[Z.expando]=void 0}n[Be.expando]&&(n[Be.expando]=void 0)}}}),i.fn.extend({detach:function(e){return ln(this,e,!0)},remove:function(e){return ln(this,e)},text:function(e){return st(this,function(t){return t===void 0?i.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=t)})},null,e,arguments.length)},append:function(){return ir(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=$r(this,e);t.appendChild(e)}})},prepend:function(){return ir(this,arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=$r(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return ir(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return ir(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;(e=this[t])!=null;t++)e.nodeType===1&&(i.cleanData(Ee(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return i.clone(this,e,t)})},html:function(e){return st(this,function(t){var n=this[0]||{},a=0,l=this.length;if(t===void 0&&n.nodeType===1)return n.innerHTML;if(typeof t=="string"&&!Br.test(t)&&!ct[(cr.exec(t)||["",""])[1].toLowerCase()]){t=i.htmlPrefilter(t);try{for(;a<l;a++)n=this[a]||{},n.nodeType===1&&(i.cleanData(Ee(n,!1)),n.innerHTML=t);n=0}catch(u){}}n&&this.empty().append(t)},null,e,arguments.length)},replaceWith:function(){var e=[];return ir(this,arguments,function(t){var n=this.parentNode;i.inArray(this,e)<0&&(i.cleanData(Ee(this)),n&&n.replaceChild(t,this))},e)}}),i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){i.fn[e]=function(n){for(var a,l=[],u=i(n),c=u.length-1,v=0;v<=c;v++)a=v===c?this:this.clone(!0),i(u[v])[t](a),C.apply(l,a.get());return this.pushStack(l)}});var un=new RegExp("^("+Cr+")(?!px)[a-z%]+$","i"),ie=/^--/,w=function(e){var t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=s),t.getComputedStyle(e)},j=function(e,t,n){var a,l,u={};for(l in t)u[l]=e.style[l],e.style[l]=t[l];a=n.call(e);for(l in t)e.style[l]=u[l];return a},ee=new RegExp(ft.join("|"),"i");(function(){function e(){if(!!T){g.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",T.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",St.appendChild(g).appendChild(T);var I=s.getComputedStyle(T);n=I.top!=="1%",v=t(I.marginLeft)===12,T.style.right="60%",u=t(I.right)===36,a=t(I.width)===36,T.style.position="absolute",l=t(T.offsetWidth/3)===12,St.removeChild(g),T=null}}function t(I){return Math.round(parseFloat(I))}var n,a,l,u,c,v,g=ne.createElement("div"),T=ne.createElement("div");!T.style||(T.style.backgroundClip="content-box",T.cloneNode(!0).style.backgroundClip="",W.clearCloneStyle=T.style.backgroundClip==="content-box",i.extend(W,{boxSizingReliable:function(){return e(),a},pixelBoxStyles:function(){return e(),u},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),v},scrollboxSize:function(){return e(),l},reliableTrDimensions:function(){var I,O,k,U;return c==null&&(I=ne.createElement("table"),O=ne.createElement("tr"),k=ne.createElement("div"),I.style.cssText="position:absolute;left:-11111px;border-collapse:separate",O.style.cssText="box-sizing:content-box;border:1px solid",O.style.height="1px",k.style.height="9px",k.style.display="block",St.appendChild(I).appendChild(O).appendChild(k),U=s.getComputedStyle(O),c=parseInt(U.height,10)+parseInt(U.borderTopWidth,10)+parseInt(U.borderBottomWidth,10)===O.offsetHeight,St.removeChild(I)),c}}))})();function Ce(e,t,n){var a,l,u,c,v=ie.test(t),g=e.style;return n=n||w(e),n&&(c=n.getPropertyValue(t)||n[t],v&&c&&(c=c.replace(Ye,"$1")||void 0),c===""&&!nt(e)&&(c=i.style(e,t)),!W.pixelBoxStyles()&&un.test(c)&&ee.test(t)&&(a=g.width,l=g.minWidth,u=g.maxWidth,g.minWidth=g.maxWidth=g.width=c,c=n.width,g.width=a,g.minWidth=l,g.maxWidth=u)),c!==void 0?c+"":c}function Ze(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}var ze=["Webkit","Moz","ms"],Ve=ne.createElement("div").style,bt={};function Pt(e){for(var t=e[0].toUpperCase()+e.slice(1),n=ze.length;n--;)if(e=ze[n]+t,e in Ve)return e}function Je(e){var t=i.cssProps[e]||bt[e];return t||(e in Ve?e:bt[e]=Pt(e)||e)}var kr=/^(none|table(?!-c[ea]).+)/,Gr={position:"absolute",visibility:"hidden",display:"block"},li={letterSpacing:"0",fontWeight:"400"};function ui(e,t,n){var a=tr.exec(t);return a?Math.max(0,a[2]-(n||0))+(a[3]||"px"):t}function fn(e,t,n,a,l,u){var c=t==="width"?1:0,v=0,g=0,T=0;if(n===(a?"border":"content"))return 0;for(;c<4;c+=2)n==="margin"&&(T+=i.css(e,n+ft[c],!0,l)),a?(n==="content"&&(g-=i.css(e,"padding"+ft[c],!0,l)),n!=="margin"&&(g-=i.css(e,"border"+ft[c]+"Width",!0,l))):(g+=i.css(e,"padding"+ft[c],!0,l),n!=="padding"?g+=i.css(e,"border"+ft[c]+"Width",!0,l):v+=i.css(e,"border"+ft[c]+"Width",!0,l));return!a&&u>=0&&(g+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-u-g-v-.5))||0),g+T}function fi(e,t,n){var a=w(e),l=!W.boxSizingReliable()||n,u=l&&i.css(e,"boxSizing",!1,a)==="border-box",c=u,v=Ce(e,t,a),g="offset"+t[0].toUpperCase()+t.slice(1);if(un.test(v)){if(!n)return v;v="auto"}return(!W.boxSizingReliable()&&u||!W.reliableTrDimensions()&&J(e,"tr")||v==="auto"||!parseFloat(v)&&i.css(e,"display",!1,a)==="inline")&&e.getClientRects().length&&(u=i.css(e,"boxSizing",!1,a)==="border-box",c=g in e,c&&(v=e[g])),v=parseFloat(v)||0,v+fn(e,t,n||(u?"border":"content"),c,a,v)+"px"}i.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ce(e,"opacity");return n===""?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,a){if(!(!e||e.nodeType===3||e.nodeType===8||!e.style)){var l,u,c,v=ut(t),g=ie.test(t),T=e.style;if(g||(t=Je(v)),c=i.cssHooks[t]||i.cssHooks[v],n!==void 0){if(u=typeof n,u==="string"&&(l=tr.exec(n))&&l[1]&&(n=Hr(e,t,l),u="number"),n==null||n!==n)return;u==="number"&&!g&&(n+=l&&l[3]||(i.cssNumber[v]?"":"px")),!W.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(T[t]="inherit"),(!c||!("set"in c)||(n=c.set(e,n,a))!==void 0)&&(g?T.setProperty(t,n):T[t]=n)}else return c&&"get"in c&&(l=c.get(e,!1,a))!==void 0?l:T[t]}},css:function(e,t,n,a){var l,u,c,v=ut(t),g=ie.test(t);return g||(t=Je(v)),c=i.cssHooks[t]||i.cssHooks[v],c&&"get"in c&&(l=c.get(e,!0,n)),l===void 0&&(l=Ce(e,t,a)),l==="normal"&&t in li&&(l=li[t]),n===""||n?(u=parseFloat(l),n===!0||isFinite(u)?u||0:l):l}}),i.each(["height","width"],function(e,t){i.cssHooks[t]={get:function(n,a,l){if(a)return kr.test(i.css(n,"display"))&&(!n.getClientRects().length||!n.getBoundingClientRect().width)?j(n,Gr,function(){return fi(n,t,l)}):fi(n,t,l)},set:function(n,a,l){var u,c=w(n),v=!W.scrollboxSize()&&c.position==="absolute",g=v||l,T=g&&i.css(n,"boxSizing",!1,c)==="border-box",I=l?fn(n,t,l,T,c):0;return T&&v&&(I-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(c[t])-fn(n,t,"border",!1,c)-.5)),I&&(u=tr.exec(a))&&(u[3]||"px")!=="px"&&(n.style[t]=a,a=i.css(n,t)),ui(n,a,I)}}}),i.cssHooks.marginLeft=Ze(W.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ce(e,"marginLeft"))||e.getBoundingClientRect().left-j(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),i.each({margin:"",padding:"",border:"Width"},function(e,t){i.cssHooks[e+t]={expand:function(n){for(var a=0,l={},u=typeof n=="string"?n.split(" "):[n];a<4;a++)l[e+ft[a]+t]=u[a]||u[a-2]||u[0];return l}},e!=="margin"&&(i.cssHooks[e+t].set=ui)}),i.fn.extend({css:function(e,t){return st(this,function(n,a,l){var u,c,v={},g=0;if(Array.isArray(a)){for(u=w(n),c=a.length;g<c;g++)v[a[g]]=i.css(n,a[g],!1,u);return v}return l!==void 0?i.style(n,a,l):i.css(n,a)},e,t,arguments.length>1)}});function wt(e,t,n,a,l){return new wt.prototype.init(e,t,n,a,l)}i.Tween=wt,wt.prototype={constructor:wt,init:function(e,t,n,a,l,u){this.elem=e,this.prop=n,this.easing=l||i.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=a,this.unit=u||(i.cssNumber[n]?"":"px")},cur:function(){var e=wt.propHooks[this.prop];return e&&e.get?e.get(this):wt.propHooks._default.get(this)},run:function(e){var t,n=wt.propHooks[this.prop];return this.options.duration?this.pos=t=i.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):wt.propHooks._default.set(this),this}},wt.prototype.init.prototype=wt.prototype,wt.propHooks={_default:{get:function(e){var t;return e.elem.nodeType!==1||e.elem[e.prop]!=null&&e.elem.style[e.prop]==null?e.elem[e.prop]:(t=i.css(e.elem,e.prop,""),!t||t==="auto"?0:t)},set:function(e){i.fx.step[e.prop]?i.fx.step[e.prop](e):e.elem.nodeType===1&&(i.cssHooks[e.prop]||e.elem.style[Je(e.prop)]!=null)?i.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},wt.propHooks.scrollTop=wt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},i.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},i.fx=wt.prototype.init,i.fx.step={};var d,y,p=/^(?:toggle|show|hide)$/,x=/queueHooks$/;function S(){y&&(ne.hidden===!1&&s.requestAnimationFrame?s.requestAnimationFrame(S):s.setTimeout(S,i.fx.interval),i.fx.tick())}function E(){return s.setTimeout(function(){d=void 0}),d=Date.now()}function F(e,t){var n,a=0,l={height:e};for(t=t?1:0;a<4;a+=2-t)n=ft[a],l["margin"+n]=l["padding"+n]=e;return t&&(l.opacity=l.width=e),l}function N(e,t,n){for(var a,l=(H.tweeners[t]||[]).concat(H.tweeners["*"]),u=0,c=l.length;u<c;u++)if(a=l[u].call(n,t,e))return a}function B(e,t,n){var a,l,u,c,v,g,T,I,O="width"in t||"height"in t,k=this,U={},ue=e.style,Te=e.nodeType&&fr(e),ge=Z.get(e,"fxshow");n.queue||(c=i._queueHooks(e,"fx"),c.unqueued==null&&(c.unqueued=0,v=c.empty.fire,c.empty.fire=function(){c.unqueued||v()}),c.unqueued++,k.always(function(){k.always(function(){c.unqueued--,i.queue(e,"fx").length||c.empty.fire()})}));for(a in t)if(l=t[a],p.test(l)){if(delete t[a],u=u||l==="toggle",l===(Te?"hide":"show"))if(l==="show"&&ge&&ge[a]!==void 0)Te=!0;else continue;U[a]=ge&&ge[a]||i.style(e,a)}if(g=!i.isEmptyObject(t),!(!g&&i.isEmptyObject(U))){O&&e.nodeType===1&&(n.overflow=[ue.overflow,ue.overflowX,ue.overflowY],T=ge&&ge.display,T==null&&(T=Z.get(e,"display")),I=i.css(e,"display"),I==="none"&&(T?I=T:(Ht([e],!0),T=e.style.display||T,I=i.css(e,"display"),Ht([e]))),(I==="inline"||I==="inline-block"&&T!=null)&&i.css(e,"float")==="none"&&(g||(k.done(function(){ue.display=T}),T==null&&(I=ue.display,T=I==="none"?"":I)),ue.display="inline-block")),n.overflow&&(ue.overflow="hidden",k.always(function(){ue.overflow=n.overflow[0],ue.overflowX=n.overflow[1],ue.overflowY=n.overflow[2]})),g=!1;for(a in U)g||(ge?"hidden"in ge&&(Te=ge.hidden):ge=Z.access(e,"fxshow",{display:T}),u&&(ge.hidden=!Te),Te&&Ht([e],!0),k.done(function(){Te||Ht([e]),Z.remove(e,"fxshow");for(a in U)i.style(e,a,U[a])})),g=N(Te?ge[a]:0,a,k),a in ge||(ge[a]=g.start,Te&&(g.end=g.start,g.start=0))}}function G(e,t){var n,a,l,u,c;for(n in e)if(a=ut(n),l=t[a],u=e[n],Array.isArray(u)&&(l=u[1],u=e[n]=u[0]),n!==a&&(e[a]=u,delete e[n]),c=i.cssHooks[a],c&&"expand"in c){u=c.expand(u),delete e[a];for(n in u)n in e||(e[n]=u[n],t[n]=l)}else t[a]=l}function H(e,t,n){var a,l,u=0,c=H.prefilters.length,v=i.Deferred().always(function(){delete g.elem}),g=function(){if(l)return!1;for(var O=d||E(),k=Math.max(0,T.startTime+T.duration-O),U=k/T.duration||0,ue=1-U,Te=0,ge=T.tweens.length;Te<ge;Te++)T.tweens[Te].run(ue);return v.notifyWith(e,[T,ue,k]),ue<1&&ge?k:(ge||v.notifyWith(e,[T,1,0]),v.resolveWith(e,[T]),!1)},T=v.promise({elem:e,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},n),originalProperties:t,originalOptions:n,startTime:d||E(),duration:n.duration,tweens:[],createTween:function(O,k){var U=i.Tween(e,T.opts,O,k,T.opts.specialEasing[O]||T.opts.easing);return T.tweens.push(U),U},stop:function(O){var k=0,U=O?T.tweens.length:0;if(l)return this;for(l=!0;k<U;k++)T.tweens[k].run(1);return O?(v.notifyWith(e,[T,1,0]),v.resolveWith(e,[T,O])):v.rejectWith(e,[T,O]),this}}),I=T.props;for(G(I,T.opts.specialEasing);u<c;u++)if(a=H.prefilters[u].call(T,e,I,T.opts),a)return Y(a.stop)&&(i._queueHooks(T.elem,T.opts.queue).stop=a.stop.bind(a)),a;return i.map(I,N,T),Y(T.opts.start)&&T.opts.start.call(e,T),T.progress(T.opts.progress).done(T.opts.done,T.opts.complete).fail(T.opts.fail).always(T.opts.always),i.fx.timer(i.extend(g,{elem:e,anim:T,queue:T.opts.queue})),T}i.Animation=i.extend(H,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return Hr(n.elem,e,tr.exec(t),n),n}]},tweener:function(e,t){Y(e)?(t=e,e=["*"]):e=e.match(vt);for(var n,a=0,l=e.length;a<l;a++)n=e[a],H.tweeners[n]=H.tweeners[n]||[],H.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?H.prefilters.unshift(e):H.prefilters.push(e)}}),i.speed=function(e,t,n){var a=e&&typeof e=="object"?i.extend({},e):{complete:n||!n&&t||Y(e)&&e,duration:e,easing:n&&t||t&&!Y(t)&&t};return i.fx.off?a.duration=0:typeof a.duration!="number"&&(a.duration in i.fx.speeds?a.duration=i.fx.speeds[a.duration]:a.duration=i.fx.speeds._default),(a.queue==null||a.queue===!0)&&(a.queue="fx"),a.old=a.complete,a.complete=function(){Y(a.old)&&a.old.call(this),a.queue&&i.dequeue(this,a.queue)},a},i.fn.extend({fadeTo:function(e,t,n,a){return this.filter(fr).css("opacity",0).show().end().animate({opacity:t},e,n,a)},animate:function(e,t,n,a){var l=i.isEmptyObject(e),u=i.speed(t,n,a),c=function(){var v=H(this,i.extend({},e),u);(l||Z.get(this,"finish"))&&v.stop(!0)};return c.finish=c,l||u.queue===!1?this.each(c):this.queue(u.queue,c)},stop:function(e,t,n){var a=function(l){var u=l.stop;delete l.stop,u(n)};return typeof e!="string"&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var l=!0,u=e!=null&&e+"queueHooks",c=i.timers,v=Z.get(this);if(u)v[u]&&v[u].stop&&a(v[u]);else for(u in v)v[u]&&v[u].stop&&x.test(u)&&a(v[u]);for(u=c.length;u--;)c[u].elem===this&&(e==null||c[u].queue===e)&&(c[u].anim.stop(n),l=!1,c.splice(u,1));(l||!n)&&i.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Z.get(this),a=n[e+"queue"],l=n[e+"queueHooks"],u=i.timers,c=a?a.length:0;for(n.finish=!0,i.queue(this,e,[]),l&&l.stop&&l.stop.call(this,!0),t=u.length;t--;)u[t].elem===this&&u[t].queue===e&&(u[t].anim.stop(!0),u.splice(t,1));for(t=0;t<c;t++)a[t]&&a[t].finish&&a[t].finish.call(this);delete n.finish})}}),i.each(["toggle","show","hide"],function(e,t){var n=i.fn[t];i.fn[t]=function(a,l,u){return a==null||typeof a=="boolean"?n.apply(this,arguments):this.animate(F(t,!0),a,l,u)}}),i.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){i.fn[e]=function(n,a,l){return this.animate(t,n,a,l)}}),i.timers=[],i.fx.tick=function(){var e,t=0,n=i.timers;for(d=Date.now();t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||i.fx.stop(),d=void 0},i.fx.timer=function(e){i.timers.push(e),i.fx.start()},i.fx.interval=13,i.fx.start=function(){y||(y=!0,S())},i.fx.stop=function(){y=null},i.fx.speeds={slow:600,fast:200,_default:400},i.fn.delay=function(e,t){return e=i.fx&&i.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(n,a){var l=s.setTimeout(n,e);a.stop=function(){s.clearTimeout(l)}})},function(){var e=ne.createElement("input"),t=ne.createElement("select"),n=t.appendChild(ne.createElement("option"));e.type="checkbox",W.checkOn=e.value!=="",W.optSelected=n.selected,e=ne.createElement("input"),e.value="t",e.type="radio",W.radioValue=e.value==="t"}();var te,de=i.expr.attrHandle;i.fn.extend({attr:function(e,t){return st(this,i.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){i.removeAttr(this,e)})}}),i.extend({attr:function(e,t,n){var a,l,u=e.nodeType;if(!(u===3||u===8||u===2)){if(typeof e.getAttribute=="undefined")return i.prop(e,t,n);if((u!==1||!i.isXMLDoc(e))&&(l=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?te:void 0)),n!==void 0){if(n===null){i.removeAttr(e,t);return}return l&&"set"in l&&(a=l.set(e,n,t))!==void 0?a:(e.setAttribute(t,n+""),n)}return l&&"get"in l&&(a=l.get(e,t))!==null?a:(a=i.find.attr(e,t),a==null?void 0:a)}},attrHooks:{type:{set:function(e,t){if(!W.radioValue&&t==="radio"&&J(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,a=0,l=t&&t.match(vt);if(l&&e.nodeType===1)for(;n=l[a++];)e.removeAttribute(n)}}),te={set:function(e,t,n){return t===!1?i.removeAttr(e,n):e.setAttribute(n,n),n}},i.each(i.expr.match.bool.source.match(/\w+/g),function(e,t){var n=de[t]||i.find.attr;de[t]=function(a,l,u){var c,v,g=l.toLowerCase();return u||(v=de[g],de[g]=c,c=n(a,l,u)!=null?g:null,de[g]=v),c}});var Ae=/^(?:input|select|textarea|button)$/i,Pe=/^(?:a|area)$/i;i.fn.extend({prop:function(e,t){return st(this,i.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[i.propFix[e]||e]})}}),i.extend({prop:function(e,t,n){var a,l,u=e.nodeType;if(!(u===3||u===8||u===2))return(u!==1||!i.isXMLDoc(e))&&(t=i.propFix[t]||t,l=i.propHooks[t]),n!==void 0?l&&"set"in l&&(a=l.set(e,n,t))!==void 0?a:e[t]=n:l&&"get"in l&&(a=l.get(e,t))!==null?a:e[t]},propHooks:{tabIndex:{get:function(e){var t=i.find.attr(e,"tabindex");return t?parseInt(t,10):Ae.test(e.nodeName)||Pe.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),W.optSelected||(i.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});function Oe(e){var t=e.match(vt)||[];return t.join(" ")}function Fe(e){return e.getAttribute&&e.getAttribute("class")||""}function _t(e){return Array.isArray(e)?e:typeof e=="string"?e.match(vt)||[]:[]}i.fn.extend({addClass:function(e){var t,n,a,l,u,c;return Y(e)?this.each(function(v){i(this).addClass(e.call(this,v,Fe(this)))}):(t=_t(e),t.length?this.each(function(){if(a=Fe(this),n=this.nodeType===1&&" "+Oe(a)+" ",n){for(u=0;u<t.length;u++)l=t[u],n.indexOf(" "+l+" ")<0&&(n+=l+" ");c=Oe(n),a!==c&&this.setAttribute("class",c)}}):this)},removeClass:function(e){var t,n,a,l,u,c;return Y(e)?this.each(function(v){i(this).removeClass(e.call(this,v,Fe(this)))}):arguments.length?(t=_t(e),t.length?this.each(function(){if(a=Fe(this),n=this.nodeType===1&&" "+Oe(a)+" ",n){for(u=0;u<t.length;u++)for(l=t[u];n.indexOf(" "+l+" ")>-1;)n=n.replace(" "+l+" "," ");c=Oe(n),a!==c&&this.setAttribute("class",c)}}):this):this.attr("class","")},toggleClass:function(e,t){var n,a,l,u,c=typeof e,v=c==="string"||Array.isArray(e);return Y(e)?this.each(function(g){i(this).toggleClass(e.call(this,g,Fe(this),t),t)}):typeof t=="boolean"&&v?t?this.addClass(e):this.removeClass(e):(n=_t(e),this.each(function(){if(v)for(u=i(this),l=0;l<n.length;l++)a=n[l],u.hasClass(a)?u.removeClass(a):u.addClass(a);else(e===void 0||c==="boolean")&&(a=Fe(this),a&&Z.set(this,"__className__",a),this.setAttribute&&this.setAttribute("class",a||e===!1?"":Z.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,a=0;for(t=" "+e+" ";n=this[a++];)if(n.nodeType===1&&(" "+Oe(Fe(n))+" ").indexOf(t)>-1)return!0;return!1}});var cn=/\r/g;i.fn.extend({val:function(e){var t,n,a,l=this[0];return arguments.length?(a=Y(e),this.each(function(u){var c;this.nodeType===1&&(a?c=e.call(this,u,i(this).val()):c=e,c==null?c="":typeof c=="number"?c+="":Array.isArray(c)&&(c=i.map(c,function(v){return v==null?"":v+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],(!t||!("set"in t)||t.set(this,c,"value")===void 0)&&(this.value=c))})):l?(t=i.valHooks[l.type]||i.valHooks[l.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(l,"value"))!==void 0?n:(n=l.value,typeof n=="string"?n.replace(cn,""):n==null?"":n)):void 0}}),i.extend({valHooks:{option:{get:function(e){var t=i.find.attr(e,"value");return t!=null?t:Oe(i.text(e))}},select:{get:function(e){var t,n,a,l=e.options,u=e.selectedIndex,c=e.type==="select-one",v=c?null:[],g=c?u+1:l.length;for(u<0?a=g:a=c?u:0;a<g;a++)if(n=l[a],(n.selected||a===u)&&!n.disabled&&(!n.parentNode.disabled||!J(n.parentNode,"optgroup"))){if(t=i(n).val(),c)return t;v.push(t)}return v},set:function(e,t){for(var n,a,l=e.options,u=i.makeArray(t),c=l.length;c--;)a=l[c],(a.selected=i.inArray(i.valHooks.option.get(a),u)>-1)&&(n=!0);return n||(e.selectedIndex=-1),u}}}}),i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=i.inArray(i(e).val(),t)>-1}},W.checkOn||(i.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var Dr=s.location,ci={guid:Date.now()},dn=/\?/;i.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{t=new s.DOMParser().parseFromString(e,"text/xml")}catch(a){}return n=t&&t.getElementsByTagName("parsererror")[0],(!t||n)&&i.error("Invalid XML: "+(n?i.map(n.childNodes,function(a){return a.textContent}).join(`
`):e)),t};var Hi=/^(?:focusinfocus|focusoutblur)$/,di=function(e){e.stopPropagation()};i.extend(i.event,{trigger:function(e,t,n,a){var l,u,c,v,g,T,I,O,k=[n||ne],U=ae.call(e,"type")?e.type:e,ue=ae.call(e,"namespace")?e.namespace.split("."):[];if(u=O=c=n=n||ne,!(n.nodeType===3||n.nodeType===8)&&!Hi.test(U+i.event.triggered)&&(U.indexOf(".")>-1&&(ue=U.split("."),U=ue.shift(),ue.sort()),g=U.indexOf(":")<0&&"on"+U,e=e[i.expando]?e:new i.Event(U,typeof e=="object"&&e),e.isTrigger=a?2:3,e.namespace=ue.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+ue.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=t==null?[e]:i.makeArray(t,[e]),I=i.event.special[U]||{},!(!a&&I.trigger&&I.trigger.apply(n,t)===!1))){if(!a&&!I.noBubble&&!xe(n)){for(v=I.delegateType||U,Hi.test(v+U)||(u=u.parentNode);u;u=u.parentNode)k.push(u),c=u;c===(n.ownerDocument||ne)&&k.push(c.defaultView||c.parentWindow||s)}for(l=0;(u=k[l++])&&!e.isPropagationStopped();)O=u,e.type=l>1?v:I.bindType||U,T=(Z.get(u,"events")||Object.create(null))[e.type]&&Z.get(u,"handle"),T&&T.apply(u,t),T=g&&u[g],T&&T.apply&&Jt(u)&&(e.result=T.apply(u,t),e.result===!1&&e.preventDefault());return e.type=U,!a&&!e.isDefaultPrevented()&&(!I._default||I._default.apply(k.pop(),t)===!1)&&Jt(n)&&g&&Y(n[U])&&!xe(n)&&(c=n[g],c&&(n[g]=null),i.event.triggered=U,e.isPropagationStopped()&&O.addEventListener(U,di),n[U](),e.isPropagationStopped()&&O.removeEventListener(U,di),i.event.triggered=void 0,c&&(n[g]=c)),e.result}},simulate:function(e,t,n){var a=i.extend(new i.Event,n,{type:e,isSimulated:!0});i.event.trigger(a,null,t)}}),i.fn.extend({trigger:function(e,t){return this.each(function(){i.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return i.event.trigger(e,t,n,!0)}});var Ui=/\[\]$/,On=/\r?\n/g,xs=/^(?:submit|button|image|reset|file)$/i,Ts=/^(?:input|select|textarea|keygen)/i;function ji(e,t,n,a){var l;if(Array.isArray(t))i.each(t,function(u,c){n||Ui.test(e)?a(e,c):ji(e+"["+(typeof c=="object"&&c!=null?u:"")+"]",c,n,a)});else if(!n&&ke(t)==="object")for(l in t)ji(e+"["+l+"]",t[l],n,a);else a(e,t)}i.param=function(e,t){var n,a=[],l=function(u,c){var v=Y(c)?c():c;a[a.length]=encodeURIComponent(u)+"="+encodeURIComponent(v==null?"":v)};if(e==null)return"";if(Array.isArray(e)||e.jquery&&!i.isPlainObject(e))i.each(e,function(){l(this.name,this.value)});else for(n in e)ji(n,e[n],t,l);return a.join("&")},i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=i.prop(this,"elements");return e?i.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!i(this).is(":disabled")&&Ts.test(this.nodeName)&&!xs.test(e)&&(this.checked||!yt.test(e))}).map(function(e,t){var n=i(this).val();return n==null?null:Array.isArray(n)?i.map(n,function(a){return{name:t.name,value:a.replace(On,`\r
`)}}):{name:t.name,value:n.replace(On,`\r
`)}}).get()}});var Ss=/%20/g,Cs=/#.*$/,As=/([?&])_=[^&]*/,ks=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ds=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rs=/^(?:GET|HEAD)$/,Ls=/^\/\//,zo={},Bi={},Vo="*/".concat("*"),$i=ne.createElement("a");$i.href=Dr.href;function qo(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var a,l=0,u=t.toLowerCase().match(vt)||[];if(Y(n))for(;a=u[l++];)a[0]==="+"?(a=a.slice(1)||"*",(e[a]=e[a]||[]).unshift(n)):(e[a]=e[a]||[]).push(n)}}function Yo(e,t,n,a){var l={},u=e===Bi;function c(v){var g;return l[v]=!0,i.each(e[v]||[],function(T,I){var O=I(t,n,a);if(typeof O=="string"&&!u&&!l[O])return t.dataTypes.unshift(O),c(O),!1;if(u)return!(g=O)}),g}return c(t.dataTypes[0])||!l["*"]&&c("*")}function Gi(e,t){var n,a,l=i.ajaxSettings.flatOptions||{};for(n in t)t[n]!==void 0&&((l[n]?e:a||(a={}))[n]=t[n]);return a&&i.extend(!0,e,a),e}function Ps(e,t,n){for(var a,l,u,c,v=e.contents,g=e.dataTypes;g[0]==="*";)g.shift(),a===void 0&&(a=e.mimeType||t.getResponseHeader("Content-Type"));if(a){for(l in v)if(v[l]&&v[l].test(a)){g.unshift(l);break}}if(g[0]in n)u=g[0];else{for(l in n){if(!g[0]||e.converters[l+" "+g[0]]){u=l;break}c||(c=l)}u=u||c}if(u)return u!==g[0]&&g.unshift(u),n[u]}function Is(e,t,n,a){var l,u,c,v,g,T={},I=e.dataTypes.slice();if(I[1])for(c in e.converters)T[c.toLowerCase()]=e.converters[c];for(u=I.shift();u;)if(e.responseFields[u]&&(n[e.responseFields[u]]=t),!g&&a&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),g=u,u=I.shift(),u){if(u==="*")u=g;else if(g!=="*"&&g!==u){if(c=T[g+" "+u]||T["* "+u],!c){for(l in T)if(v=l.split(" "),v[1]===u&&(c=T[g+" "+v[0]]||T["* "+v[0]],c)){c===!0?c=T[l]:T[l]!==!0&&(u=v[0],I.unshift(v[1]));break}}if(c!==!0)if(c&&e.throws)t=c(t);else try{t=c(t)}catch(O){return{state:"parsererror",error:c?O:"No conversion from "+g+" to "+u}}}}return{state:"success",data:t}}i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dr.href,type:"GET",isLocal:Ds.test(Dr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vo,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gi(Gi(e,i.ajaxSettings),t):Gi(i.ajaxSettings,e)},ajaxPrefilter:qo(zo),ajaxTransport:qo(Bi),ajax:function(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};var n,a,l,u,c,v,g,T,I,O,k=i.ajaxSetup({},t),U=k.context||k,ue=k.context&&(U.nodeType||U.jquery)?i(U):i.event,Te=i.Deferred(),ge=i.Callbacks("once memory"),ht=k.statusCode||{},it={},dr={},hr="canceled",_e={readyState:0,getResponseHeader:function(Se){var Xe;if(g){if(!u)for(u={};Xe=ks.exec(l);)u[Xe[1].toLowerCase()+" "]=(u[Xe[1].toLowerCase()+" "]||[]).concat(Xe[2]);Xe=u[Se.toLowerCase()+" "]}return Xe==null?null:Xe.join(", ")},getAllResponseHeaders:function(){return g?l:null},setRequestHeader:function(Se,Xe){return g==null&&(Se=dr[Se.toLowerCase()]=dr[Se.toLowerCase()]||Se,it[Se]=Xe),this},overrideMimeType:function(Se){return g==null&&(k.mimeType=Se),this},statusCode:function(Se){var Xe;if(Se)if(g)_e.always(Se[_e.status]);else for(Xe in Se)ht[Xe]=[ht[Xe],Se[Xe]];return this},abort:function(Se){var Xe=Se||hr;return n&&n.abort(Xe),hn(0,Xe),this}};if(Te.promise(_e),k.url=((e||k.url||Dr.href)+"").replace(Ls,Dr.protocol+"//"),k.type=t.method||t.type||k.method||k.type,k.dataTypes=(k.dataType||"*").toLowerCase().match(vt)||[""],k.crossDomain==null){v=ne.createElement("a");try{v.href=k.url,v.href=v.href,k.crossDomain=$i.protocol+"//"+$i.host!=v.protocol+"//"+v.host}catch(Se){k.crossDomain=!0}}if(k.data&&k.processData&&typeof k.data!="string"&&(k.data=i.param(k.data,k.traditional)),Yo(zo,k,t,_e),g)return _e;T=i.event&&k.global,T&&i.active++==0&&i.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Rs.test(k.type),a=k.url.replace(Cs,""),k.hasContent?k.data&&k.processData&&(k.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(k.data=k.data.replace(Ss,"+")):(O=k.url.slice(a.length),k.data&&(k.processData||typeof k.data=="string")&&(a+=(dn.test(a)?"&":"?")+k.data,delete k.data),k.cache===!1&&(a=a.replace(As,"$1"),O=(dn.test(a)?"&":"?")+"_="+ci.guid+++O),k.url=a+O),k.ifModified&&(i.lastModified[a]&&_e.setRequestHeader("If-Modified-Since",i.lastModified[a]),i.etag[a]&&_e.setRequestHeader("If-None-Match",i.etag[a])),(k.data&&k.hasContent&&k.contentType!==!1||t.contentType)&&_e.setRequestHeader("Content-Type",k.contentType),_e.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+(k.dataTypes[0]!=="*"?", "+Vo+"; q=0.01":""):k.accepts["*"]);for(I in k.headers)_e.setRequestHeader(I,k.headers[I]);if(k.beforeSend&&(k.beforeSend.call(U,_e,k)===!1||g))return _e.abort();if(hr="abort",ge.add(k.complete),_e.done(k.success),_e.fail(k.error),n=Yo(Bi,k,t,_e),!n)hn(-1,"No Transport");else{if(_e.readyState=1,T&&ue.trigger("ajaxSend",[_e,k]),g)return _e;k.async&&k.timeout>0&&(c=s.setTimeout(function(){_e.abort("timeout")},k.timeout));try{g=!1,n.send(it,hn)}catch(Se){if(g)throw Se;hn(-1,Se)}}function hn(Se,Xe,Wn,Vi){var pr,Hn,mr,zr,Vr,zt=Xe;g||(g=!0,c&&s.clearTimeout(c),n=void 0,l=Vi||"",_e.readyState=Se>0?4:0,pr=Se>=200&&Se<300||Se===304,Wn&&(zr=Ps(k,_e,Wn)),!pr&&i.inArray("script",k.dataTypes)>-1&&i.inArray("json",k.dataTypes)<0&&(k.converters["text script"]=function(){}),zr=Is(k,zr,_e,pr),pr?(k.ifModified&&(Vr=_e.getResponseHeader("Last-Modified"),Vr&&(i.lastModified[a]=Vr),Vr=_e.getResponseHeader("etag"),Vr&&(i.etag[a]=Vr)),Se===204||k.type==="HEAD"?zt="nocontent":Se===304?zt="notmodified":(zt=zr.state,Hn=zr.data,mr=zr.error,pr=!mr)):(mr=zt,(Se||!zt)&&(zt="error",Se<0&&(Se=0))),_e.status=Se,_e.statusText=(Xe||zt)+"",pr?Te.resolveWith(U,[Hn,zt,_e]):Te.rejectWith(U,[_e,zt,mr]),_e.statusCode(ht),ht=void 0,T&&ue.trigger(pr?"ajaxSuccess":"ajaxError",[_e,k,pr?Hn:mr]),ge.fireWith(U,[_e,zt]),T&&(ue.trigger("ajaxComplete",[_e,k]),--i.active||i.event.trigger("ajaxStop")))}return _e},getJSON:function(e,t,n){return i.get(e,t,n,"json")},getScript:function(e,t){return i.get(e,void 0,t,"script")}}),i.each(["get","post"],function(e,t){i[t]=function(n,a,l,u){return Y(a)&&(u=u||l,l=a,a=void 0),i.ajax(i.extend({url:n,type:t,dataType:u,data:a,success:l},i.isPlainObject(n)&&n))}}),i.ajaxPrefilter(function(e){var t;for(t in e.headers)t.toLowerCase()==="content-type"&&(e.contentType=e.headers[t]||"")}),i._evalUrl=function(e,t,n){return i.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(a){i.globalEval(a,t,n)}})},i.fn.extend({wrapAll:function(e){var t;return this[0]&&(Y(e)&&(e=e.call(this[0])),t=i(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(e){return Y(e)?this.each(function(t){i(this).wrapInner(e.call(this,t))}):this.each(function(){var t=i(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Y(e);return this.each(function(n){i(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(e){return!i.expr.pseudos.visible(e)},i.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new s.XMLHttpRequest}catch(e){}};var Fs={0:200,1223:204},Nn=i.ajaxSettings.xhr();W.cors=!!Nn&&"withCredentials"in Nn,W.ajax=Nn=!!Nn,i.ajaxTransport(function(e){var t,n;if(W.cors||Nn&&!e.crossDomain)return{send:function(a,l){var u,c=e.xhr();if(c.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(u in e.xhrFields)c[u]=e.xhrFields[u];e.mimeType&&c.overrideMimeType&&c.overrideMimeType(e.mimeType),!e.crossDomain&&!a["X-Requested-With"]&&(a["X-Requested-With"]="XMLHttpRequest");for(u in a)c.setRequestHeader(u,a[u]);t=function(v){return function(){t&&(t=n=c.onload=c.onerror=c.onabort=c.ontimeout=c.onreadystatechange=null,v==="abort"?c.abort():v==="error"?typeof c.status!="number"?l(0,"error"):l(c.status,c.statusText):l(Fs[c.status]||c.status,c.statusText,(c.responseType||"text")!=="text"||typeof c.responseText!="string"?{binary:c.response}:{text:c.responseText},c.getAllResponseHeaders()))}},c.onload=t(),n=c.onerror=c.ontimeout=t("error"),c.onabort!==void 0?c.onabort=n:c.onreadystatechange=function(){c.readyState===4&&s.setTimeout(function(){t&&n()})},t=t("abort");try{c.send(e.hasContent&&e.data||null)}catch(v){if(t)throw v}},abort:function(){t&&t()}}}),i.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return i.globalEval(e),e}}}),i.ajaxPrefilter("script",function(e){e.cache===void 0&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),i.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(a,l){t=i("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(u){t.remove(),n=null,u&&l(u.type==="error"?404:200,u.type)}),ne.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Xo=[],zi=/(=)\?(?=&|$)|\?\?/;i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xo.pop()||i.expando+"_"+ci.guid++;return this[e]=!0,e}}),i.ajaxPrefilter("json jsonp",function(e,t,n){var a,l,u,c=e.jsonp!==!1&&(zi.test(e.url)?"url":typeof e.data=="string"&&(e.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&zi.test(e.data)&&"data");if(c||e.dataTypes[0]==="jsonp")return a=e.jsonpCallback=Y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,c?e[c]=e[c].replace(zi,"$1"+a):e.jsonp!==!1&&(e.url+=(dn.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return u||i.error(a+" was not called"),u[0]},e.dataTypes[0]="json",l=s[a],s[a]=function(){u=arguments},n.always(function(){l===void 0?i(s).removeProp(a):s[a]=l,e[a]&&(e.jsonpCallback=t.jsonpCallback,Xo.push(a)),u&&Y(l)&&l(u[0]),u=l=void 0}),"script"}),W.createHTMLDocument=function(){var e=ne.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",e.childNodes.length===2}(),i.parseHTML=function(e,t,n){if(typeof e!="string")return[];typeof t=="boolean"&&(n=t,t=!1);var a,l,u;return t||(W.createHTMLDocument?(t=ne.implementation.createHTMLDocument(""),a=t.createElement("base"),a.href=ne.location.href,t.head.appendChild(a)):t=ne),l=$e.exec(e),u=!n&&[],l?[t.createElement(l[1])]:(l=nn([e],t,u),u&&u.length&&i(u).remove(),i.merge([],l.childNodes))},i.fn.load=function(e,t,n){var a,l,u,c=this,v=e.indexOf(" ");return v>-1&&(a=Oe(e.slice(v)),e=e.slice(0,v)),Y(t)?(n=t,t=void 0):t&&typeof t=="object"&&(l="POST"),c.length>0&&i.ajax({url:e,type:l||"GET",dataType:"html",data:t}).done(function(g){u=arguments,c.html(a?i("<div>").append(i.parseHTML(g)).find(a):g)}).always(n&&function(g,T){c.each(function(){n.apply(this,u||[g.responseText,T,g])})}),this},i.expr.pseudos.animated=function(e){return i.grep(i.timers,function(t){return e===t.elem}).length},i.offset={setOffset:function(e,t,n){var a,l,u,c,v,g,T,I=i.css(e,"position"),O=i(e),k={};I==="static"&&(e.style.position="relative"),v=O.offset(),u=i.css(e,"top"),g=i.css(e,"left"),T=(I==="absolute"||I==="fixed")&&(u+g).indexOf("auto")>-1,T?(a=O.position(),c=a.top,l=a.left):(c=parseFloat(u)||0,l=parseFloat(g)||0),Y(t)&&(t=t.call(e,n,i.extend({},v))),t.top!=null&&(k.top=t.top-v.top+c),t.left!=null&&(k.left=t.left-v.left+l),"using"in t?t.using.call(e,k):O.css(k)}},i.fn.extend({offset:function(e){if(arguments.length)return e===void 0?this:this.each(function(l){i.offset.setOffset(this,e,l)});var t,n,a=this[0];if(!!a)return a.getClientRects().length?(t=a.getBoundingClientRect(),n=a.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var e,t,n,a=this[0],l={top:0,left:0};if(i.css(a,"position")==="fixed")t=a.getBoundingClientRect();else{for(t=this.offset(),n=a.ownerDocument,e=a.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&i.css(e,"position")==="static";)e=e.parentNode;e&&e!==a&&e.nodeType===1&&(l=i(e).offset(),l.top+=i.css(e,"borderTopWidth",!0),l.left+=i.css(e,"borderLeftWidth",!0))}return{top:t.top-l.top-i.css(a,"marginTop",!0),left:t.left-l.left-i.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&i.css(e,"position")==="static";)e=e.offsetParent;return e||St})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=t==="pageYOffset";i.fn[e]=function(a){return st(this,function(l,u,c){var v;if(xe(l)?v=l:l.nodeType===9&&(v=l.defaultView),c===void 0)return v?v[t]:l[u];v?v.scrollTo(n?v.pageXOffset:c,n?c:v.pageYOffset):l[u]=c},e,a,arguments.length)}}),i.each(["top","left"],function(e,t){i.cssHooks[t]=Ze(W.pixelPosition,function(n,a){if(a)return a=Ce(n,t),un.test(a)?i(n).position()[t]+"px":a})}),i.each({Height:"height",Width:"width"},function(e,t){i.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,a){i.fn[a]=function(l,u){var c=arguments.length&&(n||typeof l!="boolean"),v=n||(l===!0||u===!0?"margin":"border");return st(this,function(g,T,I){var O;return xe(g)?a.indexOf("outer")===0?g["inner"+e]:g.document.documentElement["client"+e]:g.nodeType===9?(O=g.documentElement,Math.max(g.body["scroll"+e],O["scroll"+e],g.body["offset"+e],O["offset"+e],O["client"+e])):I===void 0?i.css(g,T,v):i.style(g,T,I,v)},t,c?l:void 0,c)}})}),i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){i.fn[t]=function(n){return this.on(t,n)}}),i.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,a){return this.on(t,e,n,a)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){i.fn[t]=function(n,a){return arguments.length>0?this.on(t,null,n,a):this.trigger(t)}});var Ms=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;i.proxy=function(e,t){var n,a,l;if(typeof t=="string"&&(n=e[t],t=e,e=n),!!Y(e))return a=h.call(arguments,2),l=function(){return e.apply(t||this,a.concat(h.call(arguments)))},l.guid=e.guid=e.guid||i.guid++,l},i.holdReady=function(e){e?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=J,i.isFunction=Y,i.isWindow=xe,i.camelCase=ut,i.type=ke,i.now=Date.now,i.isNumeric=function(e){var t=i.type(e);return(t==="number"||t==="string")&&!isNaN(e-parseFloat(e))},i.trim=function(e){return e==null?"":(e+"").replace(Ms,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return i});var Os=s.jQuery,Ns=s.$;return i.noConflict=function(e){return s.$===i&&(s.$=Ns),e&&s.jQuery===i&&(s.jQuery=Os),i},typeof r=="undefined"&&(s.jQuery=s.$=i),i})});var Qa=Ji((ic,Ka)=>{"use strict";var{entries:Oa,setPrototypeOf:Na,isFrozen:nl,getPrototypeOf:il,getOwnPropertyDescriptor:ol}=Object,{freeze:kt,seal:Yt,create:Wa}=Object,{apply:So,construct:Co}=typeof Reflect!="undefined"&&Reflect;kt||(kt=function(r){return r});Yt||(Yt=function(r){return r});So||(So=function(r,o,f){return r.apply(o,f)});Co||(Co=function(r,o){return new r(...o)});var Ai=Rt(Array.prototype.forEach),al=Rt(Array.prototype.lastIndexOf),Ha=Rt(Array.prototype.pop),Xn=Rt(Array.prototype.push),sl=Rt(Array.prototype.splice),ki=Rt(String.prototype.toLowerCase),Ao=Rt(String.prototype.toString),Ua=Rt(String.prototype.match),Kn=Rt(String.prototype.replace),ll=Rt(String.prototype.indexOf),ul=Rt(String.prototype.trim),sr=Rt(Object.prototype.hasOwnProperty),Dt=Rt(RegExp.prototype.test),Qn=fl(TypeError);function Rt(s){return function(r){for(var o=arguments.length,f=new Array(o>1?o-1:0),h=1;h<o;h++)f[h-1]=arguments[h];return So(s,r,f)}}function fl(s){return function(){for(var r=arguments.length,o=new Array(r),f=0;f<r;f++)o[f]=arguments[f];return Co(s,o)}}function we(s,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ki;Na&&Na(s,null);let f=r.length;for(;f--;){let h=r[f];if(typeof h=="string"){let _=o(h);_!==h&&(nl(r)||(r[f]=_),h=_)}s[h]=!0}return s}function cl(s){for(let r=0;r<s.length;r++)sr(s,r)||(s[r]=null);return s}function yn(s){let r=Wa(null);for(let[o,f]of Oa(s))sr(s,o)&&(Array.isArray(f)?r[o]=cl(f):f&&typeof f=="object"&&f.constructor===Object?r[o]=yn(f):r[o]=f);return r}function Zn(s,r){for(;s!==null;){let f=ol(s,r);if(f){if(f.get)return Rt(f.get);if(typeof f.value=="function")return Rt(f.value)}s=il(s)}function o(){return null}return o}var ja=kt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ko=kt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Do=kt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dl=kt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ro=kt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),hl=kt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ba=kt(["#text"]),$a=kt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Lo=kt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ga=kt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Di=kt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),pl=Yt(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ml=Yt(/<%[\w\W]*|[\w\W]*%>/gm),gl=Yt(/\$\{[\w\W]*/gm),vl=Yt(/^data-[\-\w.\u00B7-\uFFFF]+$/),yl=Yt(/^aria-[\-\w]+$/),za=Yt(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),bl=Yt(/^(?:\w+script|data):/i),wl=Yt(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Va=Yt(/^html$/i),_l=Yt(/^[a-z][.\w]*(-[.\w]+)+$/i),qa=Object.freeze({__proto__:null,ARIA_ATTR:yl,ATTR_WHITESPACE:wl,CUSTOM_ELEMENT:_l,DATA_ATTR:vl,DOCTYPE_NAME:Va,ERB_EXPR:ml,IS_ALLOWED_URI:za,IS_SCRIPT_OR_DATA:bl,MUSTACHE_EXPR:pl,TMPLIT_EXPR:gl}),Jn={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},El=function(){return typeof window=="undefined"?null:window},xl=function(r,o){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let f=null,h="data-tt-policy-suffix";o&&o.hasAttribute(h)&&(f=o.getAttribute(h));let _="dompurify"+(f?"#"+f:"");try{return r.createPolicy(_,{createHTML(C){return C},createScriptURL(C){return C}})}catch(C){return console.warn("TrustedTypes policy "+_+" could not be created."),null}},Ya=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Xa(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:El(),r=ie=>Xa(ie);if(r.version="3.2.4",r.removed=[],!s||!s.document||s.document.nodeType!==Jn.document||!s.Element)return r.isSupported=!1,r;let{document:o}=s,f=o,h=f.currentScript,{DocumentFragment:_,HTMLTemplateElement:C,Node:P,Element:L,NodeFilter:q,NamedNodeMap:ae=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:Ie,DOMParser:z,trustedTypes:W}=s,Y=L.prototype,xe=Zn(Y,"cloneNode"),ne=Zn(Y,"remove"),We=Zn(Y,"nextSibling"),at=Zn(Y,"childNodes"),ke=Zn(Y,"parentNode");if(typeof C=="function"){let ie=o.createElement("template");ie.content&&ie.content.ownerDocument&&(o=ie.content.ownerDocument)}let De,rt="",{implementation:i,createNodeIterator:pe,createDocumentFragment:J,getElementsByTagName:Re}=o,{importNode:Qe}=f,Le=Ya();r.isSupported=typeof Oa=="function"&&typeof ke=="function"&&i&&i.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:fe,ERB_EXPR:Ye,TMPLIT_EXPR:Tt,DATA_ATTR:_r,ARIA_ATTR:pt,IS_SCRIPT_OR_DATA:Er,ATTR_WHITESPACE:mt,CUSTOM_ELEMENT:Qr}=qa,{IS_ALLOWED_URI:Zr}=qa,$e=null,gt=we({},[...ja,...ko,...Do,...Ro,...Ba]),Ge=null,En=we({},[...$a,...Lo,...Ga,...Di]),Ue=Object.seal(Wa(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xr=null,Jr=null,en=!0,vt=!0,xn=!1,Kt=!0,Wt=!1,Or=!0,Qt=!1,Tr=!1,lt=!1,st=!1,Sr=!1,Zt=!1,Nr=!0,ut=!1,Jt="user-content-",Bt=!0,Z=!1,Be={},er=null,tn=we({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),rn=null,Wr=we({},["audio","video","img","source","image","track"]),Cr=null,tr=we({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ft="http://www.w3.org/1998/Math/MathML",St="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml",$t=nt,fr=!1,Hr=null,Ur=we({},[ft,St,nt],Ao),Ar=we({},["mi","mo","mn","ms","mtext"]),Ht=we({},["annotation-xml"]),yt=we({},["title","style","font","a","script"]),cr=null,Tn=["application/xhtml+xml","text/html"],ct="text/html",Ee=null,Gt=null,Mn=o.createElement("form"),nn=function(w){return w instanceof RegExp||w instanceof Function},jr=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Gt&&Gt===w)){if((!w||typeof w!="object")&&(w={}),w=yn(w),cr=Tn.indexOf(w.PARSER_MEDIA_TYPE)===-1?ct:w.PARSER_MEDIA_TYPE,Ee=cr==="application/xhtml+xml"?Ao:ki,$e=sr(w,"ALLOWED_TAGS")?we({},w.ALLOWED_TAGS,Ee):gt,Ge=sr(w,"ALLOWED_ATTR")?we({},w.ALLOWED_ATTR,Ee):En,Hr=sr(w,"ALLOWED_NAMESPACES")?we({},w.ALLOWED_NAMESPACES,Ao):Ur,Cr=sr(w,"ADD_URI_SAFE_ATTR")?we(yn(tr),w.ADD_URI_SAFE_ATTR,Ee):tr,rn=sr(w,"ADD_DATA_URI_TAGS")?we(yn(Wr),w.ADD_DATA_URI_TAGS,Ee):Wr,er=sr(w,"FORBID_CONTENTS")?we({},w.FORBID_CONTENTS,Ee):tn,xr=sr(w,"FORBID_TAGS")?we({},w.FORBID_TAGS,Ee):{},Jr=sr(w,"FORBID_ATTR")?we({},w.FORBID_ATTR,Ee):{},Be=sr(w,"USE_PROFILES")?w.USE_PROFILES:!1,en=w.ALLOW_ARIA_ATTR!==!1,vt=w.ALLOW_DATA_ATTR!==!1,xn=w.ALLOW_UNKNOWN_PROTOCOLS||!1,Kt=w.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Wt=w.SAFE_FOR_TEMPLATES||!1,Or=w.SAFE_FOR_XML!==!1,Qt=w.WHOLE_DOCUMENT||!1,st=w.RETURN_DOM||!1,Sr=w.RETURN_DOM_FRAGMENT||!1,Zt=w.RETURN_TRUSTED_TYPE||!1,lt=w.FORCE_BODY||!1,Nr=w.SANITIZE_DOM!==!1,ut=w.SANITIZE_NAMED_PROPS||!1,Bt=w.KEEP_CONTENT!==!1,Z=w.IN_PLACE||!1,Zr=w.ALLOWED_URI_REGEXP||za,$t=w.NAMESPACE||nt,Ar=w.MATHML_TEXT_INTEGRATION_POINTS||Ar,Ht=w.HTML_INTEGRATION_POINTS||Ht,Ue=w.CUSTOM_ELEMENT_HANDLING||{},w.CUSTOM_ELEMENT_HANDLING&&nn(w.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ue.tagNameCheck=w.CUSTOM_ELEMENT_HANDLING.tagNameCheck),w.CUSTOM_ELEMENT_HANDLING&&nn(w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ue.attributeNameCheck=w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),w.CUSTOM_ELEMENT_HANDLING&&typeof w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ue.allowCustomizedBuiltInElements=w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Wt&&(vt=!1),Sr&&(st=!0),Be&&($e=we({},Ba),Ge=[],Be.html===!0&&(we($e,ja),we(Ge,$a)),Be.svg===!0&&(we($e,ko),we(Ge,Lo),we(Ge,Di)),Be.svgFilters===!0&&(we($e,Do),we(Ge,Lo),we(Ge,Di)),Be.mathMl===!0&&(we($e,Ro),we(Ge,Ga),we(Ge,Di))),w.ADD_TAGS&&($e===gt&&($e=yn($e)),we($e,w.ADD_TAGS,Ee)),w.ADD_ATTR&&(Ge===En&&(Ge=yn(Ge)),we(Ge,w.ADD_ATTR,Ee)),w.ADD_URI_SAFE_ATTR&&we(Cr,w.ADD_URI_SAFE_ATTR,Ee),w.FORBID_CONTENTS&&(er===tn&&(er=yn(er)),we(er,w.FORBID_CONTENTS,Ee)),Bt&&($e["#text"]=!0),Qt&&we($e,["html","head","body"]),$e.table&&(we($e,["tbody"]),delete xr.tbody),w.TRUSTED_TYPES_POLICY){if(typeof w.TRUSTED_TYPES_POLICY.createHTML!="function")throw Qn('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof w.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Qn('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');De=w.TRUSTED_TYPES_POLICY,rt=De.createHTML("")}else De===void 0&&(De=xl(W,h)),De!==null&&typeof rt=="string"&&(rt=De.createHTML(""));kt&&kt(w),Gt=w}},rr=we({},[...ko,...Do,...dl]),nr=we({},[...Ro,...hl]),on=function(w){let j=ke(w);(!j||!j.tagName)&&(j={namespaceURI:$t,tagName:"template"});let ee=ki(w.tagName),Ce=ki(j.tagName);return Hr[w.namespaceURI]?w.namespaceURI===St?j.namespaceURI===nt?ee==="svg":j.namespaceURI===ft?ee==="svg"&&(Ce==="annotation-xml"||Ar[Ce]):Boolean(rr[ee]):w.namespaceURI===ft?j.namespaceURI===nt?ee==="math":j.namespaceURI===St?ee==="math"&&Ht[Ce]:Boolean(nr[ee]):w.namespaceURI===nt?j.namespaceURI===St&&!Ht[Ce]||j.namespaceURI===ft&&!Ar[Ce]?!1:!nr[ee]&&(yt[ee]||!rr[ee]):!!(cr==="application/xhtml+xml"&&Hr[w.namespaceURI]):!1},dt=function(w){Xn(r.removed,{element:w});try{ke(w).removeChild(w)}catch(j){ne(w)}},Br=function(w,j){try{Xn(r.removed,{attribute:j.getAttributeNode(w),from:j})}catch(ee){Xn(r.removed,{attribute:null,from:j})}if(j.removeAttribute(w),w==="is")if(st||Sr)try{dt(j)}catch(ee){}else try{j.setAttribute(w,"")}catch(ee){}},an=function(w){let j=null,ee=null;if(lt)w="<remove></remove>"+w;else{let ze=Ua(w,/^[\r\n\t ]+/);ee=ze&&ze[0]}cr==="application/xhtml+xml"&&$t===nt&&(w='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+w+"</body></html>");let Ce=De?De.createHTML(w):w;if($t===nt)try{j=new z().parseFromString(Ce,cr)}catch(ze){}if(!j||!j.documentElement){j=i.createDocument($t,"template",null);try{j.documentElement.innerHTML=fr?rt:Ce}catch(ze){}}let Ze=j.body||j.documentElement;return w&&ee&&Ze.insertBefore(o.createTextNode(ee),Ze.childNodes[0]||null),$t===nt?Re.call(j,Qt?"html":"body")[0]:Qt?j.documentElement:Ze},Sn=function(w){return pe.call(w.ownerDocument||w,w,q.SHOW_ELEMENT|q.SHOW_COMMENT|q.SHOW_TEXT|q.SHOW_PROCESSING_INSTRUCTION|q.SHOW_CDATA_SECTION,null)},$r=function(w){return w instanceof Ie&&(typeof w.nodeName!="string"||typeof w.textContent!="string"||typeof w.removeChild!="function"||!(w.attributes instanceof ae)||typeof w.removeAttribute!="function"||typeof w.setAttribute!="function"||typeof w.namespaceURI!="string"||typeof w.insertBefore!="function"||typeof w.hasChildNodes!="function")},Cn=function(w){return typeof P=="function"&&w instanceof P};function Ut(ie,w,j){Ai(ie,ee=>{ee.call(r,w,j,Gt)})}let sn=function(w){let j=null;if(Ut(Le.beforeSanitizeElements,w,null),$r(w))return dt(w),!0;let ee=Ee(w.nodeName);if(Ut(Le.uponSanitizeElement,w,{tagName:ee,allowedTags:$e}),w.hasChildNodes()&&!Cn(w.firstElementChild)&&Dt(/<[/\w]/g,w.innerHTML)&&Dt(/<[/\w]/g,w.textContent)||w.nodeType===Jn.progressingInstruction||Or&&w.nodeType===Jn.comment&&Dt(/<[/\w]/g,w.data))return dt(w),!0;if(!$e[ee]||xr[ee]){if(!xr[ee]&&ir(ee)&&(Ue.tagNameCheck instanceof RegExp&&Dt(Ue.tagNameCheck,ee)||Ue.tagNameCheck instanceof Function&&Ue.tagNameCheck(ee)))return!1;if(Bt&&!er[ee]){let Ce=ke(w)||w.parentNode,Ze=at(w)||w.childNodes;if(Ze&&Ce){let ze=Ze.length;for(let Ve=ze-1;Ve>=0;--Ve){let bt=xe(Ze[Ve],!0);bt.__removalCount=(w.__removalCount||0)+1,Ce.insertBefore(bt,We(w))}}}return dt(w),!0}return w instanceof L&&!on(w)||(ee==="noscript"||ee==="noembed"||ee==="noframes")&&Dt(/<\/no(script|embed|frames)/i,w.innerHTML)?(dt(w),!0):(Wt&&w.nodeType===Jn.text&&(j=w.textContent,Ai([fe,Ye,Tt],Ce=>{j=Kn(j,Ce," ")}),w.textContent!==j&&(Xn(r.removed,{element:w.cloneNode()}),w.textContent=j)),Ut(Le.afterSanitizeElements,w,null),!1)},An=function(w,j,ee){if(Nr&&(j==="id"||j==="name")&&(ee in o||ee in Mn))return!1;if(!(vt&&!Jr[j]&&Dt(_r,j))){if(!(en&&Dt(pt,j))){if(!Ge[j]||Jr[j]){if(!(ir(w)&&(Ue.tagNameCheck instanceof RegExp&&Dt(Ue.tagNameCheck,w)||Ue.tagNameCheck instanceof Function&&Ue.tagNameCheck(w))&&(Ue.attributeNameCheck instanceof RegExp&&Dt(Ue.attributeNameCheck,j)||Ue.attributeNameCheck instanceof Function&&Ue.attributeNameCheck(j))||j==="is"&&Ue.allowCustomizedBuiltInElements&&(Ue.tagNameCheck instanceof RegExp&&Dt(Ue.tagNameCheck,ee)||Ue.tagNameCheck instanceof Function&&Ue.tagNameCheck(ee))))return!1}else if(!Cr[j]){if(!Dt(Zr,Kn(ee,mt,""))){if(!((j==="src"||j==="xlink:href"||j==="href")&&w!=="script"&&ll(ee,"data:")===0&&rn[w])){if(!(xn&&!Dt(Er,Kn(ee,mt,"")))){if(ee)return!1}}}}}}return!0},ir=function(w){return w!=="annotation-xml"&&Ua(w,Qr)},ln=function(w){Ut(Le.beforeSanitizeAttributes,w,null);let{attributes:j}=w;if(!j||$r(w))return;let ee={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ge,forceKeepAttr:void 0},Ce=j.length;for(;Ce--;){let Ze=j[Ce],{name:ze,namespaceURI:Ve,value:bt}=Ze,Pt=Ee(ze),Je=ze==="value"?bt:ul(bt);if(ee.attrName=Pt,ee.attrValue=Je,ee.keepAttr=!0,ee.forceKeepAttr=void 0,Ut(Le.uponSanitizeAttribute,w,ee),Je=ee.attrValue,ut&&(Pt==="id"||Pt==="name")&&(Br(ze,w),Je=Jt+Je),Or&&Dt(/((--!?|])>)|<\/(style|title)/i,Je)){Br(ze,w);continue}if(ee.forceKeepAttr||(Br(ze,w),!ee.keepAttr))continue;if(!Kt&&Dt(/\/>/i,Je)){Br(ze,w);continue}Wt&&Ai([fe,Ye,Tt],Gr=>{Je=Kn(Je,Gr," ")});let kr=Ee(w.nodeName);if(!!An(kr,Pt,Je)){if(De&&typeof W=="object"&&typeof W.getAttributeType=="function"&&!Ve)switch(W.getAttributeType(kr,Pt)){case"TrustedHTML":{Je=De.createHTML(Je);break}case"TrustedScriptURL":{Je=De.createScriptURL(Je);break}}try{Ve?w.setAttributeNS(Ve,ze,Je):w.setAttribute(ze,Je),$r(w)?dt(w):Ha(r.removed)}catch(Gr){}}}Ut(Le.afterSanitizeAttributes,w,null)},un=function ie(w){let j=null,ee=Sn(w);for(Ut(Le.beforeSanitizeShadowDOM,w,null);j=ee.nextNode();)Ut(Le.uponSanitizeShadowNode,j,null),sn(j),ln(j),j.content instanceof _&&ie(j.content);Ut(Le.afterSanitizeShadowDOM,w,null)};return r.sanitize=function(ie){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=null,ee=null,Ce=null,Ze=null;if(fr=!ie,fr&&(ie="<!-->"),typeof ie!="string"&&!Cn(ie))if(typeof ie.toString=="function"){if(ie=ie.toString(),typeof ie!="string")throw Qn("dirty is not a string, aborting")}else throw Qn("toString is not a function");if(!r.isSupported)return ie;if(Tr||jr(w),r.removed=[],typeof ie=="string"&&(Z=!1),Z){if(ie.nodeName){let bt=Ee(ie.nodeName);if(!$e[bt]||xr[bt])throw Qn("root node is forbidden and cannot be sanitized in-place")}}else if(ie instanceof P)j=an("<!---->"),ee=j.ownerDocument.importNode(ie,!0),ee.nodeType===Jn.element&&ee.nodeName==="BODY"||ee.nodeName==="HTML"?j=ee:j.appendChild(ee);else{if(!st&&!Wt&&!Qt&&ie.indexOf("<")===-1)return De&&Zt?De.createHTML(ie):ie;if(j=an(ie),!j)return st?null:Zt?rt:""}j&&lt&&dt(j.firstChild);let ze=Sn(Z?ie:j);for(;Ce=ze.nextNode();)sn(Ce),ln(Ce),Ce.content instanceof _&&un(Ce.content);if(Z)return ie;if(st){if(Sr)for(Ze=J.call(j.ownerDocument);j.firstChild;)Ze.appendChild(j.firstChild);else Ze=j;return(Ge.shadowroot||Ge.shadowrootmode)&&(Ze=Qe.call(f,Ze,!0)),Ze}let Ve=Qt?j.outerHTML:j.innerHTML;return Qt&&$e["!doctype"]&&j.ownerDocument&&j.ownerDocument.doctype&&j.ownerDocument.doctype.name&&Dt(Va,j.ownerDocument.doctype.name)&&(Ve="<!DOCTYPE "+j.ownerDocument.doctype.name+`>
`+Ve),Wt&&Ai([fe,Ye,Tt],bt=>{Ve=Kn(Ve,bt," ")}),De&&Zt?De.createHTML(Ve):Ve},r.setConfig=function(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jr(ie),Tr=!0},r.clearConfig=function(){Gt=null,Tr=!1},r.isValidAttribute=function(ie,w,j){Gt||jr({});let ee=Ee(ie),Ce=Ee(w);return An(ee,Ce,j)},r.addHook=function(ie,w){typeof w=="function"&&Xn(Le[ie],w)},r.removeHook=function(ie,w){if(w!==void 0){let j=al(Le[ie],w);return j===-1?void 0:sl(Le[ie],j,1)[0]}return Ha(Le[ie])},r.removeHooks=function(ie){Le[ie]=[]},r.removeAllHooks=function(){Le=Ya()},r}var Tl=Xa();Ka.exports=Tl});var Po=eo(ao());var Ei=class{constructor(r,o){r=r||[],this.lines=r,this.text=o,this.offset2loc=new Map,this.line2offset=new Map;for(var f of r)f.offset>=0&&(this.offset2loc[f.offset]||(this.offset2loc[f.offset]=f),this.line2offset[f.line]||(this.line2offset[f.line]=f.offset))}findLineForOffset(r,o){if(this.offset2loc)for(var f=0;f<=o;f++){var h=this.offset2loc[r];if(h)return h;r--}return null}lineCount(){return this.lines.length}};function ua(s){return"errors"in s}function fa(s){return"output"in s}var ca=eo(ao()),so=class{constructor(r){this.preset_id=Mt(r)}async getRemoteFile(r){return new Promise((o,f)=>_i(r,o,mn(r)?"arraybuffer":"text"))}async getFileData(r){var o="presets/"+this.preset_id+"/"+r,f=await this.getRemoteFile(o);return f&&console.log("read",o,f.length,"bytes"),f}async setFileData(r,o){}};var $n=class{constructor(r,o){this.basefs=r,this.overlayfs=o}async getFileData(r){var o=await this.overlayfs.getFileData(r);return o==null?this.basefs.getFileData(r):o}async setFileData(r,o){return await this.overlayfs.setFileData(r,o),this.basefs.setFileData(r,o)}},lo=class{constructor(r){this.store=r}async getFileData(r){return this.store.getItem(r)}async setFileData(r,o){return this.store.setItem(r,o)}};var uo=class{constructor(r,o,f,h){this.filedata={};this.pendingWorkerMessages=0;this.hasDoneInitialCompilation=!1;this.tools_preloaded={};this.isCompiling=!1;this.filename2path={};this.worker=r,this.platform_id=o,this.platform=f,this.filesystem=h,r.onmessage=_=>{this.receiveWorkerMessage(_.data)}}receiveWorkerMessage(r){var o=this.pendingWorkerMessages>1;o?(this.sendBuild(),this.pendingWorkerMessages=1):(this.callbackBuildStatus&&this.callbackBuildStatus(!1),this.isCompiling||(console.log(this.pendingWorkerMessages),console.trace()),this.isCompiling=!1,this.pendingWorkerMessages=0,this.hasDoneInitialCompilation=!0),r&&fa(r)?this.processBuildResult(r):ua(r)&&this.processBuildListings(r),this.callbackBuildResult(r)}getToolForFilename(r){return this.remoteTool?"remote:"+this.remoteTool:this.platform.getToolForFilename(r)}preloadWorker(r){var o=this.getToolForFilename(r);o&&!this.tools_preloaded[o]&&(this.worker.postMessage({preload:o,platform:this.platform_id}),this.tools_preloaded[o]=!0)}pushAllFiles(r,o){r.push(o);var f=to(this.mainPath);f.length>0&&f!="local"&&r.push(f+"/"+o)}parseIncludeDependencies(r){let o=[],f;if(this.platform_id.startsWith("verilog")){let h=/^\s*(`include|[.]include)\s+"(.+?)"/gmi;for(;f=h.exec(r);)this.pushAllFiles(o,f[2]);let _=/^\s*\$(include|\$dofile|\$write_image_in_table)\('(.+?)'/gmi;for(;f=_.exec(r);)this.pushAllFiles(o,f[2]);let C=/^\s*([.]arch)\s+(\w+)/gmi;for(;f=C.exec(r);)this.pushAllFiles(o,f[2]+".json");let P=/\$readmem[bh]\("(.+?)"/gmi;for(;f=P.exec(r);)this.pushAllFiles(o,f[1])}else{let h=/^\s*[.#%]?(include|incbin|embed)\s+"(.+?)"/gmi;for(;f=h.exec(r);)this.pushAllFiles(o,f[2]);let _=/^\s*([;']|[/][/])#(resource)\s+"(.+?)"/gm;for(;f=_.exec(r);)this.pushAllFiles(o,f[3]);let C=/^\s+(USE|ASM)\s+(\S+[.]\S+)/gm;for(;f=C.exec(r);)this.pushAllFiles(o,f[2]);let P=/^\s*(import|embed)\s*"(.+?)";/gmi;for(;f=P.exec(r);)f[1]=="import"?this.pushAllFiles(o,f[2]+".wiz"):this.pushAllFiles(o,f[2]);let L=/^\s*(import)\s*"(.+?)"/gmi;for(;f=L.exec(r);)this.pushAllFiles(o,f[2]);let q=/^[!]src\s+"(.+?)"/gmi;for(;f=q.exec(r);)this.pushAllFiles(o,f[1])}return o}parseLinkDependencies(r){let o=[],f;if(!this.platform_id.startsWith("verilog")){let h=/^\s*([;]|[/][/])#link\s+"(.+?)"/gm;for(;f=h.exec(r);)this.pushAllFiles(o,f[2])}return o}loadFileDependencies(r){let o=this.parseIncludeDependencies(r),f=this.parseLinkDependencies(r),h=o.concat(f);return this.loadFiles(h).then(_=>{if(_)for(let C of _)C.link=f.indexOf(C.path)>=0;return _})}okToSend(){let r=window.autoCompileEnabled===!0,o=!this.hasDoneInitialCompilation;return this.mainPath!=null&&(r||o)?this.pendingWorkerMessages++==0:!1}updateFileInStore(r,o){this.filesystem.setFileData(r,o)}buildWorkerMessage(r){this.preloadWorker(this.mainPath);var o={updates:[],buildsteps:[]},f=this.stripLocalPath(this.mainPath),h=this.getFile(this.mainPath),_=[];o.updates.push({path:f,data:h}),this.filename2path[f]=this.mainPath;let P=this.getToolForFilename(this.mainPath).startsWith("remote:");for(var L of r)(!L.link||P)&&(o.updates.push({path:L.filename,data:L.data}),_.push(L.filename)),this.filename2path[L.filename]=L.path;o.buildsteps.push({path:f,files:[f].concat(_),platform:this.platform_id,tool:this.getToolForFilename(this.mainPath),mainfile:!0});for(var L of r)L.data&&L.link&&(this.preloadWorker(L.filename),o.updates.push({path:L.filename,data:L.data}),o.buildsteps.push({path:L.filename,files:[L.filename].concat(_),platform:this.platform_id,tool:this.getToolForFilename(L.path)}));return this.dataItems&&(o.setitems=this.dataItems),o}async loadFiles(r){var o=[],f=(C,P)=>{o.push({path:C,filename:this.stripLocalPath(C),link:!0,data:P})};for(var h of r)if(h in this.filedata){var _=this.filedata[h];_&&f(h,_)}else{var _=await this.filesystem.getFileData(h);_?(this.filedata[h]=_,f(h,_)):this.filedata[h]=null}return o}getFile(r){return this.filedata[r]}iterateFiles(r){for(var o in this.filedata)r(o,this.getFile(o))}sendBuild(){if(!this.mainPath)throw Error("need to call setMainFile first");var r=this.getFile(this.mainPath);if(r instanceof Uint8Array){this.isCompiling=!0,this.receiveWorkerMessage({output:r,errors:[],listings:null,symbolmap:null,params:{}});return}var o=typeof r=="string"?r:"";return this.loadFileDependencies(o).then(f=>{f||(f=[]);var h=this.buildWorkerMessage(f);this.worker.postMessage(h),this.isCompiling=!0})}updateFile(r,o){this.filedata[r]!=o&&(this.updateFileInStore(r,o),this.filedata[r]=o,this.okToSend()&&(this.callbackBuildStatus&&this.callbackBuildStatus(!0),this.sendBuild()))}setMainFile(r){this.mainPath=r,this.callbackBuildStatus&&this.callbackBuildStatus(!0),this.sendBuild()}processBuildListings(r){if(r.listings){this.listings=r.listings;for(var o in this.listings){var f=this.listings[o];f.lines&&(f.sourcefile=new Ei(f.lines,f.text)),f.asmlines&&(f.assemblyfile=new Ei(f.asmlines,f.text))}}}processBuildResult(r){this.processBuildListings(r),this.processBuildSegments(r)}processBuildSegments(r){var o=this.platform.getMemoryMap&&this.platform.getMemoryMap().main||[];(o==null?void 0:o.length)&&o.forEach(f=>f.source="native"),r.segments&&(r.segments.forEach(f=>f.source="linker"),o=o.concat(r.segments||[])),o.sort((f,h)=>f.start-h.start),this.segments=o}getListings(){return this.listings}getListingForFile(r){var o=xt(this.stripLocalPath(r)),f=this.getListings();for(var h in f)if(h==r)return f[h];for(var h in f)if(xt(h)==o)return f[h]}stripLocalPath(r){if(this.mainPath){var o=to(this.mainPath);o!=""&&r.startsWith(o+"/")&&(r=r.substring(o.length+1))}return r}updateDataItems(r){this.dataItems=r,this.okToSend()&&this.sendBuild()}};function xi(s){var r=ca.default.createInstance({name:"__"+s,version:2});return r}var fo=ha(),co=class{constructor(r,o){this.id2window={};this.id2createfn={};this.id2showfn={};this.id2div={};this.containerdiv=r,this.project=o,this.undofiles=[]}isWindow(r){return this.id2createfn[r]!=null}setCreateFunc(r,o){this.id2createfn[r]=o}setShowFunc(r,o){this.id2showfn[r]=o}create(r){var o=this.id2window[r];o||(console.log("creating window",r),o=this.id2window[r]=this.id2createfn[r](r));var f=this.id2div[r];return f||(f=this.id2div[r]=o.createDiv(this.containerdiv),fo(f).hide()),o}createOrShow(r,o){var f=this.create(r),h=this.id2div[r];return this.activewnd!=f?(this.activediv&&fo(this.activediv).hide(),this.activewnd&&this.activewnd.setVisible&&this.activewnd.setVisible(!1),this.activediv=h,this.activewnd=f,fo(h).show(),this.refresh(!0),this.refreshErrors(),f.setVisible&&f.setVisible(!0),this.id2showfn[r]&&this.id2showfn[r](r,f)):this.refresh(o),this.activeid=r,f}put(r,o){this.id2window[r]=o}refresh(r){this.activewnd&&this.activewnd.refresh&&this.activewnd.refresh(r)}tick(){this.activewnd&&this.activewnd.tick&&this.activewnd.tick()}setErrors(r){this.lasterrors=r,this.refreshErrors()}refreshErrors(){this.activewnd&&this.activewnd.markErrors&&(this.lasterrors&&this.lasterrors.length?this.activewnd.markErrors(this.lasterrors):this.activewnd.clearErrors())}getActive(){return this.activewnd}getActiveID(){return this.activeid}getCurrentText(){if(this.activewnd&&this.activewnd.getValue)return this.activewnd.getValue();bootbox.alert("Please switch to an editor window.")}resize(){this.activeid&&this.activewnd&&this.activewnd.recreateOnResize&&(this.activewnd=null,this.id2window[this.activeid]=null,this.id2div[this.activeid]=null,this.createOrShow(this.activeid))}updateFile(r,o){var f=this.id2window[r];f&&f.setText&&typeof o=="string"?(f.setText(o),this.undofiles.push(r)):this.project.updateFile(r,o)}undoStep(){var r=this.undofiles.pop(),o=this.id2window[r];o&&o.undoStep?o.undoStep():bootbox.alert("No more steps to undo.")}updateAllOpenWindows(r){for(var o in this.id2window){var f=this.id2window[o];f&&f.setText&&r.getItem(o).then(h=>{this.updateFile(o,h)})}}findWindowWithFilePrefix(r){r=Ft(xt(r));for(var o in this.id2createfn)if(!(o.toLowerCase().endsWith(".h")||o.toLowerCase().endsWith(".inc")||o.toLowerCase().endsWith(".bas"))&&Ft(xt(o))==r)return o;return null}};var qs=`$NAME
=====

[Open this project in 8bitworkshop](http://8bitworkshop.com/redir.html?platform=$PLATFORM&githubURL=$GITHUBURL&file=$MAINFILE).
`;function Pn(){for(var s={},r=0;r<localStorage.length;r++){var o=localStorage.key(r);if(o.startsWith("__repo__")){var f=JSON.parse(localStorage.getItem(o)),h=o.substring("__repo__".length);s[h]=f}}return s}function Gn(s){var r=s.split("/",8);return r.length<5||r[0]!="https:"||r[2]!="github.com"||r[5]&&r[5]!="tree"?null:{user:r[3],repo:r[4],repopath:r[3]+"/"+r[4],branch:r[6],subtreepath:r[7]}}var ho=class{constructor(r,o,f,h){this.githubCons=r,this.githubToken=o,this.store=f,this.project=h,this.recreateGithub()}recreateGithub(){this.github=new this.githubCons({token:this.githubToken})}login(){if(this.githubToken&&this.githubToken.length)return new Promise((o,f)=>{o()});var r=new firebase.auth.GithubAuthProvider;return r.addScope("repo"),firebase.auth().signInWithPopup(r).then(o=>{this.githubToken=o.credential.accessToken;var f=o.user;this.recreateGithub(),document.cookie="__github_key="+this.githubToken+";path=/;max-age=31536000",console.log("Stored GitHub OAUTH key")})}logout(){return this.githubToken&&this.githubToken.length?firebase.auth().signOut().then(()=>{document.cookie="__github_key=;path=/;max-age=0",this.githubToken=null,this.recreateGithub()}):new Promise((r,o)=>{r()})}isFileIgnored(r){return r=r.toUpperCase(),!!(r.startsWith("LICENSE")||r.startsWith("README")||r.startsWith("."))}async getGithubSession(r){var o=Gn(r);if(!o)throw new Error("Please enter a valid GitHub URL.");var f=Pn()[o.repopath],h=o.branch||f&&f.branch,_=this.github.repos(o.user,o.repo);try{h=(await _.fetch()).defaultBranch||"master"}catch(P){console.log("could not fetch default branch: "+P),h="main"}console.log("branch =",h);var C={url:r,user:o.user,reponame:o.repo,repopath:o.repopath,branch:h,subtreepath:o.subtreepath,prefix:"",repo:_,platform_id:this.project?this.project.platform_id:f?f.platform_id:null};return C}getGithubHEADTree(r){var o;return this.getGithubSession(r).then(f=>(o=f,o.repo.git.refs.heads(o.branch).fetch())).then(f=>(o.head=f,o.sha=f.object.sha,o.repo.git.trees(o.sha).fetch())).then(f=>{if(o.subtreepath){for(let h of f.tree)if(h.type=="tree"&&h.path==o.subtreepath&&h.sha)return o.repo.git.trees(h.sha).fetch();throw Error("Cannot find subtree '"+o.subtreepath+"' in tree "+f.sha)}return f}).then(f=>(o.tree=f,o))}bind(r,o){var f="__repo__"+r.repopath;if(o){var h={url:r.url,branch:r.branch,platform_id:r.platform_id,mainPath:r.mainPath,sha:r.sha};console.log("storing",h),localStorage.setItem(f,JSON.stringify(h))}else localStorage.removeItem(f)}import(r){var o;return this.getGithubSession(r).then(f=>(o=f,o.repo.contents("README.md").read())).catch(f=>(console.log(f),console.log("no README.md found"),o.repo.fetch().then(h=>""))).then(f=>{var h;if(h=/8bitworkshop.com[^)]+file=([^)&]+)/.exec(f),h&&h[1]&&(console.log("main path: '"+h[1]+"'"),o.mainPath=h[1]),h=/8bitworkshop.com[^)]+platform=([A-Za-z0-9._\-]+)/.exec(f),h){if(console.log("platform id: '"+h[1]+"'"),o.platform_id&&!o.platform_id.startsWith(h[1]))throw Error("Platform mismatch: Repository is "+h[1]+", you have "+o.platform_id+" selected.");o.platform_id=h[1]}return this.bind(o,!0),o})}pull(r,o){var f;return this.getGithubHEADTree(r).then(h=>{f=h;let _=[];return f.paths=[],f.tree.tree.forEach(C=>{if(console.log(C.path,C.type,C.size),f.paths.push(C.path),C.type=="blob"&&!this.isFileIgnored(C.path)){var P=f.repo.git.blobs(C.sha).fetch().then(L=>{var q=f.prefix+C.path,ae=C.size,Ie=L.encoding,z=L.content;if(L.encoding=="base64"){var W=yi(atob(z)),Y=mn(C.path,W);z=Y?W:wi(W)}return L.size!=z.length&&(z=z.slice(0,L.size)),(o||this.store).setItem(q,z)});_.push(P)}else console.log("ignoring "+C.path)}),Promise.all(_)}).then(h=>f)}importAndPull(r){return this.import(r).then(o=>this.pull(r))}publish(r,o,f,h){var _,C=this.project.platform_id,P=this.project.stripLocalPath(this.project.mainPath);return this.github.user.repos.create({name:r,description:o,private:h,auto_init:!1,license_template:f}).then(L=>{_=L;var q=qs;q=q.replace(/\$NAME/g,encodeURIComponent(r)),q=q.replace(/\$PLATFORM/g,encodeURIComponent(C)),q=q.replace(/\$GITHUBURL/g,encodeURIComponent(_.htmlUrl)),q=q.replace(/\$MAINFILE/g,encodeURIComponent(P));var ae={message:"8bitworkshop: updated metadata in README.md",content:btoa(q)};return _.contents("README.md").add(ae)}).then(()=>this.getGithubSession(_.htmlUrl))}commit(r,o,f){var h;return o||(o="updated from 8bitworkshop.com"),this.getGithubHEADTree(r).then(_=>{if(h=_,h.subtreepath)throw Error("Sorry, right now you can only commit files to the root directory of a repository.");return Promise.all(f.map(C=>typeof C.data=="string"?h.repo.git.blobs.create({content:C.data,encoding:"utf-8"}):h.repo.git.blobs.create({content:btoa(bi(C.data)),encoding:"base64"})))}).then(_=>h.repo.git.trees.create({tree:f.map((C,P)=>({path:C.path,mode:"100644",type:"blob",sha:_[P].sha})),base_tree:h.tree.sha})).then(_=>h.repo.git.commits.create({message:o,tree:_.sha,parents:[h.head.object.sha]})).then(_=>h.repo.commits(_.sha).fetch()).then(_=>(h.commit=_,h))}push(r){return r.head.update({sha:r.commit.sha}).then(o=>r)}deleteRepository(r){return this.getGithubSession(r).then(o=>o.repo.remove())}};var zn=window.matchMedia&&window.matchMedia("only screen and (max-width: 760px)").matches;function pa(s,r){var o=s.charCoords({line:r,ch:0},"local").top,f=s.getScrollerElement().offsetHeight/2;s.scrollTo(null,o-f-5)}function ma(s,r){var o=document.createElement("span");return o.setAttribute("class",r),o.appendChild(document.createTextNode(s)),o}var Si=64,Ys=200,po={default:{theme:"mbo"},"6502":{isAsm:!0},z80:{isAsm:!0},jsasm:{isAsm:!0},gas:{isAsm:!0},vasm:{isAsm:!0},nasm:{isAsm:!0},inform6:{theme:"cobalt"},markdown:{lineWrap:!0},fastbasic:{noGutters:!0},basic:{noLineNumbers:!0,noGutters:!0},qbasic:{noLineNumbers:!0,noGutters:!0},pascal:{theme:"mbo"},ecs:{theme:"mbo",isAsm:!0},c:{theme:"mbo"}},ga={input:null},Vn=class{constructor(r,o){this.updateTimer=null;this.dirtylisting=!0;this.errormsgs=[];this.errorwidgets=[];this.errormarks=[];this.refreshDelayMsec=300;this.path=r,this.mode=o}createDiv(r){var o=document.createElement("div");o.setAttribute("class","editor"),r.appendChild(o);var f=he.getFile(this.path),h=f&&this.mode=="verilog"&&/__asm\b([\s\S]+?)\b__endasm\b/.test(f);return this.newEditor(o,h),f&&(this.setText(f),this.editor.setSelection({line:0,ch:0},{line:0,ch:0},{scroll:!0})),this.setupEditor(),he.getToolForFilename(this.path).startsWith("remote:")&&(this.refreshDelayMsec=1e3),o}setVisible(r){r&&this.editor.focus()}newEditor(r,o){var f=po[this.mode]||po.default,h=o||f.isAsm,_=!!f.lineWrap,C=f.theme||po.default.theme,P=!f.noLineNumbers&&!zn;Q.embed&&(P=!1,h=!1);var L=["CodeMirror-linenumbers","gutter-offset","gutter-info"];h&&(L=["CodeMirror-linenumbers","gutter-offset","gutter-bytes","gutter-clock","gutter-info"]),(f.noGutters||zn)&&(L=["gutter-info"]),this.editor=CodeMirror(r,{theme:C,lineNumbers:P,matchBrackets:!0,tabSize:8,indentAuto:!0,lineWrapping:_,gutters:L})}editorChanged(){clearTimeout(this.updateTimer),this.updateTimer=setTimeout(()=>{he.updateFile(this.path,this.editor.getValue())},this.refreshDelayMsec),this.markHighlight&&(this.markHighlight.clear(),this.markHighlight=null)}setupEditor(){this.editor.on("changes",(r,o)=>{this.editorChanged()}),this.editor.on("cursorActivity",r=>{this.inspectUnderCursor()}),this.editor.on("gutterClick",(r,o)=>{this.toggleBreakpoint(o)}),this.editor.setOption("mode",this.mode),this.editor.on("beforeChange",(r,o)=>{ga.input&&o.text&&(o.text=o.text.map(ga.input))})}inspectUnderCursor(){var r=this.editor.getCursor(!0),o=this.editor.getCursor(!1);if(r.line==o.line&&r.ch<o.ch&&o.ch-r.ch<80){var f=this.editor.getSelection();this.inspect(f)}else this.inspect(null)}inspect(r){var o;if(D.inspect&&(o=D.inspect(r)),this.inspectWidget&&(this.inspectWidget.clear(),this.inspectWidget=null),o){var f=ma(o,"tooltipinfoline"),h=this.editor.getCursor().line;this.inspectWidget=this.editor.addLineWidget(h,f,{above:!1})}}setText(r){var o,f,h=this.editor.getValue();h!=r&&(this.editor.setValue(r),h==""&&this.editor.clearHistory())}insertText(r){var o=this.editor.getCursor();this.editor.replaceRange(r,o,o)}highlightLines(r,o){var f="hilite-span",h={className:f,inclusiveLeft:!0};this.markHighlight=this.editor.markText({line:r,ch:0},{line:o,ch:0},h),this.editor.scrollIntoView({from:{line:r,ch:0},to:{line:o,ch:0}})}replaceSelection(r,o,f){this.editor.setSelection(this.editor.posFromIndex(r),this.editor.posFromIndex(o)),this.editor.replaceSelection(f)}getValue(){return this.editor.getValue()}getPath(){return this.path}addError(r){if(!r.path||this.path.endsWith(r.path)){var o=this.editor.lineCount(),f=r.line-1;if((isNaN(f)||f<0||f>=o)&&(f=0),this.addErrorMarker(f,r.msg),r.start!=null){var h={className:"mark-error",inclusiveLeft:!0},_={line:f,ch:r.end?r.start:r.start-1},C={line:f,ch:r.end?r.end:r.start},P=this.editor.markText(_,C,h);this.errormarks.push(P)}}}addErrorMarker(r,o){var f=document.createElement("div");f.setAttribute("class","tooltipbox tooltiperror"),f.appendChild(document.createTextNode("\u24CD")),this.editor.setGutterMarker(r,"gutter-info",f),this.errormsgs.push({line:r,msg:o}),$(f).mouseover(h=>{this.expandErrors()})}addErrorLine(r,o){var f=ma(o,"tooltiperrorline");this.errorwidgets.push(this.editor.addLineWidget(r,f))}expandErrors(){for(var r;r=this.errormsgs.shift();)this.addErrorLine(r.line,r.msg)}markErrors(r){this.clearErrors(),r=r.slice(0,Ys);for(var o of r)this.addError(o)}clearErrors(){for(this.dirtylisting=!0,this.editor.clearGutter("gutter-info"),this.errormsgs=[];this.errorwidgets.length;)this.errorwidgets.shift().clear();for(;this.errormarks.length;)this.errormarks.shift().clear()}getSourceFile(){return this.sourcefile}updateListing(){this.clearErrors(),this.editor.clearGutter("gutter-bytes"),this.editor.clearGutter("gutter-offset"),this.editor.clearGutter("gutter-clock");var r=this.sourcefile.lines||[];for(var o of r)if(o.offset>=0&&this.setGutter("gutter-offset",o.line-1,vr(o.offset&65535,4)),o.insns){var f=o.insns.length>9?"...":o.insns;if(this.setGutter("gutter-bytes",o.line-1,f),o.iscode){if(o.cycles)this.setGutter("gutter-clock",o.line-1,o.cycles+"");else if(D.getOpcodeMetadata){var h=parseInt(o.insns.split(" ")[0],16),_=D.getOpcodeMetadata(h,o.offset);if(_&&_.minCycles){var C=_.minCycles+"";this.setGutter("gutter-clock",o.line-1,C)}}}}}setGutter(r,o,f){var h=this.editor.lineInfo(o);if(!(h&&h.gutterMarkers&&h.gutterMarkers[r])){var _=document.createTextNode(f);this.editor.setGutterMarker(o,r,_)}}setGutterBytes(r,o){this.setGutter("gutter-bytes",r-1,o)}setTimingResult(r){if(this.editor.clearGutter("gutter-bytes"),this.sourcefile!=null)for(let _ of Object.keys(this.sourcefile.line2offset)){let C=this.sourcefile.line2offset[_],P=r.pc2clockrange[C];var o=P&&P.minclocks,f=P&&P.maxclocks;if(o>=0&&f>=0){var h;f==o?h=o+"":h=o+"-"+f,f==r.MAX_CLOCKS&&(h+="+"),this.setGutterBytes(parseInt(_),h)}}}setCurrentLine(r,o){var f=D.isBlocked&&D.isBlocked(),h=P=>{var L=document.createElement("div"),q=f?"currentpc-marker-blocked":"currentpc-marker";L.classList.add(q),L.appendChild(document.createTextNode("\u25B6")),this.editor.setGutterMarker(P.line-1,"gutter-info",L)};if(this.clearCurrentLine(o),r){h(r),o&&this.editor.setCursor({line:r.line-1,ch:r.start||0},{scroll:!0});var _=f?"currentpc-span-blocked":"currentpc-span",C={className:_,inclusiveLeft:!0};r.start||r.end?this.markCurrentPC=this.editor.markText({line:r.line-1,ch:r.start},{line:r.line-1,ch:r.end||r.start+1},C):this.markCurrentPC=this.editor.markText({line:r.line-1,ch:0},{line:r.line,ch:0},C),this.currentDebugLine=r}}clearCurrentLine(r){this.currentDebugLine&&(this.editor.clearGutter("gutter-info"),r&&this.editor.setSelection(this.editor.getCursor()),this.currentDebugLine=null),this.markCurrentPC&&(this.markCurrentPC.clear(),this.markCurrentPC=null)}getActiveLine(){if(this.sourcefile){var r=Pr&&Pr.c;if(!r&&D.getCPUState&&!D.isRunning()&&(r=D.getCPUState()),r){var o=r&&(r.EPC||r.PC),f=this.sourcefile.findLineForOffset(o,Si);return f}}}refreshDebugState(r){this.clearCurrentLine(r);var o=this.getActiveLine();o&&this.setCurrentLine(o,r)}refreshListing(){var r=he.getListingForFile(this.path);r&&r.sourcefile&&r.sourcefile!==this.sourcefile&&(this.sourcefile=r.sourcefile,this.dirtylisting=!0),!(!this.sourcefile||!this.dirtylisting)&&(this.updateListing(),this.dirtylisting=!1)}refresh(r){this.refreshListing(),this.refreshDebugState(r)}tick(){this.refreshDebugState(!1)}getLine(r){return this.editor.getLine(r-1)}getCurrentLine(){return this.editor.getCursor().line+1}getCursorPC(){for(var r=this.getCurrentLine();this.sourcefile&&r>=0;){var o=this.sourcefile.line2offset[r];if(o>=0)return o;r--}return-1}undoStep(){this.editor.execCommand("undo")}toggleBreakpoint(r){if(this.sourcefile!=null){var o=this.sourcefile.line2offset[r+1];qn(o)}}},mo=1024,va=class{getDisasmView(){return this.disasmview}createDiv(r){var o=document.createElement("div");return o.setAttribute("class","editor"),r.appendChild(o),this.newEditor(o),o}newEditor(r){this.disasmview=CodeMirror(r,{mode:"z80",theme:"cobalt",tabSize:8,readOnly:!0,styleActiveLine:!0})}refresh(r){let o=Pr||D.saveState(),f=o.c?o.c.PC:0,h=0,_=0,C=D.debugSymbols&&D.debugSymbols.addr2symbol||{},P=(ae,Ie)=>{let z="",W=0;for(;W<Ie;){let Y=ae+W|0,xe=D.disassemble(Y,D.readAddress.bind(D)),ne="",We="";for(let De=0;De<xe.nbytes;De++)ne+=vr(D.readAddress(Y+De));for(;ne.length<14;)ne+=" ";let at=xe.line;if(C&&xe.isaddr&&(at=at.replace(/([^#])[$]([0-9A-F]+)/,(De,...rt)=>{let i=parseInt(rt[1],16),pe=C[i];return pe?rt[0]+pe:(pe=C[i-1],pe?rt[0]+pe+"+1":De)})),C){let De=C[Y];De&&(We="; "+De)}z+=vr(Y,4)+"	"+vi(ne,14)+"	"+vi(at,30)+We+`
`,Y==f&&(_=h),h++,W+=xe.nbytes||1}return z};var L=f<0?f-mo:Math.max(0,f-mo);let q=P(L,f-L)+P(f,mo);this.disasmview.setValue(q),r&&this.disasmview.setCursor(_,0),pa(this.disasmview,_)}getCursorPC(){var r=this.disasmview.getCursor().line;if(r>=0){var o=this.disasmview.getLine(r).trim().split(/\s+/);if(o&&o.length>=1){var f=parseInt(o[0],16);if(f>=0)return f}}return-1}},go=class extends va{constructor(r){super();this.path=r}refreshListing(){var r=he.getListingForFile(this.path);this.assemblyfile=r&&(r.assemblyfile||r.sourcefile)}refresh(r){if(this.refreshListing(),!!this.assemblyfile){var o=this.assemblyfile.text,f=this.getDisasmView();if(f.setValue(o),!!D.saveState){var h=Pr||D.saveState(),_=h.c?h.c.EPC||h.c.PC:0;if(_>=0&&this.assemblyfile){var C=this.assemblyfile.findLineForOffset(_,Si);C&&(r&&f.setCursor(C.line-1,0),pa(f,C.line-1))}}}}};var vo=class{constructor(r,o){this.recreateOnResize=!0;this.path=r,this.data=o}createDiv(r){return this.vlist=new ra(r),this.vlist.create(r,this.data.length+15>>4,this.getMemoryLineAt.bind(this)),this.vlist.maindiv}getMemoryLineAt(r){for(var o=r*16,f=0,h=16,_=vr(o+f,4)+" ",C=0;C<f;C++)_+="   ";f>8&&(_+=" ");for(var C=f;C<h;C++){var P=this.data[o+C];C==8&&(_+=" "),_+=" "+(P>=0?vr(P,2):"  ")}return{text:_}}refresh(){this.vlist.refresh()}getPath(){return this.path}};function Ne(s){s?(ar(0),$("#pleaseWaitModal").modal("show")):(ar(1),$("#pleaseWaitModal").modal("hide"))}function ar(s){$("#pleaseWaitProgressBar").css("width",s*100+"%").show()}function ve(s){Ne(!1),bootbox.alert({title:'<span class="glyphicon glyphicon-alert" aria-hidden="true"></span> Alert',message:Ln.sanitize(s)})}function jt(s){Ne(!1),bootbox.alert(Ln.sanitize(s))}function ya(s){throw ve(s),new Error(s)}function Xs(){if(window.GA4_TRACKING_ID)return window.GA4_TRACKING_ID;if(typeof gtag!="undefined"&&window.dataLayer){let s=window.dataLayer;for(let r=0;r<s.length;r++)if(s[r][0]==="config"&&s[r][1])return s[r][1]}return null}function At(s,r,o,f){if(typeof gtag!="undefined"){let h={event_category:s,event_label:o};f!==void 0&&(h.value=f),gtag("event",r,h)}}function ba(s){if(typeof gtag!="undefined"){let r=Xs();r?gtag("config",r,{page_path:s}):gtag("event","page_view",{page_path:s})}}var bo;async function vn(){if(!bo){await qt("lib/octokat.js"),await qt("https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"),await qt("https://www.gstatic.com/firebasejs/8.8.1/firebase-auth.js"),await qt("config.js");var s=Bn("__github_key");bo=new ho(Octokat,s,Ir(),br()),console.log("loaded github service")}return bo}function Yn(){var s=(qe||"").split("/");return s.length!=2?(ve("You are not in a GitHub repository. Choose one from the pulldown, or Import or Publish one."),null):"https://github.com/"+s[0]+"/"+s[1]}async function Ci(s,r){var o,f=Gn(s);if(!f){ve("Could not parse Github URL.");return}var h=Pn()[f.repopath];if(!(h&&!confirm("You've already imported "+f.repopath+" -- do you want to replace all local files?"))){Ne(!0);var _=xi(f.repopath);ar(.25);var C=await vn();return C.import(s).then(P=>(o=P,ar(.75),C.pull(s,_))).then(P=>{Ne(!1),At("sync","import",s),Yr(r,{repo:f.repopath})}).catch(P=>{Ne(!1),console.log(P),ve("Could not import "+s+"."+P)})}}async function wa(s){var r=await vn();r.login().then(()=>{jt("You are signed in to Github.")}).catch(o=>{ve("Could not sign in."+o)})}async function _a(s){var r=await vn();r.logout().then(()=>{jt("You are logged out of Github.")})}function Ea(s){var r=$("#importGithubModal"),o=$("#importGithubButton");r.modal("show"),o.off("click").on("click",()=>{var f=$("#importGithubURL").val()+"";r.modal("hide"),Ci(f,!1)})}function xa(s){if(!(qe&&!confirm("This project ("+br().mainPath+") is already bound to a Github repository. Do you want to re-publish to a new repository? (You can instead choose 'Push Changes' to update files in the existing repository.)"))){var r=$("#publishGithubModal"),o=$("#publishGithubButton");$("#githubRepoName").val(xt(Ft(br().mainPath))),r.modal("show"),o.off("click").on("click",async()=>{var f=$("#githubRepoName").val()+"",h=$("#githubRepoDesc").val()+"",_=$("#githubRepoPrivate").val()=="private",C=$("#githubRepoLicense").val()+"",P;if(!f){ve("You did not enter a project name.");return}r.modal("hide"),Ne(!0);var L=await vn();L.login().then(()=>(ar(.25),L.publish(f,h,C,_))).then(q=>(P=q,ar(.5),Ca("initial import from 8bitworkshop.com"))).then(()=>{At("sync","publish",_?"":f),Ci(P.url,!1)}).catch(q=>{Ne(!1),console.log(q),ve("Could not publish GitHub repository: "+q)})})}}function Ta(s){var r=Yn();if(!!r){var o=$("#pushGithubModal"),f=$("#pushGithubButton");o.modal("show"),f.off("click").on("click",()=>{var h=$("#githubCommitMsg").val()+"";o.modal("hide"),Ca(h)})}}function Sa(s){var r=Yn();!r||bootbox.confirm("Pull from repository and replace all local files? Any changes you've made will be overwritten.",async o=>{if(o){Ne(!0);var f=await vn();f.pull(r).then(h=>{Ne(!1),me.updateAllOpenWindows(Ir())})}})}function Ks(s){return new Promise((r,o)=>{var f=s.commit.files;if(console.log(f),f.length==0){Ne(!1),jt("No files changed.");return}var h="";for(var _ of f)h+=Ln.sanitize(_.filename)+": "+_.status,(_.additions||_.deletions||_.changes)&&(h+=" ("+_.additions+" additions, "+_.deletions+" deletions, "+_.changes+" changes)"),h+="<br/>";bootbox.confirm(h,C=>{C?r(s):Ne(!1)})})}async function Ca(s){var r=Yn();if(!!r){var o=[];for(var f in br().filedata){var h=br().stripLocalPath(f),_=br().filedata[f];h&&_&&o.push({path:h,data:_})}if(ot()instanceof Uint8Array){let P="bin/"+tt()+".rom";o.push({path:P,data:ot()})}Ne(!0);var C=await vn();return C.login().then(()=>(ar(.5),C.commit(r,s,o))).then(P=>Ks(P)).then(P=>C.push(P)).then(P=>(Ne(!1),jt("Pushed files to "+r),P)).catch(P=>{Ne(!1),console.log(P),ve("Could not push GitHub repository: "+P)})}}function Aa(){var s=Yn();!s||bootbox.prompt("<p>Are you sure you want to delete this repository ("+Ln.sanitize(s)+") from browser storage?</p><p>All changes since last commit will be lost.</p><p>Type DELETE to proceed.<p>",r=>{r.trim().toUpperCase()=="DELETE"&&Qs()})}async function Qs(){var s=Yn();Ne(!0);let r=await vn(),o=await r.getGithubSession(s);r.bind(o,!1),await Ir().keys().then(f=>Promise.all(f.map(h=>Ir().removeItem(h)))),Ne(!1),Yr(!1,{repo:"/"})}var wo=class{constructor(r){this.options=r,this.sampleRate=44100,this.soundData=[],this.tapData=[67,54,52,45,84,65,80,69,45,82,65,87,1,0,0,0,0,0,0,0]}getWAVHeader(){let r=new Uint8Array(44),o=new DataView(r.buffer);return o.setUint32(0,1380533830,!1),o.setUint32(4,44+this.soundData.length,!0),o.setUint32(8,1463899717,!1),o.setUint32(12,1718449184,!1),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,1,!0),o.setUint32(24,this.sampleRate,!0),o.setUint32(28,this.sampleRate*2,!0),o.setUint16(32,1,!0),o.setUint16(34,8,!0),o.setUint32(36,1684108385,!1),o.setUint32(40,this.soundData.length,!0),r}addSilence(r){let o=Math.floor(this.sampleRate*r);for(let h=0;h<o;h++)this.soundData.push(0);let f=et.CLOCK_RATE*r;this.tapData.push(0),this.tapData.push(f&255),this.tapData.push(f>>8&255),this.tapData.push(f>>16&255)}addCycle(r){this.tapData.push(r);let o=Math.floor(this.sampleRate*et.TAP_LENGTH_IN_SECONDS*r);for(let f=0;f<o;f++){let h;this.options.sine_wave?h=-Math.sin(f/o*2*Math.PI):f<o/2?h=-1:h=1,this.options.invert_waveform&&(h=-h),this.soundData.push(Math.round(128+h*127))}}updateTAPHeader(){let r=this.tapData.length-20;this.tapData[16]=r&255,this.tapData[17]=r>>8&255,this.tapData[18]=r>>16&255,this.tapData[19]=r>>24&255}getTAPData(){return this.updateTAPHeader(),new Uint8Array(this.tapData)}getSoundData(){let r=this.getWAVHeader(),o=new Uint8Array(r.length+this.soundData.length);return o.set(r,0),o.set(new Uint8Array(this.soundData),r.length),o}},Ke=class{constructor(r,o){this.options=o,this.checksum=0,this.data=new Uint8Array(0),this.filenameData=this.makeFilename(r),this.startAddress=0,this.endAddress=0,this.fileType=Ke.FILE_TYPE_NONE,this.waveFile=null}makeFilename(r){let o=[],f=32;r=r.toUpperCase();for(let h=0;h<Ke.FILENAME_BUFFER_SIZE;h++)if(r.length<=h)o.push(f);else{let _=r.charCodeAt(h);o.push(_)}return o}setContent(r){this.data=r.data,this.startAddress=r.startAddress,this.endAddress=r.startAddress+r.data.length,this.fileType=r.type}generateSound(r){this.waveFile=r,this.addHeader(!1),this.addHeader(!0),r.addSilence(.1),this.addFile()}addTapCycle(r){this.waveFile.addCycle(r)}addBit(r){r===0?(this.addTapCycle(Ke.SHORT_PULSE),this.addTapCycle(Ke.MEDIUM_PULSE)):(this.addTapCycle(Ke.MEDIUM_PULSE),this.addTapCycle(Ke.SHORT_PULSE))}addDataMarker(r){r?(this.addTapCycle(Ke.LONG_PULSE),this.addTapCycle(Ke.MEDIUM_PULSE)):(this.addTapCycle(Ke.LONG_PULSE),this.addTapCycle(Ke.SHORT_PULSE))}resetChecksum(){this.checksum=0}addByteFrame(r,o){let f=1;for(let h=0;h<8;h++){let _=(r&1<<h)!=0?1:0;this.addBit(_),f^=_}this.addBit(f),this.addDataMarker(o),this.checksum^=r}addLeader(r){let o;r===Ke.LEADER_TYPE_HEADER?o=27136:r===Ke.LEADER_TYPE_CONTENT?o=6656:o=79;for(let f=0;f<o;f++)this.addTapCycle(Ke.SHORT_PULSE)}addSyncChain(r){let o;r?o=9:o=137;let f=9;for(;f>0;)this.addByteFrame(o,!0),o-=1,f-=1}addData(){for(let r=0;r<this.data.length;r++)this.addByteFrame(this.data[r],!0)}addFilename(){for(let r=0;r<this.filenameData.length;r++)this.addByteFrame(this.filenameData[r],!0)}addHeader(r){r?this.addLeader(Ke.LEADER_TYPE_REPEATED):this.addLeader(Ke.LEADER_TYPE_HEADER),this.addDataMarker(!0),this.addSyncChain(r),this.resetChecksum(),this.addByteFrame(this.fileType,!0),this.addByteFrame(this.startAddress&255,!0),this.addByteFrame((this.startAddress&65280)>>8,!0),this.addByteFrame(this.endAddress&255,!0),this.addByteFrame((this.endAddress&65280)>>8,!0),this.addFilename();for(let o=0;o<Ke.NUMBER_OF_PADDING_BYTES;o++)this.addByteFrame(Ke.PADDING_CHARACTER,!0);this.addByteFrame(this.checksum,!1)}addFile(){let r=!1;for(let o=0;o<2;o++)r?this.addLeader(Ke.LEADER_TYPE_REPEATED):this.addLeader(Ke.LEADER_TYPE_CONTENT),this.addDataMarker(!0),this.addSyncChain(r),this.resetChecksum(),this.addData(),this.addByteFrame(this.checksum,!1),r=!0;this.addLeader(1)}},et=Ke;et.CLOCK_RATE=985248,et.TAP_LENGTH_IN_SECONDS=8/Ke.CLOCK_RATE,et.FILENAME_BUFFER_SIZE=16,et.FILE_TYPE_NONE=0,et.FILE_TYPE_RELOCATABLE=1,et.FILE_TYPE_SEQUENTIAL=2,et.FILE_TYPE_NON_RELOCATABLE=3,et.LEADER_TYPE_HEADER=0,et.LEADER_TYPE_CONTENT=1,et.LEADER_TYPE_REPEATED=2,et.NUMBER_OF_PADDING_BYTES=171,et.PADDING_CHARACTER=32,et.SHORT_PULSE=48,et.MEDIUM_PULSE=66,et.LONG_PULSE=86;var wr=eo(Vs());function ka(s){return ot()==null?(ve("Please fix errors before sharing."),!0):ot()instanceof Uint8Array?(Zs(),qt("lib/liblzg.js").then(()=>{var r=ea(window.Module,Array.from(ot()));window.Module=null;var o=btoa(bi(r)),f={p:re,r:o},h=$.param(f),_=Js(h,"player.html"),C='<iframe width=640 height=600 src="'+_+'">';$("#embedLinkTextarea").text(_),$("#embedIframeTextarea").text(C),$("#embedLinkModal").modal("show"),$("#embedAdviceWarnAll").hide(),$("#embedAdviceWarnIE").hide(),_.length>=65536?$("#embedAdviceWarnAll").show():_.length>=5120&&$("#embedAdviceWarnIE").show()}),!0):(ve("Can't share a Verilog executable yet. (It's not actually a ROM...)"),!0)}function Zs(){console.log("clipboard"),import("./clipboard-2SP4SJIP.js").then(s=>{let r=s.default;new r(".btn")})}function Js(s,r){console.log(s);var o=window.location,f=o.pathname.replace("index.html",""),h=o.host=="8bitworkshop.com"?"https:":o.protocol,_=h+"//"+o.host+f+r+"?"+s;return _}function el(s){var o;var r=(o=yo())==null?void 0:o.code_start;qt("lib/c2t.js").then(()=>{var f="",h=function(z){f+=z+`
`},_=window.c2t({noInitialRun:!0,print:h,printErr:h}),C=_.FS,P=tt()+".bin",L=tt()+".wav";C.writeFile(P,ot(),{encoding:"binary"});var q=["-2bc",P+","+r.toString(16),L];_.callMain(q);var ae=C.readFile(L,{encoding:"binary"});if(ae){var Ie=new Blob([ae],{type:"audio/wav"});(0,wr.saveAs)(Ie,L),f+="Then connect your audio output to the cassette input, turn up the volume, and play the audio file.",jt(f)}})}function tl(s){qt("lib/makewav.js").then(()=>{let r="",o=function(P){r+=P+`
`};var f=xt(tt());let h=f+".bin",_=f+".wav";window.makewav({noInitialRun:!1,print:o,printErr:o,arguments:["-ts","-f0","-v10",h],preRun:P=>{P.FS.writeFile(h,ot(),{encoding:"binary"})}}).ready.then(P=>{let L=[h];P.run(L),console.log(r);let ae=P.FS.readFile(_,{encoding:"binary"});if(ae){let Ie=new Blob([ae],{type:"audio/wav"});(0,wr.saveAs)(Ie,_),r+=`
Connect your audio output to the SuperCharger input, turn up the volume, and play the audio file.`,jt(r)}})})}function rl(s){var r=xt(tt());let o=r+".tap",f=new et(r),h=new wo({sine_wave:!0}),_=ot(),C=_[0]+_[1]*256;_=_.slice(2),f.setContent({data:_,startAddress:C,type:et.FILE_TYPE_NON_RELOCATABLE}),f.generateSound(h);let P=h.getTAPData();if(P){let L=new Blob([P],{type:"application/octet-stream"});(0,wr.saveAs)(L,o)}}function _o(){switch(Mt(re)){case"vcs":return tl;case"apple2":return el;case"c64":return rl}}function Da(s){if(ot()==null)return ve("Please fix errors before exporting."),!0;var r=_o();if(r===void 0)return ve("Cassette export is not supported on this platform."),!0;r(s)}function Eo(s){if(console.log("_downloadROMImage called, platform:",re),console.log("getCurrentOutput():",ot()),console.log("platform.getDownloadFile exists:",!!D.getDownloadFile),ot()==null)return ve("Please finish compiling with no errors before downloading ROM."),!0;var r=xt(tt());if(D.getDownloadFile){var o=D.getDownloadFile();if(console.log("platform.getDownloadFile() returned:",o),o){var r=xt(tt());console.log("Downloading file:",r+o.extension),(0,wr.saveAs)(o.blob,r+o.extension),At("download","rom",re)}else console.log("getDownloadFile() returned null/undefined"),ve("No downloadable file available. Make sure you have compiled a program.")}else if(ot()instanceof Uint8Array){var f=new Blob([ot()],{type:"application/octet-stream"}),h=D.getROMExtension&&D.getROMExtension(ot())||"-"+Mt(re)+".bin";console.log("Using fallback download, suffix:",h),(0,wr.saveAs)(f,r+h),At("download","rom",re)}else ve(`The "${re}" platform doesn't have downloadable ROMs.`)}function Ra(s){var r=me.getCurrentText();if(!r)return!1;var o=new Blob([r],{type:"text/plain;charset=utf-8"});(0,wr.saveAs)(o,To(),{autoBom:!1}),At("download","source",re)}async function La(){let s=(await import("./jszip.min-QZ4ZBVAS.js")).default;return new s}async function Pa(s){var r=await La();br().iterateFiles((o,f)=>{f&&r.file(Ft(o),f)}),r.generateAsync({type:"blob"}).then(o=>{(0,wr.saveAs)(o,tt()+"-"+Mt(re)+".zip"),At("download","zip",re)})}function Ia(s){let r=D.getDebugSymbolFile&&D.getDebugSymbolFile();if(!r){ve("This project does not have debug information.");return}var o=xt(tt());(0,wr.saveAs)(r.blob,o+r.extension,{autoBom:!1})}async function Fa(s){var r=await La(),o=await Ir().keys();Ne(!0);try{var f=0;await Promise.all(o.map(_=>Ir().getItem(_).then(C=>{ar(f++/(o.length+1)),C&&r.file(_,C)})));var h=await r.generateAsync({type:"blob"});(0,wr.saveAs)(h,Mt(re)+"-all.zip")}finally{Ne(!1)}}var xo=!1;function Ma(){xo||qt("lib/gif.js").then(()=>{var s=$("#emulator").find("canvas")[0];if(!s){ve("Could not find canvas element to record video!");return}var r=0;s.style&&s.style.transform&&(s.style.transform.indexOf("rotate(-90deg)")>=0?r=-1:s.style.transform.indexOf("rotate(90deg)")>=0&&(r=1));var o=new GIF({workerScript:"lib/gif.worker.js",workers:4,quality:10,rotate:r}),f=$("#videoPreviewImage");o.on("progress",L=>{ar(L)}),o.on("finished",L=>{f.attr("src",URL.createObjectURL(L)),Ne(!1),D.resume(),$("#videoPreviewModal").modal("show")});var h=20,_=300,C=0;console.log("Recording video",s),$("#emulator").css("backgroundColor","#cc3333");var P=()=>{C++>_?(console.log("Rendering video"),$("#emulator").css("backgroundColor","inherit"),Ne(!0),D.pause(),o.render(),xo=!1):(o.addFrame(s,{delay:h,copy:!0}),setTimeout(P,h),xo=!0)};P()})}var Sl=zs(),bn=Qa(),Q=ro(window.location.search||"?"),re,Xr,qe,D,he,me,Pr,Ri,Io,ei=$("#controls_top"),je,Lt,Fo,wn,Li,Xt,Ot=!0,Za="retrogamecoders_auto_compile";function Cl(){let s=Bn(Za);return s!==null?s==="true":!0}function Al(s){ta(Za,s.toString(),365)}var ti=Rn(Q.electron),Nt=Rn(Q.embed),ri,ni,Pi=!1,In=!1,Ii=null,Ja=null,Mo=!1,es="c.PC == 0x6000";function Ir(){return Xt}function br(){return he}function ot(){return wn}function yo(){return Ri}var kl={dasm:"6502",acme:"6502",cc65:"text/x-csrc",ca65:"6502",nesasm:"6502",z80asm:"z80",sdasz80:"z80",sdcc:"text/x-csrc",verilator:"verilog",jsasm:"z80",zmac:"z80",bataribasic:"bataribasic",markdown:"markdown",js:"javascript",xasm6809:"z80",cmoc:"text/x-csrc",yasm:"gas",smlrc:"text/x-csrc",inform6:"inform6",fastbasic:"fastbasic",basic:"basic",c64basic:"c64basic",silice:"verilog",wiz:"text/x-wiz",none:"text/x-csrc",vasmarm:"vasm",armips:"vasm",ecs:"ecs","remote:llvm-mos":"text/x-csrc",cc7800:"text/x-csrc",armtcc:"text/x-csrc",oscar64:"text/x-csrc",bbcbasic:"basic"},Dl={dasm:"https://raw.githubusercontent.com/sehugg/dasm/master/doc/dasm.txt",cc65:"https://cc65.github.io/doc/cc65.html",ca65:"https://cc65.github.io/doc/ca65.html",sdcc:"http://sdcc.sourceforge.net/doc/sdccman.pdf",verilator:"https://www.veripool.org/ftp/verilator_doc.pdf",fastbasic:"https://github.com/dmsc/fastbasic/blob/master/manual.md",bataribasic:"help/bataribasic/manual.html",wiz:"https://github.com/wiz-lang/wiz/blob/master/readme.md#wiz",silice:"https://github.com/sylefeb/Silice",zmac:"https://raw.githubusercontent.com/sehugg/zmac/master/doc.txt",cmoc:"http://perso.b2b2c.ca/~sarrazip/dev/cmoc.html","remote:llvm-mos":"https://llvm-mos.org/wiki/Welcome",acme:"https://raw.githubusercontent.com/sehugg/acme/main/docs/QuickRef.txt"};function Rl(){return new Worker(`./gen/worker/bundle.js?t=${Date.now()}`)}var lr=function(){try{let r="__some_random_key_you_are_not_going_to_use__";localStorage.setItem(r,r);var s=localStorage.getItem(r)==r;return localStorage.removeItem(r),s}catch(r){return!1}}(),ts=class{setLastPreset(r){lr&&!Nt&&(qe&&re&&!ti?localStorage.setItem("__lastrepo_"+re,qe):localStorage.removeItem("__lastrepo_"+re),localStorage.setItem("__lastplatform",re),localStorage.setItem("__lastid_"+Xr,r))}unsetLastPreset(){lr&&!Nt&&(delete Q.file,localStorage.removeItem("__lastid_"+Xr))}getLastPreset(){return lr&&!Nt&&localStorage.getItem("__lastid_"+Xr)}getLastPlatformID(){return lr&&!Nt&&localStorage.getItem("__lastplatform")}getLastRepoID(r){return lr&&!Nt&&r&&localStorage.getItem("__lastrepo_"+r)}shouldCompleteTour(){return!1}completedTour(){lr&&!Nt&&localStorage.setItem("8bitworkshop.hello","true")}},_n=new ts;function Oo(s,r){navigator.storage&&navigator.storage.persist&&navigator.storage.persist().then(o=>{console.log("requestPersistPermission =",o),o&&s&&!r&&jt("Your browser says it will persist your local file edits, but you may want to back up your work anyway.")})}function Ll(){return Li?Li.title||Li.name||he.mainPath||"ROM":he.mainPath||"ROM"}async function Pl(){var s=new so(re);return ti?(console.log("using electron with local filesystem",alternateLocalFilesystem),new $n(s,alternateLocalFilesystem)):Q.localfs!=null?new $n(s,await $l(Q.localfs)):new $n(s,new lo(Xt))}async function Il(){var s=await Pl(),r=Rl();he=new uo(r,re,D,s),he.remoteTool=Q.tool||null,me=new co($("#workspace")[0],he),he.callbackBuildResult=o=>{Kl(o)},he.callbackBuildStatus=o=>{Fl(o)},window.worker=r}function Fl(s){s?ei.addClass("is-busy"):ei.removeClass("is-busy"),$("#compile_spinner").css("visibility",s?"visible":"hidden")}function No(s,r){var o=document.createElement("li"),f=document.createElement("a");return f.setAttribute("class","dropdown-item"),f.setAttribute("href","#"),f.setAttribute("data-wndid",s),s==me.getActiveID()&&$(f).addClass("dropdown-item-checked"),f.appendChild(document.createTextNode(r)),o.appendChild(f),{li:o,a:f}}function ii(){var s=$("#windowMenuList").empty(),r=!1;function o(L,q,ae){r&&(s.append(document.createElement("hr")),r=!1);let{li:Ie,a:z}=No(L,q);if(s.append(Ie),ae){var W=(Y,xe)=>{s.find("a").removeClass("dropdown-item-checked"),$(z).addClass("dropdown-item-checked")};me.setCreateFunc(L,ae),me.setShowFunc(L,W),$(z).click(Y=>{me.createOrShow(L),Ii=L})}}function f(L){var q=D.getToolForFilename(L);q=="dasm"&&L.endsWith(".h")&&tt().endsWith(".c")&&(q="cc65");var ae=q&&kl[q];return new Vn(L,ae)}function h(L){o(L,Ft(L),()=>{var q=he.getFile(L);if(typeof q=="string")return f(L);if(q instanceof Uint8Array)return new vo(L,q)})}h(he.mainPath),he.iterateFiles((L,q)=>{q&&L!=he.mainPath&&h(L)}),r=!0;var _=he.getListings();if(_)for(var C in _){var P=_[C];(P.assemblyfile&&P.assemblyfile.text||P.sourcefile&&P.sourcefile.text||P.text)&&o(C,Ft(C),L=>new go(L))}r=!0}function Ml(s,r){if(r){var o=Q.highlight.split(","),f=parseInt(o[0])-1,h=parseInt(o[1])-1,_=me.createOrShow(s);_.highlightLines(f,h)}}function rs(s){ii(),me.createOrShow(s),he.setMainFile(s),Ml(s,Q.highlight)}async function Ol(s){he.mainPath=s,_n.setLastPreset(s);var r=await he.loadFiles([s]);if(r&&r.length)rs(s);else{var o=await Nl(s);he.filedata[s]=o||`
`,rs(s),Q.newfile?Oo(!0,!0):jt('Could not find file "'+s+'". Loading default file.'),delete Q.newfile,Wi()}}function Wo(s){if(s=="/")Q={repo:"/"};else if(s.indexOf("://")>=0){var r=Gn(s);r&&(Q={repo:r.repopath})}else Q.platform=re,Q.file=s;Yr()}async function Nl(s){var r=D.getToolForFilename(s);try{return await $.get("presets/"+Mt(re)+"/skeleton."+r,"text")}catch(o){ve("Could not load skeleton for "+re+"/"+r+"; using blank file")}}function Ho(s){return s.indexOf(" ")>=0?(ve("No spaces in filenames, please."),!1):!0}function Fi(){setTimeout(()=>{let s=document.querySelector(".bootbox.modal");s&&(s.removeAttribute("aria-hidden"),s.setAttribute("aria-hidden","false"),console.log("Fixed modal aria-hidden attribute"))},100)}function Wl(s){return bootbox.prompt({title:"Enter the name of your new main source file.",placeholder:"newfile"+D.getDefaultExtension(),callback:r=>{if(r&&r.trim().length>0){if(!Ho(r))return;r.indexOf(".")<0&&(r+=D.getDefaultExtension());var o=r;At("workspace","file","new"),Q.newfile="1",Wo(o)}}}),Fi(),!0}function Hl(s){let r=$('<input type="file" multiple accept="*" style="display:none">'),o=r[0];r.change(f=>{Ul(o.files)}),r.click()}function Ul(s){console.log(s);var r=0;function o(){var f=s[r++];if(!f)console.log("Done uploading",r),r>2?(jt("Files uploaded."),setTimeout(oi,1e3)):(Q.file=s[0].name,bootbox.confirm({message:"Open '"+bn.sanitize(Q.file)+"' as main project file?",buttons:{confirm:{label:"Open As New Project"},cancel:{label:"Include/Link With Project Later"}},callback:C=>{C?Yr():setTimeout(oi,1e3)}})),At("workspace","file","upload");else{var h=f.name,_=new FileReader;_.onload=function(C){var P=C.target.result,L=new Uint8Array(P);mn(h,L)||(L=wi(L).replace(`\r
`,`
`)),me.updateFile(h,L),console.log("Uploaded "+h+" "+L.length+" bytes"),o()},_.readAsArrayBuffer(f)}}s&&o()}async function jl(s){var r=window.showDirectoryPicker;r||ve("This browser can't open local files on your computer, yet. Try Chrome.");var o=await r(),f=o.name,h="__localfs__"+f,_={handle:o},C=Po.createInstance({name:h,version:2});await C.setItem(h,_),Q={localfs:f},Yr(!0)}async function Bl(s){return new Promise((r,o)=>{bootbox.prompt(bn.sanitize(s),f=>{r(f)})}).then(r=>(Fi(),r))}async function $l(s){let r={mode:"readwrite"};var o="__localfs__"+s,f=Po.createInstance({name:o,version:2}),h=await f.getItem(o),_=h.handle;console.log(h,_);var C=await _.queryPermission(r);if(console.log(C),C!=="granted"&&(await Bl("Request permissions to access filesystem?"),C=await _.requestPermission(r)),C!=="granted"){ve("Could not get permission to access filesystem.");return}return{getFileData:async P=>{console.log("getFileData",P);let L=await _.getFileHandle(P,{create:!1});console.log("getFileData",L);let q=await L.getFile();console.log("getFileData",q);let ae=await(mn(P)?q.binary():q.text());return console.log(L,q,ae),ae},setFileData:async(P,L)=>{}}}function tt(){return Ft(he.mainPath)}function To(){return Ft(me.getActiveID())}function Gl(s){var r=me.getActive();if(r&&r.setText){var o=me.getActiveID();$.get("presets/"+Mt(re)+"/"+o,f=>{bootbox.confirm("Reset '"+bn.sanitize(o)+"' to default?",h=>{h&&r.setText(f)})},"text").fail(()=>{qe?ve("Can only revert built-in examples. If you want to revert all files, You can pull from the repository."):ve("Can only revert built-in examples.")})}else ve("Cannot revert the active window. Please choose a text file.")}function zl(s){var r=me.getActive();if(r&&r.getPath){var o=me.getActiveID();bootbox.confirm("Delete '"+bn.sanitize(o)+"'?",f=>{f&&Xt.removeItem(o).then(()=>{Q.file==o?(_n.unsetLastPreset(),Yr()):(oi(),jt("Deleted "+o))})})}else ve("Cannot delete the active window.")}function Vl(s){var r=me.getActive();if(r&&r.getPath&&he.getFile(r.getPath())){var o=me.getActiveID();bootbox.prompt({title:"Rename '"+bn.sanitize(o)+"' to?",value:o,callback:f=>{var h=he.getFile(r.getPath());if(f&&f!=o&&h){if(!Ho(f))return;Xt.removeItem(o).then(()=>Xt.setItem(f,h)).then(()=>{oi(),alert("Renamed "+o+" to "+f),o==he.mainPath&&Wo(f)})}}}),Fi()}else ve("Cannot rename the active window.")}function ql(s){let r={},o,f=D.getPresets?D.getPresets():[];for(var h=0;h<f.length;h++){var _=f[h],C=_.chapter?_.chapter+". "+_.name:_.name,P=_.id==he.mainPath;_.category?o=$("<optgroup />").attr("label","Examples: "+_.category).appendTo(s):o||(o=$("<optgroup />").attr("label","Examples").appendTo(s)),o.append($("<option />").val(_.id).text(C).attr("selected",P?"selected":null)),P&&(Li=_),r[_.id]=C}return r}function Yl(s){if(lr&&!ti){var r=0,o=Pn();if(o){let h=$("<optgroup />").attr("label","Repositories").appendTo(s);for(let _ in o){var f=o[_];f.platform_id&&Mt(f.platform_id)==Mt(re)&&h.append($("<option />").val(f.url).text(f.url.substring(f.url.indexOf("/"))))}}}}async function ns(s,r,o,f){let h=await Xt.keys();h||(h=[]);let _;for(var C=0;C<h.length;C++){let P=h[C];if(P.startsWith(o)&&!f[P]){_||(_=$("<optgroup />").attr("label",r).appendTo(s));let L=P.substring(o.length);_.append($("<option />").val(P).text(L).attr("selected",P==he.mainPath?"selected":null))}}}function is(s){s.css("visibility","visible");var r=he.mainPath;s.val()!=r&&s.append($("<option />").val(r).text(r).attr("selected","selected"))}async function oi(){var s=$("#preset_select").empty();if(qe)s.append($("<option />").val("/").text("Leave Repository")),$("#repo_name").text(Ft(qe)+"/").show(),await ns(s,qe,"",{}),is(s);else{Yl(s);var r=ql(s);await ns(s,"Local Files","",r),is(s)}s.off("change").change(function(o){Wo($(this).val().toString())})}function Xl(s){var r=$("<p/>");if(s.path!=null){var o=s.line?s.label?`(${s.path} @ ${s.label})`:`(${s.path}:${s.line})`:`(${s.path})`,f=$("<a/>").text(o),h=s.path;h==tt()&&(h=he.mainPath),me.isWindow(h)&&f.click(_=>{var C=me.createOrShow(h);C instanceof Vn&&C.setCurrentLine(s,!0)}),r.append(f),r.append("&nbsp;")}return r.append($("<span/>").text(s.msg)),r}function os(){$("#error_alert").hide(),Mo=!1}function Uo(s,r){var o=$("#error_alert_msg").empty();for(var f of s.slice(0,10))o.append(Xl(f));$("#error_alert").show(),Mo=r,$("#error_alert").attr("tabindex","-1"),$("#error_alert").css("outline","none"),setTimeout(()=>{let h=document.querySelector(".CodeMirror textarea");h&&h.focus()},100)}function as(s,r){if(r!=null){var o={msg:r,line:0};s instanceof io&&s.$loc&&(o=Object.create(s.$loc),o.msg=r,console.log(o)),Uo([o],!0)}}async function Kl(s){if("errors"in s&&s.errors.length>0)ei.addClass("has-errors"),me.setErrors(s.errors),ii(),Uo(s.errors,!1),At("compile","error",re,s.errors.length.toString());else{if(ei.removeClass("has-errors"),me.setErrors(null),os(),s==null||"unchanged"in s&&s.unchanged||!("output"in s))return;D.debugSymbols=new na(s.symbolmap,s.debuginfo),Ri=s.params;var r=s.output;if(r!=null)try{Fn(),ds(),await D.loadROM(Ll(),r),wn=r,Fo||Fr(),ju(),At("compile","success",re,r.length.toString())}catch(o){console.log(o),ei.addClass("has-errors"),as(o,o+""),wn=null,ii();return}ii(),me.refresh(!1)}}async function Ql(){if(D.loadBIOS){var s=re+".rom",r=await Xt.getItem(s);r instanceof Uint8Array?(console.log("loading BIOS",s,r.length+" bytes"),D.loadBIOS(s,r)):console.log("BIOS file must be binary",s)}}function ss(){var s=$("#mem_info");s.hide(),ri=null}function ai(s){if(!!ia(D)){var r=$("#mem_info"),o=$("#mem_info_msg"),f=D.getDebugCategories();f&&!ni&&(ni=f[0]);var h=s&&D.getDebugInfo(ni,s);if(typeof h=="string"){var _=ri?Jo(ri,h):h;r.show(),o.html(_);var C=$('<div class="mem_info_links">'),P=q=>{var ae=$("<a>"+q+"</a>");q==ni&&ae.addClass("selected"),ae.click(Ie=>{ni=q,ri=null,ai(Pr)}),C.append(ae),C.append("<span> </span>")};for(var L of f)P(L);o.append("<br>"),o.append(C),ri=h}else ss()}}function Mi(s,r){$("#debug_bar, #run_bar").find("button").removeClass("btn_active").removeClass("btn_stopped"),$("#dbg_"+s).addClass("btn_"+r)}function jo(){return D&&wn!=null}function ur(){return jo()?!0:(ve("Can't do this until build successfully completes."),!1)}function Zl(s){if(Ii&&Ii.startsWith("#")||["toline","restart","tovsync","stepover"].includes(Ja)||!D.disassemble)return;let r=he.getListings(),o="#disasm",f=256;if(r){let h=s.c?s.c.EPC||s.c.PC:0;for(let _ in r){let C=r[_],P=C.assemblyfile||C.sourcefile,L=he.filename2path[_]||_;if(P==C.sourcefile&&(L=me.findWindowWithFilePrefix(_)),me.isWindow(L)){let q=P&&P.findLineForOffset(h,Si);if(q){let ae=P.lines[q.line+1];if(!ae||h<ae.offset){let Ie=h-q.offset;Ie<f&&(o=L,f=Ie)}}}}}me.createOrShow(o,!0)}function Oi(s){Pr=s,ai(s),Zl(s),me.refresh(!0),Pi=!0}function ls(s){D.setupDebug&&(D.setupDebug((r,o)=>{Oi(r),Mi(s||"pause","stopped"),o&&Uo([{msg:"STOPPED: "+o,line:0}],!0)}),Ja=s)}function yr(s){!ur()||($o(),ls(s),s&&Mi(s,"active"))}function Kr(){D&&D.isRunning()&&(D.pause(),console.log("Paused")),Mi("pause","stopped")}function Jl(){!ur()||(Fn(),Kr(),Fo=!0)}function Fr(){D.isRunning()||(D.resume(),console.log("Resumed")),Mi("go","active"),Mo&&os()}function us(){!ur()||(Fn(),D.isRunning()||me.refresh(!1),Fr(),Fo=!1,Ii=null)}function eu(){!ur()||(yr("step"),D.step())}function tu(){!ur()||(yr("stepover"),D.stepOver())}function ru(){!ur()||(yr("tovsync"),D.runToVsync())}function fs(){var s=me.getActive();return s&&s.getCursorPC&&s.getCursorPC()}function qn(s){!ur()||!(s>=0)||(yr("toline"),console.log("Run to",s.toString(16)),D.runToPC?D.runToPC(s):D.runEval(r=>r.PC==s))}function nu(){D.restartAtPC(fs())?us():ve("Could not restart program at selected line.")}function iu(){qn(fs())}function ou(){!ur()||(yr("stepout"),D.runUntilReturn())}function au(){!ur()||(yr("stepback"),D.stepBack())}function Fn(){Pr=null,D.clearDebug&&D.clearDebug(),ls(),ai()}function Bo(){D.reset(),ds()}function su(){!ur()||(Fn(),Bo(),Fr())}function lu(){if(!!ur()){var s=In;$o(),D.setupDebug&&D.runEval?(Fn(),Fr(),Bo(),yr("restart"),D.runEval(r=>!0)):(Bo(),Fr()),s&&hs()}}function uu(){var s=$("#debugExprModal"),r=$("#debugExprSubmit");$("#debugExprInput").val(es),$("#debugExprExamples").text(fu()),s.modal("show"),r.off("click").on("click",()=>{var o=$("#debugExprInput").val()+"";s.modal("hide"),cu(o)})}function fu(){var s=D.saveState&&D.saveState(),r=s.c;console.log(r,s);var o="";return r.PC&&(o+="c.PC == 0x"+vr(r.PC)+`
`),r.SP&&(o+="c.SP < 0x"+vr(r.SP)+`
`),r.HL&&(o+=`c.HL == 0x4000
`),D.readAddress&&(o+=`this.readAddress(0x1234) == 0x0
`),D.readVRAMAddress&&(o+=`this.readVRAMAddress(0x1234) != 0x80
`),D.getRasterScanline&&(o+=`this.getRasterScanline() > 222
`),o}function cu(s){var r=new Function("c","return ("+s+");").bind(D);yr(),D.runEval(r),es=s}function cs(){D.isRunning()?(me.tick(),Pi=!1):Pi||(me.tick(),Pi=!0),setTimeout(cs,100)}function si(s){D.setFrameRate(s),s>.01?$("#fps_label").text(s.toFixed(2)):$("#fps_label").text("1/"+Math.round(1/s))}function du(){var s=D.getFrameRate();s=s/2,s>1e-5&&si(s)}function hu(){var s=D.getFrameRate();s=Math.min(60,s*2),si(s)}function pu(){si(60/65536)}function mu(){Fr(),si(60)}function gu(){me.refresh(!1);var s=me.getActive();if(s.getSourceFile&&s.setTimingResult){var r=D.newCodeAnalyzer();r.showLoopTimingForPC(0),s.setTimingResult(r)}}function $o(){In&&(D.setRecorder(null),$("#dbg_record").removeClass("btn_recording"),$("#replaydiv").hide(),ss(),In=!1)}function ds(){In&&Lt.reset()}function hs(){Lt.reset(),D.setRecorder(Lt),$("#dbg_record").addClass("btn_recording"),$("#replaydiv").show(),In=!0}function vu(){In?$o():hs()}function Mr(s,r,o){var f=me.getActive();f&&f.insertText?(bootbox.prompt({title:"Add "+bn.sanitize(s)+" File to Project",value:"filename"+bn.sanitize(r),callback:h=>{if(h&&h.trim().length>0){if(!Ho(h))return;var _=h,C=`
`+o(h)+`
`;he.loadFiles([_]).then(P=>{P&&P.length?ve(h+" already exists; including anyway"):he.updateFile(_,`
`),f.insertText(C),ii()})}}}),Fi()):ve("Can't insert text in this window -- switch back to main file")}function yu(){var s=tt(),r=D.getToolForFilename(s);s.endsWith(".c")||r=="sdcc"||r=="cc65"||r=="cmoc"||r=="smlrc"?Mr("Header",".h",o=>'#include "'+o+'"'):r=="dasm"||r=="zmac"?Mr("Include",".inc",o=>'	include "'+o+'"'):r=="ca65"||r=="sdasz80"||r=="vasm"||r=="armips"?Mr("Include",".inc",o=>'	.include "'+o+'"'):r=="verilator"?Mr("Verilog",".v",o=>'`include "'+o+'"'):r=="wiz"?Mr("Include",".wiz",o=>'import "'+o+'";'):r=="ecs"?Mr("Include",".ecs",o=>'import "'+o+'"'):r=="acme"?Mr("Include",".acme",o=>'!src "'+o+'"'):ve("Can't add include file to this project type ("+r+")")}function bu(){var s=tt(),r=D.getToolForFilename(s);s.endsWith(".c")||r=="sdcc"||r=="cc65"||r=="cmoc"||r=="smlrc"?Mr("Linked C (or .s)",".c",o=>'//#link "'+o+'"'):s.endsWith("asm")||s.endsWith(".s")||r=="ca65"||r=="lwasm"?Mr("Linked ASM",".inc",o=>';#link "'+o+'"'):ve("Can't add linked file to this project type ("+r+")")}function ps(){Ot=!Ot,Al(Ot),window.autoCompileEnabled=Ot,ms(),console.log("Auto-compile",Ot?"enabled":"disabled")}function wu(){he&&he.mainPath&&(console.log("Manual build and run triggered"),window.isManualCompilation=!0,he.sendBuild(),setTimeout(()=>{window.isManualCompilation=!1},1e3))}function ms(){let s=document.getElementById("auto_compile_checkbox"),r=document.getElementById("auto_compile_toggle"),o=document.getElementById("manual_build_btn"),f=document.getElementById("auto_compile_status");s&&(s.checked=!!Ot),r&&r.setAttribute("title",Ot?"Auto-Compile Enabled (Ctrl+Alt+C)":"Auto-Compile Disabled (Ctrl+Alt+C)"),f&&(Ot?(f.textContent="Auto-Compile: ON",f.style.color="#5cb85c"):(f.textContent="Auto-Compile: OFF",f.style.color="#b0b0b0")),o&&(Ot?o.style.display="none":o.style.display="inline-block")}function _u(){je=new oa($("#toolbar")[0],null),je.grp.prop("id","run_bar"),je.add("ctrl+alt+r","Reset","glyphicon-refresh",su).prop("id","dbg_reset"),je.add("ctrl+alt+,","Pause","glyphicon-pause",Jl).prop("id","dbg_pause"),je.add("ctrl+alt+.","Resume","glyphicon-play",us).prop("id","dbg_go"),D.restartAtPC&&je.add("ctrl+alt+/","Restart at Cursor","glyphicon-play-circle",nu).prop("id","dbg_restartatline"),je.newGroup(),je.grp.prop("id","compile_bar"),je.add("ctrl+alt+c","Toggle Auto-Compile",null,ps);let s=$('<span id="auto_compile_toggle" class="auto-compile-switch" />').appendTo(je.grp),r=$('<label class="switch" />').appendTo(s),o=$('<input type="checkbox" id="auto_compile_checkbox" />').appendTo(r),f=$('<span class="slider round"></span>').appendTo(r);if(o.on("change",()=>{ps()}),$('<span class="auto-compile-status">Auto-Compile: ON</span>').appendTo(je.grp).prop("id","auto_compile_status"),je.add("ctrl+alt+m","Build and Run","glyphicon-play",wu).prop("id","manual_build_btn"),je.newGroup(),je.grp.prop("id","debug_bar"),D.runEval&&je.add("ctrl+alt+e","Reset and Debug","glyphicon-fast-backward",lu).prop("id","dbg_restart"),D.stepBack&&je.add("ctrl+alt+b","Step Backwards","glyphicon-step-backward",au).prop("id","dbg_stepback"),D.step&&je.add("ctrl+alt+s","Single Step","glyphicon-step-forward",eu).prop("id","dbg_step"),D.stepOver&&je.add("ctrl+alt+t","Step Over","glyphicon-hand-right",tu).prop("id","dbg_stepover"),D.runUntilReturn&&je.add("ctrl+alt+o","Step Out of Subroutine","glyphicon-hand-up",ou).prop("id","dbg_stepout"),D.runToVsync&&je.add("ctrl+alt+n","Next Frame/Interrupt","glyphicon-forward",ru).prop("id","dbg_tovsync"),(D.runEval||D.runToPC)&&!re.startsWith("verilog")&&je.add("ctrl+alt+l","Run To Line","glyphicon-save",iu).prop("id","dbg_toline"),je.newGroup(),je.grp.prop("id","xtra_bar"),ms(),$(".dropdown-menu").collapse({toggle:!1}),$("#item_new_file").click(Wl),$("#item_upload_file").click(Hl),$("#item_open_directory").click(jl),$("#item_github_login").click(wa),$("#item_github_logout").click(_a),$("#item_github_import").click(Ea),$("#item_github_publish").click(xa),$("#item_github_push").click(Ta),$("#item_github_pull").click(Sa),$("#item_repo_delete").click(Aa),$("#item_share_file").click(ka),$("#item_reset_file").click(Gl),$("#item_rename_file").click(Vl),$("#item_delete_file").click(zl),D.runEval?$("#item_debug_expr").click(uu).show():$("#item_debug_expr").hide(),$("#item_download_rom").click(Eo),$("#item_download_file").click(Ra),$("#item_download_zip").click(Pa),D.getDebugSymbolFile?$("#item_download_sym").click(Ia):$("#item_download_sym").hide(),$("#item_download_allzip").click(Fa),$("#item_record_video").click(Ma),_o()?$("#item_export_cassette").click(Da):$("#item_export_cassette").hide(),D.setFrameRate&&D.getFrameRate&&($("#dbg_slower").click(du),$("#dbg_faster").click(hu),$("#dbg_slowest").click(pu),$("#dbg_fastest").click(mu)),$("#item_addfile_include").click(yu),$("#item_addfile_link").click(bu),$("#item_request_persist").click(()=>Oo(!0,!1)),cs(),D.newCodeAnalyzer&&je.add(null,"Analyze CPU Timing","glyphicon-time",gu),D.setRecorder&&D.advance&&Eu(),D.showHelp){let{li:P,a:L}=No("help__"+re,Io+" Help");$("#help_menu").append(P),$(L).click(()=>window.open(D.showHelp(),"_8bws_help"))}let _=D.getToolForFilename(tt()),C=Dl[_];if(C){let{li:P,a:L}=No("help__"+_,_+" Help");$("#help_menu").append(P),$(L).click(()=>window.open(C,"_8bws_help"))}}function Eu(){var s=$("#replayslider"),r=$("#clockslider"),o=$("#replay_frame"),f=$("#replay_clock");D.advanceFrameClock||$("#clockdiv").hide();var h=()=>{o.text(Lt.lastSeekFrame+""),f.text(Lt.lastSeekStep+"")},_=L=>{Kr();var q=parseInt(s.val().toString()),ae=parseInt(r.val().toString());Lt.loadFrame(q,ae)>=0&&(r.attr("min",0),r.attr("max",Lt.lastStepCount),h(),Oi(D.saveState()))},C=L=>{Kr(),Lt.loadFrame(L)>=0&&(s.val(L),h(),Oi(D.saveState()))},P=L=>{Kr();var q=parseInt(s.val().toString());Lt.loadFrame(q,L)>=0&&(r.val(L),h(),Oi(D.saveState()))};Lt.callbackStateChanged=()=>{s.attr("min",0),s.attr("max",Lt.numFrames()),s.val(Lt.currentFrame()),r.val(Lt.currentStep()),h(),ai(D.saveState())},s.on("input",_),r.on("input",_),$("#replay_min").click(()=>{C(1)}),$("#replay_max").click(()=>{C(Lt.numFrames())}),$("#replay_back").click(()=>{C(parseInt(s.val().toString())-1)}),$("#replay_fwd").click(()=>{C(parseInt(s.val().toString())+1)}),$("#clock_back").click(()=>{P(parseInt(r.val().toString())-1)}),$("#clock_fwd").click(()=>{P(parseInt(r.val().toString())+1)}),$("#replay_bar").show(),je.add("ctrl+alt+0","Start/Stop Replay Recording","glyphicon-record",vu).prop("id","dbg_record")}function xu(){try{var s=window.screen.orientation||window.screen.msOrientation||window.screen.mozOrientation||null;if(s){if(s.type.indexOf("landscape")!==-1)return!0;if(s.type.indexOf("portrait")!==-1)return!1}if("orientation"in window){var r=window.orientation;if(r===0||r===180)return!1;if(r===90||r===270)return!0}}catch(o){}return window.innerWidth>window.innerHeight}async function Tu(){if(_n.shouldCompleteTour()){await qt("lib/bootstrap-tourist.js");var s=re.startsWith("vcs"),r=[{element:"#platformsMenuButton",placement:"right",title:"Platform Selector",content:`You're currently on the "<b>`+re+'</b>" platform. You can choose a different one from the menu.'},{element:"#preset_select",title:"Project Selector",content:"You can choose different code examples, create your own files, or import projects from GitHub."},{element:"#workspace",title:"Code Editor",content:s?"Type your 6502 assembly code into the editor, and it'll be assembled in real-time.":"Type your source code into the editor, and it'll be compiled in real-time."},{element:"#emulator",placement:"left",title:"Emulator",content:"We'll load your compiled code into the emulator whenever you make changes."},{element:"#debug_bar",placement:"bottom",title:"Debug Tools",content:"Use these buttons to set breakpoints, single step through code, pause/resume, and use debugging tools."},{element:"#dropdownMenuButton",title:"Main Menu",content:"Click the menu to create new files, download your code, or share your work with others."},{element:"#sidebar",title:"Sidebar",content:"Pull right to expose the sidebar. It lets you switch between source files, view assembly listings, and use other tools like Disassembler, Memory Browser, and Asset Editor."}];xu()||r.unshift({element:"#controls_top",placement:"bottom",title:"Portrait mode detected",content:"This site works best on desktop browsers. For best results, rotate your device to landscape orientation."}),window.location.host.endsWith("8bitworkshop.com")&&(r.unshift({element:"#dropdownMenuButton",placement:"right",title:"Cookie Consent",content:'Before we start, we should tell you that this website stores cookies and other data in your browser. You can review our <a href="/privacy.html" target="_new">privacy policy</a>.'}),r.push({element:"#booksMenuButton",placement:"left",title:"Books",content:"Get some books that explain how to program all of this stuff, and write some games!"})),ti&&(r.unshift({element:"#dropdownMenuButton",placement:"right",title:"Developer Analytics",content:"BTW, we send stack traces to sentry.io when exceptions are thrown. Hope that's ok."}),r.unshift({element:"#dropdownMenuButton",placement:"right",title:"Welcome to 8bitworkshop Desktop!",content:'The directory "~/8bitworkshop" contains all of your file edits and built ROM images. You can create new projects under the platform directories (e.g. "c64/myproject")'}));var o=new Tour({autoscroll:!1,steps:r,onEnd:()=>{_n.completedTour()}});setTimeout(()=>{o.start()},2500)}}function Ni(s){var r=(s.message||s.error||s)+"";if(r.indexOf("QuotaExceededError")>=0)Oo(!1,!1);else{var o=s.error||s.reason;o!=null&&o instanceof io&&gs(o)}}function gs(s){console.log("haltEmulation"),Kr(),Hu(s)}function Su(){window.addEventListener("error",Ni),window.addEventListener("unhandledrejection",Ni)}function vs(){window.removeEventListener("error",Ni),window.removeEventListener("unhandledrejection",Ni)}function Yr(s,r){r&&(Q=r),vs(),s?window.location.replace("?"+$.param(Q)):window.location.href="?"+$.param(Q)}function Wi(){re&&(Q.platform=re),delete Q[""],history.replaceState({},"","?"+$.param(Q))}function Cu(){var s=!1;document.addEventListener("visibilitychange",()=>{document.visibilityState=="hidden"&&D&&D.isRunning()?(Kr(),s=!0):document.visibilityState=="visible"&&s&&(Fr(),s=!1)}),$(window).on("focus",()=>{s&&(Fr(),s=!1)}),$(window).on("blur",()=>{D&&D.isRunning()&&(Kr(),s=!0)}),$(window).on("orientationchange",()=>{D&&D.resize&&setTimeout(D.resize.bind(D),200)})}function Au(){var s=$(document).find(".emucontrols-"+gn(re));re.endsWith(".mame")&&s.show();var r=$("#emulator").find("canvas");r&&(r.on("focus",()=>{D.isRunning()&&(s.fadeIn(200),D.pause(),D.resume())}),r.on("blur",()=>{s.fadeOut(200)}))}function ku(){window.ga&&($(".dropdown-item").click(s=>{s.target&&s.target.id&&At("menu",s.target.id)}),ba(location.pathname+"?platform="+re+(qe?"&repo="+qe:"&file="+Q.file)))}async function Du(){if(!no[re])throw Error("Invalid platform '"+re+"'.");let s=$("#emuscreen")[0],r=ro(Q.options||"");D=new no[re](s,r),Mu(),Lt=new aa(D);let o=D.getPresets?D.getPresets():[];if(!Q.file){var f=_n.getLastPreset(),h=f||(qe?null:o[0].id);Q.file=h||"DEFAULT",h||ve("There is no default main file for this project. Try selecting one from the pulldown.")}re=="vcs"&&Q.file.startsWith("examples/")&&!Q.file.endsWith(".a")&&(Q.file+=".a"),Wi(),Su(),ku(),At("platform","select",re),await D.start(),await Ql(),await Il(),await Ol(Q.file),D.sourceFileFetch=_=>he.filedata[_],Ot=Cl(),window.autoCompileEnabled=Ot,console.log("Auto-compile state loaded from cookie:",Ot?"enabled":"disabled"),_u(),Cu(),Au(),Nt?Ru():(oi(),Lu(),Tu()),ys()}function Ru(){$("#dropdownMenuButton").hide(),$("#platformsMenuButton").hide(),$("#booksMenuButton").hide()}function Lu(){gn(re)=="nes"?$(".book-nes").addClass("book-active"):gn(re)=="vcs"?$(".book-vcs").addClass("book-active"):gn(re)=="verilog"?$(".book-verilog").addClass("book-active"):gn(re)=="c64"?$(".book-c64").addClass("book-active"):D.getToolForFilename(tt())=="sdcc"&&$(".book-arcade").addClass("book-active")}function ys(){setTimeout(()=>{$("#controls_dynamic").css("visibility","inherit")},250)}function Pu(){var s="workspace-split3-"+re;Nt&&(s="embed-"+s);var r;re.startsWith("vcs")?r=[0,50,50]:Nt||zn?r=[0,55,45]:r=[12,44,44];var o=lr&&localStorage.getItem(s);if(o)try{r=JSON.parse(o)}catch(h){console.log(h)}var f=Sl(["#sidebar","#workspace","#emulator"],{sizes:r,minSize:[0,250,250],onDrag:()=>{D&&D.resize&&D.resize()},onDragEnd:()=>{lr&&localStorage.setItem(s,JSON.stringify(f.getSizes())),me&&me.resize()}})}function Iu(s){let r=Rn(Q.ignore)||Nt;Ne(!0),_i(s,async o=>{if(o){var f=Ft(s);console.log("Importing "+o.length+" bytes as "+f);try{var h=await Xt.getItem(f);Ne(!1),h!=null&&r||(h==null||confirm("Replace existing file '"+f+"'?"))&&await Xt.setItem(f,o),delete Q.importURL,Q.file=f,Wi(),ws()}finally{Ne(!1)}}else ve("Could not load source code from URL: "+s),Ne(!1)},"text")}async function Fu(){var s=Rn(Q.ignore),r=Rn(Q.force);Nt?s=!r:r=!1;for(var o=0;o<20;o++){let h=Q["file"+o+"_name"],_=Q["file"+o+"_data"];if(h==null||_==null)break;var f=await Xt.getItem(h);if(!(s&&f)){let C=_;Q["file"+o+"_type"]=="binary"&&(C=yi(atob(C))),(!f||r||confirm("Replace existing file '"+h+"'?"))&&await Xt.setItem(h,C)}o==0&&(Q.file=h),delete Q["file"+o+"_name"],delete Q["file"+o+"_data"],delete Q["file"+o+"_type"]}delete Q.ignore,delete Q.force,Wi()}function Mu(){var s=D.getPlatformName&&D.getPlatformName(),r=$('a[href="?platform='+re+'"]');r.length&&(r.addClass("dropdown-item-checked"),s=s||r.text()||s),Io=s||re,$(".platform_name").text(Io)}function Ou(){if(re=Q.platform||_n.getLastPlatformID(),qe=Q.repo,!Q.repo&&!Q.file&&(qe=_n.getLastRepoID(re)),lr&&qe&&qe!=="/"){var s=Pn()[qe];s&&(console.log(re,Q,s),Q.repo=qe,s.platform_id&&!Q.platform&&(Q.platform=re=s.platform_id),s.mainPath&&!Q.file&&(Q.file=s.mainPath))}else qe="",delete Q.repo;re||(Nt&&ya("The 'platform' must be specified when embed=1"),re=Q.platform="c64")}async function bs(){if(Q.githubURL){Ci(Q.githubURL,!0);return}if(Ou(),Pu(),Xr=qe||Mt(re),Nt&&(Xr=(document.referrer||document.location.href)+Xr),Xt=xi(Xr),Q.importURL){Iu(Q.importURL);return}Q.file0_name&&await Fu(),ws()}async function ws(){try{let r=re.includes("")?re:gn(re);var s=await sa(r);console.log("starting platform",re),await Du(),document.title=document.title+" ["+re+"] - "+(qe?"["+qe+"] - ":"")+he.mainPath}catch(r){console.log(r),ve('Platform "'+re+'" failed to load.')}finally{ys()}}var Go="__use_https";function _s(s){document.cookie=Go+"="+s+";domain=8bitworkshop.com;path=/;max-age=315360000"}function Nu(){var s=Bn(Go);if(typeof s=="string")return!!s;var r=lr&&!localStorage.getItem("__lastplatform")?1:0;return _s(r),!!r}function Wu(){bootbox.confirm('<p>Do you want to force the browser to use HTTPS from now on?</p><p>WARNING: This will make all of your local files unavailable, so you should "Download All Changes" first for each platform where you have done work.</p><p>You can go back to HTTP by setting the "'+Go+'" cookie to 0.</p>',s=>{s&&(_s(1),Es())})}function Es(){window.location.protocol=="http:"&&window.location.host=="8bitworkshop.com"&&(Nu()?(vs(),window.location.replace(window.location.href.replace(/^http:/,"https:"))):$("#item_switch_https").click(Wu).show())}Es();function Wc(s,r){D.writeFile(s,r)}function Hc(s){return D.readFile(s)}function Uc(){return D.saveState()}function Hu(s){var r=s&&s.message||r;as(s,r),me.refresh(!1),D.saveState&&ai(D.saveState())}async function Uu(s){var r=he.filedata[s];r!=null&&(me.updateFile(s,await alternateLocalFilesystem.getFileData(s)),console.log("updating file",s))}function ju(){if(ti&&wn instanceof Uint8Array){var s=xt(tt()),r=D.getROMExtension&&D.getROMExtension(wn)||"-"+Mt(re)+".bin";alternateLocalFilesystem.setFileData(`bin/${s}${r}`,wn)}}function Bu(s){var r=me.getActive();if(r instanceof Vn){var o=r.editor.getSearchCursor(s);o.findNext()&&r.editor.setSelection(o.pos.to,o.pos.from)}}function $u(){let s=!1;new IntersectionObserver((o,f)=>{for(var h of o)h.isIntersecting&&!s&&(bs(),s=!0),h.intersectionRatio==0&&jo()&&D.isRunning()&&Kr(),h.intersectionRatio>0&&jo()&&!D.isRunning()&&Fr()},{}).observe($("#emulator")[0])}typeof process=="undefined"&&(Nt&&typeof IntersectionObserver=="function"?$u():bs());function Gu(){window.autoCompileEnabled=Ot,window.IDE={platform:D,platform_id:re,current_project:he,projectWindows:me,qs:Q,store_id:Xr,repo_id:qe,lastDebugState:Pr,autoCompileEnabled:Ot,getCurrentProject:br,getCurrentMainFilename:tt,getCurrentEditorFilename:To,getCurrentOutput:ot,getPlatformStore:Ir,haltEmulation:gs,gotoNewLocation:Yr,setFrameRateUI:si,setupBreakpoint:yr,runToPC:qn,clearBreakpoint:Fn,reloadWorkspaceFile:Uu,highlightSearch:Bu,_downloadROMImage:Eo,loadROM:s=>{let r=s||ot();if(!r){console.error("\u274C No compiled output available. Please compile your project first.");return}if(!(r instanceof Uint8Array)){console.error("\u274C Output is not binary data:",typeof r);return}console.log("\u2705 Loading ROM with",r.length,"bytes"),D.loadROM(tt(),r)},debugCompilation:()=>{console.log("=== DEBUGGING COMPILATION OUTPUT ===");let s=ot();if(s?(console.log("\u2705 Current output found:",s),console.log("Current output length:",s.length),s.length>0&&(console.log("First 32 bytes (hex):",Array.from(s.slice(0,32)).map(r=>r.toString(16).padStart(2,"0")).join(" ")),console.log("First 32 bytes (decimal):",Array.from(s.slice(0,32)).join(" ")))):console.log("\u274C No current output found"),typeof Ri!="undefined"?console.log("\u2705 Compilation parameters found:",Ri):console.log("\u274C No compilation parameters found"),D?(console.log("\u2705 Platform found:",D.getName?D.getName():"Unknown"),D.debugSymbols&&console.log("\u2705 Debug symbols found:",D.debugSymbols)):console.log("\u274C No platform found"),window.worker){if(console.log("\u2705 Worker found"),window.worker.store){console.log("\u2705 Store found");let r=Object.keys(window.worker.store.workfs||{});console.log("Files in virtual file system:",r);for(let o of r){let f=window.worker.store.workfs[o];if(console.log(`File: ${o} (${f.data.length} bytes)`),f.data.length>0){let h=Array.from(f.data.slice(0,16));console.log(`  First 16 bytes: ${h.map(_=>_.toString(16).padStart(2,"0")).join(" ")}`)}}}}else console.log("\u274C No worker found")}},console.log("IDE variables exposed globally. Access via window.IDE"),console.log("Use window.IDE.loadROM() to load the current compiled output"),console.log("Use window.IDE.debugCompilation() to debug compilation output")}setTimeout(Gu,1e3);export{ga as a,Q as b,re as c,Xr as d,qe as e,D as f,he as g,me as h,Pr as i,Ir as j,br as k,ot as l,yo as m,tt as n,To as o,yr as p,qn as q,Fn as r,si as s,gs as t,Yr as u,Pu as v,Ou as w,bs as x,Wc as y,Hc as z,Uc as A,Hu as B,Uu as C,Bu as D};
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */
//# sourceMappingURL=chunk-V6OO7QEH.js.map
